var SearchMosaicHeader=function(container){var header_title,header_subtitle,icon_loading,INSTANCE=new VSModule;function toggleArtistFollowButton(is_selected){var button=$('button[data-action="follow"]',header_title),button_label=$(".label",button),artist_name=button.attr("data-artist");is_selected?(button.attr("title","Unfollow "+artist_name+"..."),button_label.html("Following"),button.addClass("selected")):(button.attr("title","Follow "+artist_name+" to create a newsfeed of their recent images..."),button_label.html("Follow"),button.removeClass("selected"))}function toggleArtistFollow(){var button=$('button[data-action="follow"]',header_title),button_label=$(".label",button),artist_name=button.attr("data-artist"),is_selected=!button.hasClass("selected");is_selected?VectorStock.addToFollowing(artist_name,function(response){response.success||(button.removeClass("selected"),button_label.html("Follow"),response.message&&"max_following_reached"==response.message&&alert("Could not follow artist - limit reached"+(response.following?" ("+response.following+")":"")))}):VectorStock.removeFromFollowing(artist_name),toggleArtistFollowButton(is_selected)}function toggleArtistHideButton(is_selected){var button=$('button[data-action="hide"]',header_title),button_label=$(".label",button),artist_name=button.attr("data-artist");is_selected?(button.attr("title","Unhide "+artist_name+"..."),button_label.html("Hidden"),button.addClass("selected")):(button.attr("title","Hide "+artist_name+" to exclude their images in search results..."),button_label.html("Hide"),button.removeClass("selected"))}function toggleArtistHide(){var button=$('button[data-action="hide"]',header_title),button_label=$(".label",button),artist_name=button.attr("data-artist"),is_selected=!button.hasClass("selected");is_selected?VectorStock.addToNotFollowing(artist_name,function(response){response.success||(button.removeClass("selected"),button_label.html("Hide"),response.message&&"max_notfollowing_reached"==response.message&&alert("Could not hide artist - limit reached"+(response.notfollowing?" ("+response.notfollowing+")":"")))}):VectorStock.removeFromNotFollowing(artist_name),toggleArtistHideButton(is_selected)}return INSTANCE.setLoading=function(is_loading){container.toggleClass("loading",is_loading),is_loading?(icon_loading=header_title.loadingIcon(),INSTANCE.setSubtitle("Loading results...")):icon_loading&&(icon_loading.remove(),icon_loading=null)},INSTANCE.setSearch=function(is_search){container.toggleClass("search",is_search)},INSTANCE.setNoSeparator=function(is_no_separator){container.toggleClass("noseparator",is_no_separator)},INSTANCE.setTitle=function(title){header_title.html(title)},INSTANCE.setSubtitle=function(subtitle){header_subtitle.html(subtitle)},INSTANCE.selectFollowButton=function(){toggleArtistFollowButton(!0)},INSTANCE.selectHideButton=function(){toggleArtistHideButton(!0)},INSTANCE.remove=function(){container.remove()},header_title=$("h1",container),header_subtitle=$("h2",container),header_title.on("click",'button[data-action="follow"]',toggleArtistFollow),header_title.on("click",'button[data-action="hide"]',toggleArtistHide),INSTANCE},SearchMosaicAltResults=function(container){var INSTANCE=new VSModule,HTML_ALTRESULTS='<div class="inner"><h3></h3><div class="alt_tiles"></div><a class="more">'+(VectorStock.isGerman()?"Sehen Sie sich diese Vektoren an":"View these vectors")+"&hellip;</a></div>";return INSTANCE.empty=function(){container.empty()},INSTANCE.populate=function(search_params,response){var we_have="we have ",over="over ",total_rounded=(VectorStock.isGerman()&&(we_have="wir haben ",over="Ã¼ber "),VectorStock.floorDecimal(response.hit_count)),we_have=total_rounded===response.hit_count?we_have+VectorStock.formatCommas(total_rounded):over+VectorStock.formatCommas(total_rounded);container.html(HTML_ALTRESULTS),VectorStock.isGerman()?$("h3",container).html('<a href="'+response.url+'">Mehr <em>'+search_params.getKeywords()+"</em> vektoren - "+we_have+" - in unseren Premium-Suchergebnissen &rarr;</a>"):$("h3",container).html('<a href="'+response.url+'">More <em>'+search_params.getKeywords()+"</em> vectors - "+we_have+" - in our premium search results &rarr;</a>");for(var tiles=$(".alt_tiles",container),i=0;i<response.documents.length;i++){var vector_url=VectorStock.isGerman()?VectorStock.vectorURL(response.documents[i].id,response.documents[i].title):response.documents[i].url;!function(parent,vector_id,vector_title,vector_ratio,vector_url,preview_width,preview_height){{function reveal(){var rand_delay=Math.round(1e3*Math.random());setTimeout(function(){figure.addClass("reveal")},20+rand_delay)}function reveal(){var rand_delay=Math.round(1e3*Math.random());setTimeout(function(){figure.addClass("reveal")},20+rand_delay)}var images,figure,anchor,picture,image;preview_width&&preview_height?(figure=$("<figure />").appendTo(parent),anchor=$('<a href="'+vector_url+'" />').appendTo(figure),picture=VectorStock.getPictureElement(vector_id,vector_title,!0),(image=$("img",picture)).on("load",reveal),image.on("error",function(){figure.addClass("error"),reveal()}),picture.appendTo(anchor)):(images=VectorStock.previewImagePath(vector_id,vector_title),figure=$("<figure />").appendTo(parent),anchor=$('<a href="'+vector_url+'" />').appendTo(figure),picture=$("<picture />").appendTo(anchor),$('<source type="image/webp" media="(min-width: 1047px)" srcset="'+images.webp[1]+" 2x, "+images.webp[0]+' 1.5x">').appendTo(picture),$('<source type="image/webp" srcset="'+images.webp[1]+" 3x, "+images.webp[0]+" 2x"+(images.lite?", "+images.lite+' 1x">':'">')).appendTo(picture),$('<source type="image/jpeg" media="(min-width: 1047px)" srcset="'+images.jpeg[1]+" 2x, "+images.jpeg[0]+' 1.5x">').appendTo(picture),$('<source type="image/jpeg" srcset="'+images.jpeg[1]+" 3x, "+images.jpeg[0]+' 2x">').appendTo(picture),(image=$('<img loading="lazy" src="'+images.jpeg[0]+'" width="'+Math.ceil(125*vector_ratio)+'px" alt="'+vector_title+' vector">')).on("load",reveal),image.on("error",function(){figure.addClass("error"),reveal()}),image.appendTo(picture))}}(tiles,response.documents[i].id,response.documents[i].title,response.documents[i].thumb_ratio||1,vector_url,response.documents[i].preview_width,response.documents[i].preview_height)}$("a.more",container).attr("href",response.url)},INSTANCE},SearchMosaicPagination=function(container,page_index,page_total){var but_previous,but_next,radiogroup_order,radiogroup_layout,page_control,page_position,list_pages,field_order,INSTANCE=new VSModule,MAX_PAGE_NUMBERS=5;function setPageIndex(index,suppress_event){(index=Math.min(page_total,index))==index&&index!==page_index&&(page_index=index,but_previous.prop("disabled",1===page_index),but_next.prop("disabled",page_index===page_total),page_control.length&&Number(page_control.val())!==page_index&&page_control.val(page_index),list_pages.length&&updatePageNumbers(),suppress_event||INSTANCE.dispatchEvent("navigate",[page_index]))}function onNavigatePrevious(){setPageIndex(page_index-1)}function onNavigateNext(){setPageIndex(page_index+1)}function autosizePageIndexInput(){setTimeout(function(){page_control.toggleClass("expanded",2<page_control.val().length)},10)}function onPageControlKeyPress(event){switch(event.keyCode=event.metaKey?224:event.keyCode,event.keyCode){case 16:case 17:case 18:case 224:break;case 13:var index_max,index=Number(page_control.val());isNaN(index)||(setPageIndex(index=(index_max=page_control.prop("max"))<index?index_max:index),page_control.trigger("blur")),event.preventDefault();break;default:autosizePageIndexInput()}}function onReorder(order){setPageIndex(1),INSTANCE.dispatchEvent("reorder",[order])}function onLayoutChange(layout_type){try{var now=new Date;now.setFullYear(now.getFullYear()+5),document.cookie="_vsl="+layout_type+"; path=/; expires="+now.toUTCString()+"; Secure"}catch(e){now={error:e,layout_type:layout_type,pixel_density:window.devicePixelRatio||1};VectorStock.log({source:"Search Layout",issue:"Failed to switch layout types",detail:now})}INSTANCE.dispatchEvent("layout_change",[layout_type])}function updatePageNumbers(){if(list_pages.empty(),MAX_PAGE_NUMBERS<page_total){for(var stack=[],index_from=page_index-1,index_to=page_index+1,i=(index_from<1?(index_from=1,index_to++):page_total<index_to&&(index_from--,index_to=page_total),index_from);i<=index_to;)stack.push(i),i++;1<index_from&&(2<index_from&&stack.unshift(null),stack.unshift(1)),index_to<page_total&&(index_to+1<page_total?stack.push(null):stack.push(page_total));for(var j=0;j<stack.length;j++){var value=stack[j];(list_item=$("<li />").toggleClass("selected",value==page_index)).appendTo(list_pages),value?list_item.append('<a href="#" data-index="'+value+'">'+VectorStock.formatCommas(value)+"</a>"):list_item.append("<span>&hellip;</span>")}}else for(var list_item,i=1;i<=page_total;i++)(list_item=$('<li><a href="#" data-index="'+i+'">'+VectorStock.formatCommas(i)+"</a></li>").toggleClass("selected",i==page_index)).appendTo(list_pages)}return INSTANCE.setVisible=function(is_visible){container.toggleClass("hidden",!is_visible)},INSTANCE.setPageIndex=function(index){setPageIndex(index,!0)},INSTANCE.setPageTotal=function(total){page_total=Math.min(999,total),page_control.attr("max",page_total),page_position.html("of "+VectorStock.formatCommas(page_total)),but_next.prop("disabled",page_index===page_total),list_pages.length&&updatePageNumbers()},INSTANCE.setKeywordsExist=function(is_keywords){container.attr("data-keywords",is_keywords?1:0)},INSTANCE.setSimilarSearch=function(is_similar){container.attr("data-similar",is_similar?1:0)},INSTANCE.setArtistExist=function(is_artist){container.attr("data-artist",is_artist?1:0)},INSTANCE.setOrder=function(order,suppress_bubbling){radiogroup_order&&radiogroup_order.set(order,suppress_bubbling)},but_previous=$('button[data-action="previous"]',container),but_next=$('button[data-action="next"]',container),page_control=$('.display input[name="page"]',container),page_position=$(".position",container),(field_order=$("#contents_opt_order",container)).length&&(radiogroup_order=new VectorStock.FieldRadioboxes($('ul[role="radiogroup"] li',field_order))),(field_order=$("#contents_opt_layout",container)).length&&(radiogroup_layout=new VectorStock.FieldRadioboxes($('ul[role="radiogroup"] li',field_order))),list_pages=$(".pages ul",container),but_previous.on("click",onNavigatePrevious),but_next.on("click",onNavigateNext),radiogroup_order&&radiogroup_order.on("change",onReorder),radiogroup_layout&&radiogroup_layout.on("change",onLayoutChange),page_control.length&&page_control.on("click",function(){$(this).trigger("select")}).on("keydown",onPageControlKeyPress).on("cut paste",autosizePageIndexInput),list_pages.length&&list_pages.on("click","li a",function(event){return setPageIndex($(this).data("index")),!1}),INSTANCE},SearchMosaicParameters=function(params){var INSTANCE=new VSModule,CATEGORY_TITLES={"animals-wildlife":"Animals & Wildlife","artistic-experimental":"Artistic & Experimental","backgrounds-textures":"Backgrounds & Textures","beauty-fashion":"Beauty & Fashion","borders-frames":"Borders & Frames","buildings-landmarks":"Buildings & Landmarks","business-finance":"Business & Finance","celebration-party":"Celebration & Party","children-family":"Children & Family","copy-space":"Copy-Space","dj-dance-music":"DJ-Dance Music","flags-ribbons":"Flags & Ribbons","floral-decorative":"Floral & Decorative","fonts-type":"Fonts & Type","food-drink":"Food & Drink","geographical-maps":"Geographical & Maps","graphs-charts":"Graphs & Charts","healthcare-medical":"Healthcare & Medical","icon-emblem-(single)":"Icon & Emblem (single)","icons-emblems-(sets)":"Icons & Emblems (sets)","landscapes-nature":"Landscapes & Nature","objects-still-life":"Objects & Still Life","patterns-(single)":"Patterns (single)","patterns-(seamless)":"Patterns (seamless)","photo-real":"Photo-Real","shopping-retail":"Shopping & Retail","signs-symbols":"Signs & Symbols","sports-recreation":"Sports & Recreation","t-shirt-graphics":"T-Shirt Graphics","vacation-travel":"Vacation & Travel"},artist=null,category=null,keywords=null,order=null,page=null,similar=null,scope=null,window_title=null,page_title=null,page_subtitle=null,page_url=null;function sanitiseKeywords(keywords){return keywords?keywords.replace(/[^\w\s\-]/g," ").replace(/[\s\-_]+/g," ").trim():""}function sanitiseGermanKeywords(keywords){return keywords?keywords.replace(/[^ÃÃÃáºÃ¤Ã¶Ã¼Ã\w\s\-]/g," ").replace(/[\s\-_]+/g," ").trim():""}function clearStaticParameters(){page_url=page_subtitle=page_title=window_title=null}return INSTANCE.setArtist=function(new_artist){clearStaticParameters(),artist=new_artist||null},INSTANCE.setCategory=function(new_category){clearStaticParameters(),category=new_category||null},INSTANCE.setKeywords=function(new_keywords){clearStaticParameters(),keywords=new_keywords||null},INSTANCE.setOrder=function(new_order){clearStaticParameters(),new_order=new_order||(keywords?SearchMosiacQuery.ORDER_BESTMATCH:SearchMosiacQuery.ORDER_TRENDING),order=new_order},INSTANCE.setPage=function(new_page){clearStaticParameters(),page=!isNaN(new_page)&&new_page||1},INSTANCE.setSimilar=function(new_similar){clearStaticParameters(),similar=new_similar||null},INSTANCE.setScope=function(new_scope){clearStaticParameters(),new_scope=new_scope||SearchMosiacQuery.SCOPE_ALL,scope=new_scope},INSTANCE.setURL=function(new_url){page_url=new_url},INSTANCE.setWindowTitle=function(new_window_title){window_title=new_window_title},INSTANCE.setPageTitle=function(new_page_title){page_title=new_page_title},INSTANCE.setPageSubtitle=function(new_page_subtitle){page_subtitle=new_page_subtitle},INSTANCE.getArtist=function(){return artist},INSTANCE.getCategory=function(){return category},INSTANCE.getKeywords=function(){return keywords},INSTANCE.getOrder=function(){return order},INSTANCE.getPage=function(){return page},INSTANCE.getSimilar=function(){return similar},INSTANCE.getScope=function(){return scope},INSTANCE.getID=function(){var keys=[];return artist&&keys.push("artists="+artist),category&&keys.push("categories="+category),keywords&&keys.push("keywords="+keywords),order&&keys.push("order="+order),page&&keys.push("page="+page),similar&&keys.push("similar="+similar),scope&&keys.push("scope="+scope),keys.join("&").toLowerCase()},INSTANCE.formatRequest=function(){var params={};return artist&&(params.artists=artist),category&&(params.categories=category),keywords&&(params.keywords=keywords),order&&(params.order=order),page&&(params.page=page),similar&&(params.similar=similar),scope===SearchMosiacQuery.SCOPE_FREE&&(params.scope=scope,params.type=scope),params},INSTANCE.formatObjectData=function(){var params={};return artist&&(params.artists=artist),category&&(params.categories=category),keywords&&(params.keywords=keywords),order&&(params.order=order),page&&(params.page=page),similar&&(params.similar=similar),scope&&(params.scope=scope),params},INSTANCE.getURL=function(){if(page_url)return page_url;if(VectorStock.isGerman())return function(){var url=[];return category?url[0]=category+"-vektoren":scope===SearchMosiacQuery.SCOPE_PENDING||(scope===SearchMosiacQuery.SCOPE_PURCHASED?url[0]=SearchMosiacQuery.SCOPE_PURCHASED:url[0]=scope===SearchMosiacQuery.SCOPE_ALL?"lizenzfreie-vektoren":"kostenlose-vektoren"),keywords&&(url[1]=sanitiseGermanKeywords(keywords)+"-vektoren"),artist&&(url[1]=(url[1]||"vektoren")+"-von_"+artist),similar&&(url[1]||(url[1]="vektoren"),url[1]+="-ahnlich_"+similar),(keywords&&order!==SearchMosiacQuery.ORDER_BESTMATCH||!keywords&&order!==SearchMosiacQuery.ORDER_TRENDING)&&url.push(url.pop()+"-sortieren_"+order),page&&1<page&&url.push(url.pop()+"-seite_"+page),VectorStock.formatURL("/"+url.join("/"))}();var url=[];return category?url[0]=category+"-vectors":scope===SearchMosiacQuery.SCOPE_PENDING||(scope===SearchMosiacQuery.SCOPE_PURCHASED?url[0]=SearchMosiacQuery.SCOPE_PURCHASED:url[0]=(scope===SearchMosiacQuery.SCOPE_ALL?"royalty-":"")+"free-vectors"),keywords&&(url[1]=sanitiseKeywords(keywords)+"-vectors"),artist&&(url[1]=(url[1]||"vectors")+"-by_"+artist),similar&&(url[1]||(url[1]="vectors"),url[1]+="-similar-to_"+similar),(keywords&&order!==SearchMosiacQuery.ORDER_BESTMATCH||!keywords&&order!==SearchMosiacQuery.ORDER_TRENDING)&&url.push(url.pop()+"-order_"+order),page&&1<page&&url.push(url.pop()+"-page_"+page),VectorStock.formatURL("/"+url.join("/"))},INSTANCE.getWindowTitle=function(total_results){if(window_title)return window_title;if(VectorStock.isGerman())return function(total_results){var total_results_rounded,title=scope===SearchMosiacQuery.SCOPE_ALL?"Lizenzfreie Vektorbilder":"Kostenlose Vektorbilder";return keywords&&(title=(scope===SearchMosiacQuery.SCOPE_FREE?"Kostenlose ":"")+sanitiseGermanKeywords(keywords).toTitleCase()+" Vektorbilder"),category&&(title+=" innerhalb "+(CATEGORY_TITLES[category]||category.toTitleCase())),artist&&(title+=" von "+artist),similar&&(("string"==typeof similar||similar instanceof String)&&similar.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?title+=" Ã¤hnlich dem hochgeladenen Bild":title+=" Ã¤hnlich wie #"+similar),total_results&&(title+=(total_results_rounded=VectorStock.floorDecimal(total_results))===total_results?" ("+VectorStock.formatCommas(total_results_rounded)+")":" (Ã¼ber "+VectorStock.formatCommas(total_results_rounded)+")"),page&&1<page&&(title+=" - Seite "+VectorStock.formatCommas(page)),title}(total_results);var total_results_rounded,title=(scope===SearchMosiacQuery.SCOPE_ALL?"Royalty-":"")+"Free Vector Images";return keywords&&(title=(scope===SearchMosiacQuery.SCOPE_FREE?"Free ":"")+sanitiseKeywords(keywords).toTitleCase()+" Vector Images"),category&&(title+=" within "+(CATEGORY_TITLES[category]||category.toTitleCase())),artist&&(title+=" by "+artist),similar&&(("string"==typeof similar||similar instanceof String)&&similar.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?title+=" similar to uploaded image":title+=" similar to #"+similar),total_results&&(title+=(total_results_rounded=VectorStock.floorDecimal(total_results))===total_results?" ("+VectorStock.formatCommas(total_results_rounded)+")":" (over "+VectorStock.formatCommas(total_results_rounded)+")"),page&&1<page&&(title+=" - Page "+VectorStock.formatCommas(page)),title},INSTANCE.getPageTitle=function(){if(page_title)var title=page_title;else{if(VectorStock.isGerman())return function(){var title=scope===SearchMosiacQuery.SCOPE_ALL?"Lizenzfreie Vektoren":"Kostenlose Vektoren";return artist||similar?title=(scope===SearchMosiacQuery.SCOPE_FREE?"Kostenlose ":"")+"Vektoren":keywords&&(title=(scope===SearchMosiacQuery.SCOPE_FREE?"Kostenlose ":"")+sanitiseGermanKeywords(keywords).toTitleCase()+" Vektoren"),category&&(title+=" innerhalb "+(CATEGORY_TITLES[category]||category.toTitleCase())),artist&&(title+=" von "+artist),similar&&(("string"==typeof similar||similar instanceof String)&&similar.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?title+=" Ã¤hnlich dem hochgeladenen Bild":title+=" Ã¤hnlich wie #"+similar),title=artist&&VectorStock.isLoggedIn()?(title+='<button type="button" data-action="follow" data-artist="'+artist.toLowerCase()+'" title="Follow '+artist+' to create a newsfeed of their recent images..."><span class="label">Follow</span></button>')+'<button type="button" data-action="hide" data-artist="'+artist.toLowerCase()+'" title="Hide '+artist+' to exclude their images in search results..."><span class="label">Hide</span></button>':title}();title=(scope===SearchMosiacQuery.SCOPE_ALL?"Royalty-":"")+"Free Vectors";artist||similar?title=(scope===SearchMosiacQuery.SCOPE_FREE?"Free ":"")+"Vectors":keywords&&(title=(scope===SearchMosiacQuery.SCOPE_FREE?"Free ":"")+sanitiseKeywords(keywords).toTitleCase()+" Vectors"),category&&(title+=" within "+(CATEGORY_TITLES[category]||category.toTitleCase())),artist&&(title+=" by "+artist),similar&&(("string"==typeof similar||similar instanceof String)&&similar.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?title+=" similar to uploaded image":title+=" similar to #"+similar)}return title=artist&&VectorStock.isLoggedIn()?(title+='<button type="button" data-action="follow" data-artist="'+artist.toLowerCase()+'" title="Follow '+artist+' to create a newsfeed of their recent images..."><span class="label">Follow</span></button>')+'<button type="button" data-action="hide" data-artist="'+artist.toLowerCase()+'" title="Hide '+artist+' to exclude their images in search results..."><span class="label">Hide</span></button>':title},INSTANCE.getPageSubtitle=function(total_results,broad_results){if(page_subtitle)return page_subtitle;if(VectorStock.isGerman())return function(total_results,broad_results){if(0===total_results)return keywords?"Keine Ergebnisse gefunden fÃ¼r <em>"+sanitiseGermanKeywords(keywords)+"</em>":"Keine Ergebnisse gefunden";var subtitle="Zeige "+VectorStock.formatCommas(total_results)+" ";if(category?subtitle+='<a href="/'+category+'-vectors">'+(CATEGORY_TITLES[category]||category.toTitleCase())+" Vektoren</a>":scope===SearchMosiacQuery.SCOPE_FREE?subtitle+='<a href="/de/kostenlose-vektoren">Kostenlose Vektoren</a>':subtitle+='<a href="/de/lizenzfreie-vektoren">Lizenzfreie Vektoren</a>',keywords)if(subtitle+=" fÃ¼r ",broad_results){for(var keywords_list=keywords.split(" "),i=0;i<keywords_list.length;i++){var keyword=sanitiseGermanKeywords(keywords_list[i]);keywords_list[i]='<a href="/de/lizenzfreie-vektoren/'+keyword+'-vektoren" class="keyword">'+keyword+"</a>"}subtitle+='<span class="keywords">'+keywords_list.join(" oder ")+"</span>"}else subtitle+="<em>"+sanitiseGermanKeywords(keywords)+"</em>";return subtitle}(total_results,broad_results);if(0===total_results)return keywords?"No results found for <em>"+sanitiseKeywords(keywords)+"</em>":"No results found";var subtitle="Showing "+VectorStock.formatCommas(total_results)+" ";if(category?subtitle+='<a href="/'+category+'-vectors">'+(CATEGORY_TITLES[category]||category.toTitleCase())+" vectors</a>":scope===SearchMosiacQuery.SCOPE_FREE?subtitle+='<a href="/free-vectors">free vectors</a>':subtitle+='<a href="/royalty-free-vectors">royalty-free vectors</a>',keywords)if(subtitle+=" for ",broad_results){for(var keywords_list=keywords.split(" "),i=0;i<keywords_list.length;i++){var keyword=sanitiseKeywords(keywords_list[i]);keywords_list[i]='<a href="/royalty-free-vectors/'+keyword+'-vectors" class="keyword">'+keyword+"</a>"}subtitle+='<span class="keywords">'+keywords_list.join(" or ")+"</span>"}else subtitle+="<em>"+sanitiseKeywords(keywords)+"</em>";return subtitle},params.artists&&INSTANCE.setArtist(params.artists),params.categories&&INSTANCE.setCategory(params.categories),params.keywords&&INSTANCE.setKeywords(params.keywords),INSTANCE.setOrder(params.order),INSTANCE.setPage(params.page),params.similar&&INSTANCE.setSimilar(params.similar),INSTANCE.setScope(params.scope),INSTANCE},SearchMosiacQuery=function(search_params){var INSTANCE=new VSModule;return INSTANCE.run=function(){for(var search_id=search_params.getID(),search_cached=!1,i=0;i<SearchMosiacQuery.history.length;i++)if(SearchMosiacQuery.history[i]===search_id){search_cached=!0;break}if(search_cached||SearchMosiacQuery.history.push(search_params.getID()),10<SearchMosiacQuery.history.length){for(var cache_id,recent=[],cutoff=Math.max(0,SearchMosiacQuery.history.length-10),i=SearchMosiacQuery.history.length;--i>=cutoff;)recent[SearchMosiacQuery.history[i]]=!0;for(cache_id in SearchMosiacQuery.cache)recent[cache_id]||delete SearchMosiacQuery.cache[cache_id]}search_params.getKeywords()&&VectorStock.trackSearch(search_params.getKeywords(),search_params.getScope(),search_params.getURL(),search_params.getWindowTitle());var cache_results=SearchMosiacQuery.cache[search_params.getID()];cache_results?INSTANCE.dispatchEvent(SearchMosiacQuery.LOAD_CACHED,[search_params.getID(),cache_results,search_params]):(INSTANCE.dispatchEvent(SearchMosiacQuery.LOAD_INIT,[search_params.getID(),search_params]),cache_results="/api/search",search_params.getScope()==SearchResults.SCOPE_PURCHASED&&(cache_results="/api/template/purchased"),$.ajax({url:cache_results,data:search_params.formatRequest(),type:"GET",xhr:function(){var xhr=new window.XMLHttpRequest;return xhr.addEventListener("progress",function(event){event.lengthComputable&&INSTANCE.dispatchEvent(SearchMosiacQuery.LOAD_PROGRESS,[search_params.getID(),event.loaded/event.total])},!1),xhr}}).done(function(response){response?(SearchMosiacQuery.storeInCache(search_params,response),INSTANCE.dispatchEvent(SearchResults.LOAD_COMPLETE,[search_params.getID(),response,search_params])):INSTANCE.dispatchEvent(SearchResults.LOAD_FAILED,[search_params.getID(),response,search_params])}).fail(function(response){INSTANCE.dispatchEvent(SearchResults.LOAD_FAILED,[search_params.getID(),response,search_params])}))},INSTANCE},SearchMosaicNoResults=(SearchMosiacQuery.cache={},SearchMosiacQuery.history=[],SearchMosiacQuery.LOAD_INIT="load_init",SearchMosiacQuery.LOAD_CACHED="load_cached",SearchMosiacQuery.LOAD_PROGRESS="load_progress",SearchMosiacQuery.LOAD_COMPLETE="load_complete",SearchMosiacQuery.LOAD_FAILED="load_failed",SearchMosiacQuery.SCOPE_ALL="all",SearchMosiacQuery.SCOPE_FREE="free",SearchMosiacQuery.SCOPE_PENDING="pending",SearchMosiacQuery.SCOPE_PURCHASED="purchased",SearchMosiacQuery.ORDER_BESTMATCH="bestmatch",SearchMosiacQuery.ORDER_TRENDING="trending",SearchMosiacQuery.ORDER_ISOLATED="isolated",SearchMosiacQuery.ORDER_LATEST="latest",SearchMosiacQuery.storeInCache=function(search_params,results){SearchMosiacQuery.cache[search_params.getID()]=results},function(parent,type,existing_container){var container,INSTANCE=new VSModule,HTML_NORESULTS='<div class="search_noresults"><div class="inner"><picture><source type="image/webp" srcset="https://cdn.vectorstock.com/img/pages/search/noresults-2x.webp 2x, https://cdn.vectorstock.com/img/pages/search/noresults-1x.webp 1.5x"><source type="image/jpeg" srcset="https://cdn.vectorstock.com/img/pages/search/noresults-2x.jpg 2x, https://cdn.vectorstock.com/img/pages/search/noresults-1x.jpg 1.5x"><img src="https://cdn.vectorstock.com/img/pages/search/noresults-1x.jpg" width="200" alt="No results"></picture><p></p></div></div>';return INSTANCE.remove=function(){container.remove()},existing_container?container=existing_container:(container=$(HTML_NORESULTS).appendTo(parent),$("p",container).html(type===SearchMosaicNoResults.TYPE_EMPTY?SearchMosaicNoResults.HTML_MESSAGE_EMPTY:SearchMosaicNoResults.HTML_MESSAGE_FAILED)),INSTANCE});SearchMosaicNoResults.TYPE_EMPTY="empty",SearchMosaicNoResults.TYPE_FAILED="failed",SearchMosaicNoResults.HTML_MESSAGE_EMPTY="<strong>Sorry, there are no matches.</strong><br>Try different keywords or adjust your filters.",SearchMosaicNoResults.HTML_MESSAGE_FAILED='<strong>Sorry, it seems something went wrong.</strong><br>Try again or <a href="/contact">contact our support team</a> for help.';