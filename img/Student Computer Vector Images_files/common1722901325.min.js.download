function md5(s){function md5cycle(x,k){var a=ff(x[0],b=x[1],c=x[2],d=x[3],k[0],7,-680876936),d=ff(d,a,b,c,k[1],12,-389564586),c=ff(c,d,a,b,k[2],17,606105819),b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897),d=ff(d,a,b,c,k[5],12,1200080426),c=ff(c,d,a,b,k[6],17,-1473231341),b=ff(b,c,d,a,k[7],22,-45705983),a=ff(a,b,c,d,k[8],7,1770035416),d=ff(d,a,b,c,k[9],12,-1958414417),c=ff(c,d,a,b,k[10],17,-42063),b=ff(b,c,d,a,k[11],22,-1990404162),a=ff(a,b,c,d,k[12],7,1804603682),d=ff(d,a,b,c,k[13],12,-40341101),c=ff(c,d,a,b,k[14],17,-1502002290),a=gg(a,b=ff(b,c,d,a,k[15],22,1236535329),c,d,k[1],5,-165796510),d=gg(d,a,b,c,k[6],9,-1069501632),c=gg(c,d,a,b,k[11],14,643717713),b=gg(b,c,d,a,k[0],20,-373897302),a=gg(a,b,c,d,k[5],5,-701558691),d=gg(d,a,b,c,k[10],9,38016083),c=gg(c,d,a,b,k[15],14,-660478335),b=gg(b,c,d,a,k[4],20,-405537848),a=gg(a,b,c,d,k[9],5,568446438),d=gg(d,a,b,c,k[14],9,-1019803690),c=gg(c,d,a,b,k[3],14,-187363961),b=gg(b,c,d,a,k[8],20,1163531501),a=gg(a,b,c,d,k[13],5,-1444681467),d=gg(d,a,b,c,k[2],9,-51403784),c=gg(c,d,a,b,k[7],14,1735328473),a=hh(a,b=gg(b,c,d,a,k[12],20,-1926607734),c,d,k[5],4,-378558),d=hh(d,a,b,c,k[8],11,-2022574463),c=hh(c,d,a,b,k[11],16,1839030562),b=hh(b,c,d,a,k[14],23,-35309556),a=hh(a,b,c,d,k[1],4,-1530992060),d=hh(d,a,b,c,k[4],11,1272893353),c=hh(c,d,a,b,k[7],16,-155497632),b=hh(b,c,d,a,k[10],23,-1094730640),a=hh(a,b,c,d,k[13],4,681279174),d=hh(d,a,b,c,k[0],11,-358537222),c=hh(c,d,a,b,k[3],16,-722521979),b=hh(b,c,d,a,k[6],23,76029189),a=hh(a,b,c,d,k[9],4,-640364487),d=hh(d,a,b,c,k[12],11,-421815835),c=hh(c,d,a,b,k[15],16,530742520),a=ii(a,b=hh(b,c,d,a,k[2],23,-995338651),c,d,k[0],6,-198630844),d=ii(d,a,b,c,k[7],10,1126891415),c=ii(c,d,a,b,k[14],15,-1416354905),b=ii(b,c,d,a,k[5],21,-57434055),a=ii(a,b,c,d,k[12],6,1700485571),d=ii(d,a,b,c,k[3],10,-1894986606),c=ii(c,d,a,b,k[10],15,-1051523),b=ii(b,c,d,a,k[1],21,-2054922799),a=ii(a,b,c,d,k[8],6,1873313359),d=ii(d,a,b,c,k[15],10,-30611744),c=ii(c,d,a,b,k[6],15,-1560198380),b=ii(b,c,d,a,k[13],21,1309151649),a=ii(a,b,c,d,k[4],6,-145523070),d=ii(d,a,b,c,k[11],10,-1120210379),c=ii(c,d,a,b,k[2],15,718787259),b=ii(b,c,d,a,k[9],21,-343485551),x[0]=add32(a,x[0]),x[1]=add32(b,x[1]),x[2]=add32(c,x[2]),x[3]=add32(d,x[3])}function cmn(q,a,b,x,s,t){return a=add32(add32(a,q),add32(x,t)),add32(a<<s|a>>>32-s,b)}function ff(a,b,c,d,x,s,t){return cmn(b&c|~b&d,a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn(b&d|c&~d,a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|~d),a,b,x,s,t)}function md51(s){txt="";for(var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i=64;i<=s.length;i+=64)md5cycle(state,function(s){var i,md5blks=[];for(i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}(s.substring(i-64,i)));s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),55<i)for(md5cycle(state,tail),i=0;i<16;i++)tail[i]=0;return tail[14]=8*n,md5cycle(state,tail),state}var hex_chr="0123456789abcdef".split("");function hex(x){for(var i=0;i<x.length;i++)x[i]=function(n){for(var s="",j=0;j<4;j++)s+=hex_chr[n>>8*j+4&15]+hex_chr[n>>8*j&15];return s}(x[i]);return x.join("")}function add32(a,b){return a+b&4294967295}{function add32(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}hex(md51("hello"))}return hex(md51(s))}"function"!=typeof Object.assign&&(Object.assign=function(target){"use strict";if(null==target)throw new TypeError("Cannot convert undefined or null to object");target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.WHATWGFetch={})}(this,function(exports){"use strict";var viewClasses,isArrayBufferView,support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return value="string"!=typeof value?String(value):value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){var view;return buf.slice?buf.slice(0):((view=new Uint8Array(buf.byteLength)).set(new Uint8Array(buf)),view.buffer)}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;(this._bodyInit=body)?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&((obj=body)&&DataView.prototype.isPrototypeOf(obj))?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,promise,rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return blob=this._bodyBlob,rejected=new FileReader,promise=fileReaderReady(rejected),rejected.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}support_arrayBuffer&&(viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&-1<viewClasses.indexOf(Object.prototype.toString.call(obj))}),Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var upcased,body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(input=options.method||this.method||"GET",upcased=input.toUpperCase(),-1<methods.indexOf(upcased)?upcased:input),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){var name,split;bytes&&(name=(split=bytes.split("=")).shift().replace(/\+/g," "),split=split.join("=").replace(/\+/g," "),form.append(decodeURIComponent(name),decodeURIComponent(split)))}),form}function Response(bodyInit,options){options=options||{},this.type="default",this.status=options.status===undefined?200:options.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();key&&(parts=parts.join(":").trim(),headers.append(key,parts))}),headers)},body=(options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL"),"response"in xhr?xhr.response:xhr.responseText);resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}),function(factory){("object"!=typeof exports||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(factory):factory()}(function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason)})})}function allSettled(arr){return new this(function(resolve,reject){if(!arr||"undefined"==typeof arr.length)return reject(new TypeError(typeof arr+" "+arr+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;for(var i=0;i<args.length;i++)!function res(i,val){if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},function(e){args[i]={status:"rejected",reason:e},0==--remaining&&resolve(args)})}args[i]={status:"fulfilled",value:val},0==--remaining&&resolve(args)}(i,args[i])})}var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&"undefined"!=typeof x.length)}function noop(){}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;0!==self._state?(self._handled=!0,Promise._immediateFn(function(){var ret,cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}else(1===self._state?resolve:reject)(deferred.promise,self._value)})):self._deferreds.push(deferred)}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve((fn=then,thisArg=newValue,function(){fn.apply(thisArg,arguments)}),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}var fn,thisArg}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.prototype["finally"]=finallyConstructor,Promise.all=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.all accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise.allSettled=allSettled,Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.race accepts an array"));for(var i=0,len=arr.length;i<len;i++)Promise.resolve(arr[i]).then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate?function(fn){setImmediate(fn)}:function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)};var globalNS=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof globalNS.Promise?globalNS.Promise=Promise:globalNS.Promise.prototype["finally"]?globalNS.Promise.allSettled||(globalNS.Promise.allSettled=allSettled):globalNS.Promise.prototype["finally"]=finallyConstructor}),function(){"use strict";var document,registry,crossOriginUpdater,crossOriginRect;function getFrameElement(doc){try{return doc.defaultView&&doc.defaultView.frameElement||null}catch(e){return null}}function IntersectionObserverEntry(entry){this.time=entry.time,this.target=entry.target,this.rootBounds=ensureDOMRect(entry.rootBounds),this.boundingClientRect=ensureDOMRect(entry.boundingClientRect),this.intersectionRect=ensureDOMRect(entry.intersectionRect||getEmptyRect()),this.isIntersecting=!!entry.intersectionRect;var targetRect=this.boundingClientRect,targetRect=targetRect.width*targetRect.height,intersectionRect=this.intersectionRect,intersectionRect=intersectionRect.width*intersectionRect.height;this.intersectionRatio=targetRect?Number((intersectionRect/targetRect).toFixed(4)):this.isIntersecting?1:0}function IntersectionObserver(callback,opt_options){var fn,timeout,timer,options=opt_options||{};if("function"!=typeof callback)throw new Error("callback must be a function");if(options.root&&1!=options.root.nodeType&&9!=options.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(fn=this._checkForIntersections.bind(this),timeout=this.THROTTLE_TIMEOUT,timer=null,function(){timer=timer||setTimeout(function(){fn(),timer=null},timeout)}),this._callback=callback,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(options.rootMargin),this.thresholds=this._initThresholds(options.threshold),this.root=options.root||null,this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function addEvent(node,event,fn,opt_useCapture){"function"==typeof node.addEventListener?node.addEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.attachEvent&&node.attachEvent("on"+event,fn)}function removeEvent(node,event,fn,opt_useCapture){"function"==typeof node.removeEventListener?node.removeEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.detatchEvent&&node.detatchEvent("on"+event,fn)}function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect()}catch(err){}return rect?rect.width&&rect.height?rect:{top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top}:getEmptyRect()}function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function ensureDOMRect(rect){return!rect||"x"in rect?rect:{top:rect.top,y:rect.top,bottom:rect.bottom,left:rect.left,x:rect.left,right:rect.right,width:rect.width,height:rect.height}}function convertFromParentRect(parentBoundingRect,parentIntersectionRect){var top=parentIntersectionRect.top-parentBoundingRect.top,left=parentIntersectionRect.left-parentBoundingRect.left;return{top:top,left:left,height:parentIntersectionRect.height,width:parentIntersectionRect.width,bottom:top+parentIntersectionRect.height,right:left+parentIntersectionRect.width}}function containsDeep(parent,child){for(var node=child;node;){if(node==parent)return!0;node=getParentNode(node)}return!1}function getParentNode(node){var parent=node.parentNode;return 9==node.nodeType&&node!=document?getFrameElement(node):(parent=parent&&parent.assignedSlot?parent.assignedSlot.parentNode:parent)&&11==parent.nodeType&&parent.host?parent.host:parent}function isDoc(node){return node&&9===node.nodeType}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(document=function(){for(var doc=window.document,frame=getFrameElement(doc);frame;)frame=getFrameElement(doc=frame.ownerDocument);return doc}(),registry=[],crossOriginRect=crossOriginUpdater=null,IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver._setupCrossOriginUpdater=function(){return crossOriginUpdater=crossOriginUpdater||function(boundingClientRect,intersectionRect){crossOriginRect=boundingClientRect&&intersectionRect?convertFromParentRect(boundingClientRect,intersectionRect):getEmptyRect(),registry.forEach(function(observer){observer._checkForIntersections()})}},IntersectionObserver._resetCrossOriginUpdater=function(){crossOriginRect=crossOriginUpdater=null},IntersectionObserver.prototype.observe=function(target){if(!this._observationTargets.some(function(item){return item.element==target})){if(!target||1!=target.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:target,entry:null}),this._monitorIntersections(target.ownerDocument),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target}),this._unmonitorIntersections(target.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();return this._queuedEntries=[],records},IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];return(threshold=Array.isArray(threshold)?threshold:[threshold]).sort().filter(function(t,i,a){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[i-1]})},IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var margins=(opt_rootMargin||"0px").split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(parts[1]),unit:parts[2]}});return margins[1]=margins[1]||margins[0],margins[2]=margins[2]||margins[0],margins[3]=margins[3]||margins[1],margins},IntersectionObserver.prototype._monitorIntersections=function(doc){var callback,monitoringInterval,domObserver,win=doc.defaultView;win&&-1==this._monitoringDocuments.indexOf(doc)&&(callback=this._checkForIntersections,domObserver=monitoringInterval=null,this.POLL_INTERVAL?monitoringInterval=win.setInterval(callback,this.POLL_INTERVAL):(addEvent(win,"resize",callback,!0),addEvent(doc,"scroll",callback,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in win&&(domObserver=new win.MutationObserver(callback)).observe(doc,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(doc),this._monitoringUnsubscribes.push(function(){var win=doc.defaultView;win&&(monitoringInterval&&win.clearInterval(monitoringInterval),removeEvent(win,"resize",callback,!0)),removeEvent(doc,"scroll",callback,!0),domObserver&&domObserver.disconnect()}),win=this.root&&(this.root.ownerDocument||this.root)||document,doc==win||(win=getFrameElement(doc))&&this._monitorIntersections(win.ownerDocument))},IntersectionObserver.prototype._unmonitorIntersections=function(doc){var rootDoc,unsubscribe,index=this._monitoringDocuments.indexOf(doc);-1!=index&&(rootDoc=this.root&&(this.root.ownerDocument||this.root)||document,this._observationTargets.some(function(item){if((itemDoc=item.element.ownerDocument)==doc)return!0;for(;itemDoc&&itemDoc!=rootDoc;){var itemDoc,frame=getFrameElement(itemDoc);if((itemDoc=frame&&frame.ownerDocument)==doc)return!0}return!1})||(unsubscribe=this._monitoringUnsubscribes[index],this._monitoringDocuments.splice(index,1),this._monitoringUnsubscribes.splice(index,1),unsubscribe(),doc==rootDoc||(index=getFrameElement(doc))&&this._unmonitorIntersections(index.ownerDocument)))},IntersectionObserver.prototype._unmonitorAllIntersections=function(){var unsubscribes=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var i=this._monitoringUnsubscribes.length=0;i<unsubscribes.length;i++)unsubscribes[i]()},IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom,rootRect;!this.root&&crossOriginUpdater&&!crossOriginRect||(rootIsInDom=this._rootIsInDom(),rootRect=rootIsInDom?this._getRootRect():getEmptyRect(),this._observationTargets.forEach(function(item){var target=item.element,targetRect=getBoundingClientRect(target),rootContainsTarget=this._rootContainsTarget(target),oldEntry=item.entry,intersectionRect=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,targetRect,rootRect),rootBounds=null,target=(this._rootContainsTarget(target)?crossOriginUpdater&&!this.root||(rootBounds=rootRect):rootBounds=getEmptyRect(),item.entry=new IntersectionObserverEntry({time:window.performance&&performance.now&&performance.now(),target:target,boundingClientRect:targetRect,rootBounds:rootBounds,intersectionRect:intersectionRect}));oldEntry?rootIsInDom&&rootContainsTarget?this._hasCrossedThreshold(oldEntry,target)&&this._queuedEntries.push(target):oldEntry&&oldEntry.isIntersecting&&this._queuedEntries.push(target):this._queuedEntries.push(target)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,targetRect,rootRect){if("none"!=window.getComputedStyle(target).display){for(var rect1,rect2,width,height,intersectionRect=targetRect,parent=getParentNode(target),atRoot=!1;!atRoot&&parent;){var frameRect,frameIntersect,frame,parentRect=null,parentComputedStyle=1==parent.nodeType?window.getComputedStyle(parent):{};if("none"==parentComputedStyle.display)return null;if(parent==this.root||9==parent.nodeType?(atRoot=!0,parent==this.root||parent==document?crossOriginUpdater&&!this.root?!crossOriginRect||0==crossOriginRect.width&&0==crossOriginRect.height?intersectionRect=parentRect=parent=null:parentRect=crossOriginRect:parentRect=rootRect:(frameRect=(frame=getParentNode(parent))&&getBoundingClientRect(frame),frameIntersect=frame&&this._computeTargetAndRootIntersection(frame,frameRect,rootRect),frameRect&&frameIntersect?(parent=frame,parentRect=convertFromParentRect(frameRect,frameIntersect)):intersectionRect=parent=null)):parent!=(frame=parent.ownerDocument).body&&parent!=frame.documentElement&&"visible"!=parentComputedStyle.overflow&&(parentRect=getBoundingClientRect(parent)),parentRect&&(rect1=parentRect,rect2=intersectionRect,height=width=parentRect=parentComputedStyle=frameIntersect=frameRect=void 0,frameRect=Math.max(rect1.top,rect2.top),frameIntersect=Math.min(rect1.bottom,rect2.bottom),parentComputedStyle=Math.max(rect1.left,rect2.left),parentRect=Math.min(rect1.right,rect2.right),height=frameIntersect-frameRect,intersectionRect=0<=(width=parentRect-parentComputedStyle)&&0<=height?{top:frameRect,bottom:frameIntersect,left:parentComputedStyle,right:parentRect,width:width,height:height}:null),!intersectionRect)break;parent=parent&&getParentNode(parent)}return intersectionRect}},IntersectionObserver.prototype._getRootRect=function(){var doc,html;return html=this.root&&!isDoc(this.root)?getBoundingClientRect(this.root):(html=(doc=isDoc(this.root)?this.root:document).documentElement,doc=doc.body,{top:0,left:0,right:html.clientWidth||doc.clientWidth,width:html.clientWidth||doc.clientWidth,bottom:html.clientHeight||doc.clientHeight,height:html.clientHeight||doc.clientHeight}),this._expandRectByRootMargin(html)},IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var margins=this._rootMarginValues.map(function(margin,i){return"px"==margin.unit?margin.value:margin.value*(i%2?rect.width:rect.height)/100}),margins={top:rect.top-margins[0],right:rect.right+margins[1],bottom:rect.bottom+margins[2],left:rect.left-margins[3]};return margins.width=margins.right-margins.left,margins.height=margins.bottom-margins.top,margins},IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1,newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio!==newRatio)for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!=threshold<newRatio)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(target){var rootDoc=this.root&&(this.root.ownerDocument||this.root)||document;return containsDeep(rootDoc,target)&&(!this.root||rootDoc==target.ownerDocument)},IntersectionObserver.prototype._registerInstance=function(){registry.indexOf(this)<0&&registry.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);-1!=index&&registry.splice(index,1)},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry))}(),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.1",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,r,i,n,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],n=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,n,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t;return!(!e||"[object Object]"!==i.call(e)||(t=r(e))&&("function"!=typeof(t=ue.call(t,"constructor")&&t.constructor)||o.call(t)!==a))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g"),f=(ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function p(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s,d=(!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,s,u,l,a,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(a=t,f=e,1===p&&(x.test(t)||m.test(t))){for((f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);a=l.join(",")}try{return k.apply(n,f.querySelectorAll(a)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function z(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),0}catch(e){return 1}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){var n;if("undefined"!=typeof t.getElementById&&C)return(n=t.getElementById(e))?[n]:[]}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){return e===t?(a=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1);var n}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],n=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!=y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){for(;u;){for(o=e;o=o[u];)if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){for(p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];o=++a&&o&&o[u]||(p=a=0)||s.pop();)if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(!1===(p=f?a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]:p))for(;(o=++a&&o&&o[u]||(p=a=0)||s.pop())&&((m?!fe(o,c):1!==o.nodeType)||!++p||(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o!==e)););return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return fe(e,"input")&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u:l)(e,t,n);return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v)for(i=Z(s,l),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a));if(e){if(y||d){if(y){for(i=[],o=s.length;o--;)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}for(o=s.length;o--;)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){for(n=(t=t||Y(e)).length;n--;)((a=te(t[n]))[S]?i:o).push(a);(a=u(e,(m=0<(y=i).length,x=0<(v=o).length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument==T||(V(o),n=!C);s=v[a++];)if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=D.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}(),function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r}),h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,E=((ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=ce.fn,k=ce(C),/^(?:parents|prev(?:Until|All))/),j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){for(var n;-1<(n=ce.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();for(;t--;)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,O=(ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})},ce.Deferred());function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),t=l?a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(ce(e),n)}):t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!ce.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))||void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return r=_.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0},ee=(J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument}),function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")});function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){for(l=l||c[3],c=+(u/=2)||1;a--;)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;ce.style(e,t,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=r.ownerDocument,s=r.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),ne[s]=u="none"===u?"block":u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i,xe=C.createDocumentFragment().appendChild(C.createElement("div")),ke=((be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function Se(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),s=ke[s]||ke._default,a.innerHTML=s[1]+ce.htmlPrefilter(o)+s[2],c=s[0];c--;)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n)for(c=0;o=a[c++];)Ce.test(o.type||"")&&n.push(o);return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,u,l,f,p,d,s,g,v=_.get(t);if($(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return void 0!==ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;l--;)d=g=(s=De.exec(e[l])||[])[1],s=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},g=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:s.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,s,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,g),g.handler.guid||(g.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,g):p.push(g),ce.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=ce.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(o=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=o)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){var t,n;C.documentMode?(t=_.get(this,"handle"),(n=ce.event.fix(e)).type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)):ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),o=ce.extend({},o),z.set(t,o))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Me,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Re(this,e)).insertBefore(e,t.firstChild)})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:ie).getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],""!==(a=s&&a?a.replace(ve,"$1")||void 0:a)||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(s=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=s,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){var e;l&&(u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l),e=ie.getComputedStyle(l),n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null)}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),n=ie.getComputedStyle(t),a=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){return ce.cssProps[e]||Ke[e]||(e in Je?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){var n;if(t)return""===(n=Ge(e,"opacity"))?"1":n}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,s=F(t);return ze.test(t)||(t=Ze(s)),"normal"===(i=void 0===(i=(s=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in s?s.get(e,!0,n):i)?Ge(e,t,r):i)&&t in nt&&(i=nt[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return(e&&e.get?e:at.propHooks._default).get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:at.propHooks._default).set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,be,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),e=Math.max(0,l.startTime+l.duration-e),n=1-(e/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,e]),n<1&&i?e:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=v(e)?(t=e,["*"]):e.match(D)).length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(f=ce.css(e,"display"))&&(l?f=l:(re([e],!0),l=e.style.display||l,f=ce.css(e,"display"),re([e]))),("inline"===f||"inline-block"===f&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(f=h.display,l="none"===f?"":f)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},be=C.createElement("input"),xe=C.createElement("select").appendChild(C.createElement("option")),be.type="checkbox",le.checkOn=""!==be.value,le.optSelected=xe.selected,(be=C.createElement("input")).value="t",be.type="radio",le.radioValue="t"===be.value;var mt,xt=ce.expr.attrHandle,bt=(ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){var n;if(!le.radioValue&&"radio"===t&&fe(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}}),/^(?:input|select|textarea|button)$/i),wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];-1<n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"==a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!=a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",!r&&!1!==t&&_.get(this,"__className__")||""))}))},hasClass:function(e){for(var n,r=0,t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g,Et=(ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){for(var n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length,r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(n=ce(n).val(),a)return n;s.push(n)}return s},set:function(e,t){for(var n,r,i=e.options,o=ce.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ie.location),jt={guid:Date.now()},At=/\?/,Dt=(ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Nt=function(e){e.stopPropagation()},qt=(ce.extend(ce.event,{trigger:function(e,t,n,r){var i,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[],o=f=a=n=n||C;if(3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}}),/\[\]$/),Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)!function Pt(n,e,r,i){if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(var t in e)Pt(n+"["+t+"]",e[t],r,i)}(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},zt="*/".concat("*"),Xt=C.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var c,f,p,n,d,h,g,i,r,v=ce.ajaxSetup({},t=t||{}),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Wt.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){if(e)if(h)T.always(e[T.status]);else for(var t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(r=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),r=(At.test(f)?"&":"?")+"_="+jt.guid+++r),v.url=f+r),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v["async"]&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i["async"],i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Kt=[],Zt=/(=)\?(?=&|$)|\?\?/,en=(ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((t=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),r=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,r),r&&r.length&&ce(r).remove(),ce.merge([],i.childNodes)));var i,r},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),l=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(l=c.position()).top,l.left):(a=parseFloat(o)||0,parseFloat(u)||0),null!=(t=v(t)?t.call(e,n,ce.extend({},s)):t).top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+l),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ce.css(e,"position");)e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),tn=(ce.proxy=function(e,t){var r,n;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(n=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,n},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce}),ie.jQuery),nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},void 0===e&&(ie.jQuery=ie.$=ce),ce}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&"object"==typeof module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function e(n){var e=7.5625,t=2.75;return n<1/t?e*n*n:n<2/t?e*(n-=1.5/t)*n+.75:n<2.5/t?e*(n-=2.25/t)*n+.9375:e*(n-=2.625/t)*n+.984375}void 0!==n.easing&&(n.easing.jswing=n.easing.swing);var t=Math.pow,u=Math.sqrt,r=Math.sin,i=Math.cos,a=Math.PI,o=1.70158,c=1.525*o,s=2*a/3,f=2*a/4.5;return n.extend(n.easing,{def:"easeOutQuad",swing:function(e){return n.easing[n.easing.def](e)},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return 1-(1-n)*(1-n)},easeInOutQuad:function(n){return n<.5?2*n*n:1-t(-2*n+2,2)/2},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1-t(1-n,3)},easeInOutCubic:function(n){return n<.5?4*n*n*n:1-t(-2*n+2,3)/2},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1-t(1-n,4)},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-t(-2*n+2,4)/2},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1-t(1-n,5)},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1-t(-2*n+2,5)/2},easeInSine:function(n){return 1-i(n*a/2)},easeOutSine:function(n){return r(n*a/2)},easeInOutSine:function(n){return-(i(a*n)-1)/2},easeInExpo:function(n){return 0===n?0:t(2,10*n-10)},easeOutExpo:function(n){return 1===n?1:1-t(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:n<.5?t(2,20*n-10)/2:(2-t(2,-20*n+10))/2},easeInCirc:function(n){return 1-u(1-t(n,2))},easeOutCirc:function(n){return u(1-t(n-1,2))},easeInOutCirc:function(n){return n<.5?(1-u(1-t(2*n,2)))/2:(u(1-t(-2*n+2,2))+1)/2},easeInElastic:function(n){return 0===n?0:1===n?1:-t(2,10*n-10)*r((10*n-10.75)*s)},easeOutElastic:function(n){return 0===n?0:1===n?1:t(2,-10*n)*r((10*n-.75)*s)+1},easeInOutElastic:function(n){return 0===n?0:1===n?1:n<.5?-t(2,20*n-10)*r((20*n-11.125)*f)/2:t(2,-20*n+10)*r((20*n-11.125)*f)/2+1},easeInBack:function(n){return 2.70158*n*n*n-o*n*n},easeOutBack:function(n){return 1+2.70158*t(n-1,3)+o*t(n-1,2)},easeInOutBack:function(n){return n<.5?t(2*n,2)*(7.189819*n-c)/2:(t(2*n-2,2)*((1+c)*(2*n-2)+c)+2)/2},easeInBounce:function(n){return 1-e(1-n)},easeOutBounce:e,easeInOutBounce:function(n){return n<.5?(1-e(1-2*n))/2:(1+e(2*n-1))/2}}),n}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function handler(event){var lineHeight,orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,offsetX=0,offsetY=0;if((event=$.event.fix(orgEvent)).type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(delta=deltaY=-1*orgEvent.deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX)return 1===orgEvent.deltaMode?(delta*=lineHeight=$.data(this,"mousewheel-line-height"),deltaY*=lineHeight,deltaX*=lineHeight):2===orgEvent.deltaMode&&(delta*=lineHeight=$.data(this,"mousewheel-page-height"),deltaY*=lineHeight,deltaX*=lineHeight),lineHeight=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||lineHeight<lowestDelta)&&shouldAdjustOldDeltas(orgEvent,lowestDelta=lineHeight)&&(lowestDelta/=40),shouldAdjustOldDeltas(orgEvent,lineHeight)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[1<=delta?"floor":"ceil"](delta/lowestDelta),deltaX=Math[1<=deltaX?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[1<=deltaY?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect&&(orgEvent=this.getBoundingClientRect(),offsetX=event.clientX-orgEvent.left,offsetY=event.clientY-orgEvent.top),event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}$.fn.extend({mousewheel:function(fn){return fn?this.on("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.off("mousewheel",fn)}})});var MS_SECOND=1e3,MS_MINUTE=60*MS_SECOND,MS_HOUR=60*MS_MINUTE,MS_DAY=24*MS_HOUR,VectorStock=VectorStock||{};function gtag(){window.dataLayer.push(arguments)}VectorStock.isProduction=function(){var production=!0;try{document.head.querySelector("meta[name=dev-env]")&&(production=!1)}catch(err){console.error(err)}return VectorStock.isProduction=function(){return production},production},VectorStock.hasUnlimitedSubscription=function(){var unlimited=!1;try{document.head.querySelector("meta[name=unlimited-subscription]")&&(unlimited=!0)}catch(err){console.error(err)}return VectorStock.hasUnlimitedSubscription=function(){return unlimited},unlimited},VectorStock.tcFetch=function(){try{var tc=localStorage.getItem("tc");return tc?tc:null}catch(e){}return!1},VectorStock.tcUpdate=function(){try{var tc=VectorStock.getCookie("tc");tc&&(document.cookie="tc=0; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/",localStorage.setItem("tc",tc))}catch(e){}},$(document).ajaxComplete(VectorStock.tcUpdate),VectorStock.isGerman=function(){var is_german=!!$('html[lang="de"]').length;return VectorStock.isGerman=function(){return is_german},is_german},VectorStock.isGerman()&&function(){var _oldAjax=$.ajax;$.ajax=function(options){return options.url&&"/de"!==options.url.substring(0,3)&&(options.url="/de"+options.url),_oldAjax(options)}}(),VectorStock.resolveURL=function(path,callback){$.ajax({url:"/api/url-resolver",method:"POST",data:{path:path}}).done(function(data){data.success?callback(data.path):callback(path)}).fail(function(){callback(path)})},VectorStock.js={analytics:"//www.google-analytics.com/ga.js",facebook:"//connect.facebook.net/en_US/all.js#xfbml=1&appId=241100862642313",googleplus:"//apis.google.com/js/plusone.js",pinterest:"//assets.pinterest.com/js/pinit.js",twitter:"//platform.x.com/widgets.js"},VectorStock.google_id="101753067915-kdnvvq7hnnmrkia4f8ld6vrsuuco80c0.apps.googleusercontent.com",VectorStock.google_sitekey="6Lfn4kMUAAAAAHUi20XSelxWN5uirLGwYHEMWKWw",VectorStock.google_merchant_id="03244693700224937031",VectorStock.ga_id_ua="UA-2180430-2",VectorStock.ga_id_g4="G-QBXWNL4G7Q",VectorStock.ga_id_adwords="AW-1056033416",VectorStock.host="//www.vectorstock.com",VectorStock.amazonHost="https://vectorstock-uploads.s3.amazonaws.com",VectorStock.domain="//cdn.vectorstock.com",VectorStock.time=(new Date).getTime(),VectorStock.defaultInputText=["Search any Keyword...","Search for Artist...","Search for Vector ID..."],VectorStock.paddle_id_production=136127,VectorStock.paddle_id_sandbox=2621,VectorStock.cache={vectors:{}},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config",VectorStock.ga_id_g4,{cookie_domain:"none"}),gtag("config",VectorStock.ga_id_adwords,{cookie_domain:"none"}),VectorStock.track=function(event_type,event_name,parameters){VectorStock.isProduction()?gtag(event_type,event_name,parameters):"dev"===window.location.host.toLowerCase().split(".")[0]&&window.console&&window.console.log&&console.log("TRACK",event_type,event_name,parameters)},VectorStock.trackAppEvent=function(event_title,event_details){VectorStock.track("event","Converter App",{label:event_title,details:JSON.stringify(event_details)})},VectorStock.trackPage=function(page,title){VectorStock.track("event","page_view",{page_path:page,page_title:title})},VectorStock.trackSearch=function(search,scope,page,title){var page_path=page+"?keywords="+encodeURIComponent(search.toLowerCase())+"&scope="+scope+"&type=internal";VectorStock.track("event","page_view",{page_path:page_path,page_title:title,send_to:VectorStock.ga_id_ua}),window.dataLayer.push({event:"search",searchTerm:search.toLowerCase()})},VectorStock.log=function(payload,type){try{switch(type){case"debug":case"info":case"notice":case"warning":case"error":case"critical":case"alert":case"emergency":VectorStock.signedAJAX({url:"/api/log/"+type,method:"POST",data:payload});break;default:VectorStock.signedAJAX({url:"/api/log/warning",method:"POST",data:payload})}}catch(e){var data=null;try{data=JSON.stringify(payload)}catch(err){}try{VectorStock.signedAJAX({url:"/api/log/error",method:"POST",data:{source:"Logger",issue:e.name,detail:{type:typeof payload,data:data,message:e.message}}})}catch(err){}}},VectorStock.globalErrorTimeout=null,VectorStock.loadJS=function(){var nonce,paypal_button;function loadJS(){var csp_meta=$("meta[name=csp-nonce]");csp_meta.length&&(nonce=csp_meta.attr("content"),csp_meta.remove())}function getNonce(){return nonce}function closeButton(){try{paypal_button&&paypal_button.close()}catch(e){console.error(e)}}return loadJS.prototype.load=function(src,onload,onerror){try{var a;if(src&&"string"==typeof src)return(a=document.createElement("script")).src=src,onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",document.head.insertBefore(a,document.head.firstElementChild),a}catch(err){onerror&&"function"==typeof onerror&&onerror(err);try{VectorStock.log({source:"JSLoader",issue:"Failed to load "+src,detail:{error:{name:err.name,message:err.message}}})}catch(e){}}return null},loadJS.prototype.loadPayPal=function(transactionType,clientId,onload,onerror){try{closeButton.call(this),"order"===transactionType?window.paypalLoadScript({"client-id":clientId,"data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)}):"subscription"===transactionType&&window.paypalLoadScript({"client-id":clientId,vault:!0,intent:"subscription","data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)})}catch(err){try{VectorStock.log({source:"JSLoader",issue:"Failed to load PayPal JS library",detail:{error:{name:err.name,message:err.message}}})}catch(e){}}},loadJS.prototype.setPayPalButton=function(payPalButton){try{!(function(button){paypal_button=button}).call(this,payPalButton)}catch(e){console.error(e)}},loadJS}(),VectorStock.loadJS=new VectorStock.loadJS,VectorStock.loadPaddle=function(onload,onerror){VectorStock.loadJS.load("https://cdn.paddle.com/paddle/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - Paddle CDN Loading Error",detail:{error:err.message}}),VectorStock.loadJS.load("https://www.vectorstock.com/cache/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - VectorStock CDN Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err)})})},VectorStock.loadBraintree=function(onload,onerror){VectorStock.loadJS.load("https://js.braintreegateway.com/web/dropin/1.40.2/js/dropin.js",onload,function(err){err&&err.message&&(VectorStock.log({source:"Braintree",issue:"Braintree Javascript - Braintree CDN Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err))})},VectorStock.loadGoogleRecaptcha=function(onload,onerror){var setupRecaptcha;window.grecaptcha?onload():(setupRecaptcha=function(){VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit",null,function(err){err&&err.message&&(VectorStock.log({source:"Google Recaptcha",issue:"Recaptcha Javascript - Recaptcha JS Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err))})},window.addEventListener("googleRecaptchaLoaded",onload),"complete"===document.readyState?setupRecaptcha():document.onreadystatechange=function(){"complete"==document.readyState&&setupRecaptcha()})},VectorStock.loadDropBox=function(onload,onerror){try{var a;window.Dropbox?onload():((a=document.createElement("script")).src="https://www.dropbox.com/static/api/2/dropins.js",onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",a.id="dropboxjs",a.setAttribute("data-app-key","8vpqxraozoklyno"),document.head.insertBefore(a,document.head.firstElementChild))}catch(e){onerror&&"function"==typeof onerror&&onerror(e)}},VectorStock.getCookie=function(name){try{for(var cookieName=name+"=",cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=cookies[i];if(0===(cookie=cookie.trim?cookie.trim():cookie).indexOf(cookieName))return cookie.substring(cookieName.length,cookie.length)}}catch(e){}},function(){function isFileRemote(file){return 0<=file.search(/https?:/i)&&file.search(/:\/\/[w.]*vectorstock\.com/i)<0}VectorStock.tcUpdate(),window.onerror=function(message,source,lineno,colno,error){if((!source||!isFileRemote(source))&&message&&message.match&&!message.match(/script error/i)&&window.JSON){null==VectorStock.globalErrorTimeout?VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalError",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},0):(clearTimeout(VectorStock.globalErrorTimeout),VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalErrorDelayed",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},1e3));var log={page:window.location.href,source:source,position:lineno?colno?lineno+":"+colno:lineno:"",user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};if(message.match(/nsresult:/i)){var exception=/\exception[\.]+\s+"(.+?)"/i.exec(message);if(1<exception.length){var location=/location:\s+"(.+?)"/i.exec(message);if(1<location.length){var url=/(https\S+)/i.exec(location[1]);if(url&&1<url.length){if(isFileRemote(url[1]))return;log.source=url[1]}url=/line (\d+)/i.exec(location[1]);url&&1<url.length&&(log.position=url[1])}message=exception[1]}}error&&error.stack&&(location=/([^@(\s]+?):([:\d]+)/i.exec(error.stack),isFileRemote(source=location[1]||"")||(log.stack=error.stack))}},$(document).ajaxError(function(event,request,settings){if(request&&(0!=request.status||"error"!=request.statusText&&"canceled"!=request.statusText)&&window.JSON){if(settings.data&&"string"==typeof settings.data)for(var params=settings.data.split("&"),i=0;i<params.length;i++){var param=params[i].split("=");if("login_password"==param[0].toLowerCase()){param[1]=Array(param[1].length+1).join("*"),params[i]=param.join("="),settings.data=params.join("&");break}}var log={page:event.target.URL,request:settings.url,data:settings.data,method:settings.type,code:request.status,user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};if(401==request.status)if(window.SignupBox)return void new SignupBox({screen:"login",sidebar:"login"});200==request.status&&(log.response=request.responseText),VectorStock.log({source:"AJAXError",issue:request.statusText,detail:log})}})}(),$.put=function(url,data){var ajax={url:url,type:"PUT"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$["delete"]=function(url,data){var ajax={url:url,type:"DELETE"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$.trimString=function(s){return"string"==typeof s||s instanceof String?s.trim():""},$.fn.forceNumericOnly=function(){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){/^\d*$/.test(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))})},$.fn.getCaretPosition=function(){var sel,sel_length,elem=this[0];return"selectionStart"in elem?elem.selectionStart:document.selection?(elem.trigger("focus"),sel=document.selection.createRange(),sel_length=document.selection.createRange().text.length,sel.moveStart("character",-elem.value.length),sel.text.length-sel_length):null},$.fn.setCaretPosition=function(pos){return this.each(function(index,elem){var range;elem.setSelectionRange?elem.setSelectionRange(pos,pos):elem.createTextRange&&((range=elem.createTextRange()).collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.trigger("select"))}),this},$.fn.isEmpty=function(){var val=this.val();return val==this.attr("placeholder")||""==val},$.fn.typeEvents=function(){this.each(function(){var timeout_typing,input=$(this);input.on("keydown paste",function(){var len=input.val().length;setTimeout(function(){input.val().length!==len&&input.trigger("value_change")},10)}),input.on("value_change",function(){timeout_typing?clearTimeout(timeout_typing):input.trigger("type_start"),timeout_typing=setTimeout(function(){input.trigger("type_stop"),clearTimeout(timeout_typing),timeout_typing=null},300)})})},$(window).each(function(){var timeout,init=!1,scope=$(this);scope.on("resize",function(){init||(scope.trigger("resizeStart"),init=!0),clearInterval(timeout),timeout=setTimeout(function(){scope.trigger("resizeStop"),init=!1},300)})}),String.prototype.toTitleCase=function(){return this.toLowerCase().replace(/(?:^|\s)\w/g,function(match){return match.toUpperCase()})},String.prototype.toNumber=function(){var adj=this.match(/%\s?$/gi)?.01:1;return parseFloat(this.replace(/[\$,]/g,""))*adj},Array.prototype.remove=function(){for(var needle,index,len=arguments.length;len&&this.length;)for(needle=arguments[--len];-1!==(index=this.indexOf(needle));)this.splice(index,1);return this},window.onGoogleRecaptchaLoaded=function(){try{setTimeout(function(){var googleRecaptchaLoaded=document.createEvent("Event");googleRecaptchaLoaded.initEvent("googleRecaptchaLoaded",!0,!0),window.dispatchEvent(googleRecaptchaLoaded)},100)}catch(e){console.error(e)}},VectorStock.oldBrowser=function(){var old=!1;try{document.head.querySelector("[name~=old-browser]")&&(old=!0)}catch(err){console.error(err)}return VectorStock.oldBrowser=function(){return old},old},VectorStock.zeroPad=function(value,length){for(var len=(value=String(value)).length;len<length;)value="0"+value,len++;return value},VectorStock.formatCommas=function(num,shorthand){var parts,whole,re=/(\d)(?=(\d{3})+\b)/g;if("number"!=typeof num)return"string"==typeof num?(parts=num.split("."),whole=parseInt(parts.shift()),isNaN(whole)?num:parts.length?String(whole).replace(re,"$1,")+"."+parts.join(""):String(whole).replace(re,"$1,")):num;if(shorthand){if(1e6<=num)return String(Math.floor(num/1e5)/10)+"m";if(1e4<=num)return String(Math.floor(num/1e3))+"k"}return VectorStock.formatCommas(String(num))},VectorStock.getLiveSetting=function(name){var live_settings={};try{live_settings=JSON.parse($("meta[name=live-settings]").attr("content"))}catch(err){try{VectorStock.log({source:"LiveSettings",issue:"Failed to load live settings",detail:{error:{name:err.name,message:err.message}}})}catch(e){}}return VectorStock.getLiveSetting=function(name){return live_settings.hasOwnProperty(name)?live_settings[name]:(VectorStock.log({source:"LiveSettings",issue:"Access attempt to undefined setting",detail:{requested:name,settings:live_settings}}),null)},VectorStock.getLiveSetting(name)},VectorStock.supportSessionStorage=function(){var support_sessionstorage=!1;try{sessionStorage.setItem("vs_sessionstorage_test","vs_sessionstorage_test"),sessionStorage.removeItem("vs_sessionstorage_test"),support_sessionstorage=!0}catch(e){}return VectorStock.supportSessionStorage=function(){return support_sessionstorage},support_sessionstorage},VectorStock.supportLocalStorage=function(){var support_localstorage=!1;try{localStorage.setItem("vs_localstorage_test","vs_localstorage_test"),localStorage.removeItem("vs_localstorage_test"),support_localstorage=!0}catch(e){}return VectorStock.supportLocalStorage=function(){return support_localstorage},support_localstorage},VectorStock.supportCookies=function(){var support_cookies=navigator.cookieEnabled;if(!support_cookies)try{document.cookie="vs_cookies_test=1",support_cookies=-1!==document.cookie.indexOf("vs_cookies_test="),document.cookie="vs_cookies_test=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){}return VectorStock.supportCookies=function(){return support_cookies},support_cookies},VectorStock.supportCrypto=function(){return!(!window.crypto||!window.crypto.subtle)},VectorStock.getCSRFName=function(){var name=$('meta[name="csrf-name"]');return name.length||(name=$('<meta name="csrf-name" content="">'),$("head").append(name)),VectorStock.getCSRFName=function(){return name},name},VectorStock.getCSRFValue=function(){var value=$('meta[name="csrf-value"]');return value.length||(value=$('<meta name="csrf-value" content="">'),$("head").append(value)),VectorStock.getCSRFValue=function(){return value},value},VectorStock.signedAJAX=function(){var tcKey,importedKey;return function(options,callback){function addSignature(cryptoKey){options.global=!1,options.beforeSend=function(jqXHR,settings){try{crypto.subtle.sign("HMAC",cryptoKey,function(str){try{for(var buf=new ArrayBuffer(str.length),bufView=new Uint8Array(buf),i=0,strLen=str.length;i<strLen;i++)bufView[i]=str.charCodeAt(i);return buf}catch(e){}return!1}(settings.data)).then(function(signature){try{delete options.global,delete options.beforeSend,options.headers={HMAC:function(buffer){try{for(var hexCodes=[],view=new DataView(buffer),i=0;i<view.byteLength;i+=4){var stringValue=view.getUint32(i).toString(16),paddedValue=("00000000"+stringValue).slice(-"00000000".length);hexCodes.push(paddedValue)}return hexCodes.join("")}catch(e){}return!1}(signature)},$.ajax(options).done(function(){callback&&callback()})}catch(e){callback&&callback()}})["catch"](function(e){callback&&callback()})}catch(e){callback&&callback()}return!1},$.ajax(options)}try{var keyData,tc=VectorStock.tcFetch();tc?tc===tcKey?addSignature(importedKey):(keyData=function(tc){try{for(var buffer=new ArrayBuffer(tc.length/2),view=new Uint8Array(buffer),i=0;i<tc.length;i+=2)view[i/2]=parseInt(tc.substr(i,2),16);return buffer}catch(e){}return!1}(tc))&&crypto.subtle.importKey("raw",keyData,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]).then(function(cryptoKey){tcKey=tc,addSignature(importedKey=cryptoKey)}):!1===tc&&callback&&callback()}catch(e){callback&&callback()}}}();var VSModule=function(){var INSTANCE={},events={};return INSTANCE.dispatchEvent=function(eventtype,args){if(events[eventtype]){null==args||args==undefined?args=[]:args instanceof Array!=!0&&(args=[args]);for(var i=events[eventtype].length;i--;)events[eventtype][i].apply(INSTANCE,args)}return INSTANCE},INSTANCE.on=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.on(eventtype[index],method);return INSTANCE}return events[eventtype]||(events[eventtype]=[]),events[eventtype].push(method),INSTANCE},INSTANCE.off=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.off(eventtype[index],method);return INSTANCE}if(events[eventtype])for(var i=events[eventtype].length;i--;)if(events[eventtype][i]==method){events[eventtype].splice(i,1);break}return INSTANCE},INSTANCE},UserData=(!function($){$.fn.loadingIcon=function(icon_type,icon_shade){var instances,icon_type=icon_type||"medium",icon_shade=icon_shade||"";return this.each(function(){var icon,container,int_animation,int_cleanup;function isFinished(){$.contains(window.document,icon[0])||(icon.remove(),clearInterval(int_animation),clearInterval(int_cleanup))}container=$(this),icon=$("<span></span>").addClass("vs_loadicon").addClass(icon_type).addClass(icon_shade).appendTo(container),container=$("<span></span>").appendTo(icon),$('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve"><g><path d="M12.436,35.229C6.843,32.445,3,26.671,3,20c0-9.39,7.611-17,17-17l-2.532,7.767"/><path d="M27.561,4.769C33.155,7.551,37,13.327,37,20c0,9.389-7.611,17-17,17l2.531-7.768"/></g></svg>').appendTo(container),icon.addClass("animate_css"),int_cleanup=setInterval(isFinished,1e3),instances=instances?instances.add(icon):icon}),instances}}(jQuery),function($){$.fn.dropdown=function(settings_custom){var settings=$.extend({},{classname:"dropdown",width:0},settings_custom);return this.each(function(){var original,module,button,label,options,area,list,icon,is_open,selected_index,scroll_position,open_height,scroll_tally;function onMousewheel(event,delta){var top=list.scrollTop();(0<delta&&0==top||delta<0&&top==list[0].scrollHeight-list.innerHeight())&&event.preventDefault()}function toggleState(){(is_open?close:open)()}function open(){is_open||($("."+settings.classname).not(module).each(function(){$(this).trigger("close")}),$(document).on("mousedown",mouseDown),$(document).on("keydown",scrollTo),module.addClass("open"),list.scrollTop(scroll_position),is_open=!0)}function close(){var transitionEnd,transitionComplete;is_open&&($(document).off("mousedown",mouseDown),$(document).off("keydown",scrollTo),module.removeClass("open"),module.addClass("close"),module.on(transitionEnd="webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",transitionComplete=function(){module.removeClass("close"),module.off(transitionEnd,transitionComplete)}),is_open=!1)}function mouseDown(event){0===$(event.target).parents("."+settings.classname).length&&close()}function onListClick(event){"LI"===event.target.tagName&&(selectItem($(event.target)),setTimeout(function(){close()},150))}function selectItem(item){var item_index=$("li",list).index(item);item_index!==selected_index&&($(".selected",list).removeClass("selected"),$(".dd_icon",list).remove(),item.prepend(icon).addClass("selected"),selected_index=item_index,label.html(item.text()),scroll_position=list.scrollTop()+item.position().top-1,original[0].selectedIndex=selected_index,original.trigger("change"))}function checkDirection(){var _window=$(window),boundary_top=_window.scrollTop(),_window=boundary_top+_window.height(),module_top=module.offset().top,module_bottom=module_top+module.height();is_open||module_bottom<=_window&&boundary_top<=module_top&&("up"==settings.direction?module_top-open_height<boundary_top?module.removeClass("dd_up"):module.addClass("dd_up"):_window<module_bottom+open_height?module.addClass("dd_up"):module.removeClass("dd_up"))}function scrollTo(event){var adjust,offset,limit;0==$(":focus").length&&65<=event.keyCode&&event.keyCode<=90&&(limit=list[0].scrollHeight-list.height(),offset=adjust=0,$("li",list).each(function(){var code=$(this).text().charCodeAt(0);if(""==$(this).attr("data-val"))adjust=$(this).outerHeight(),offset+=adjust;else{if(code==event.keyCode)return!1;{if(code>event.keyCode)return offset-=adjust,!1;adjust=$(this).outerHeight(),offset+=adjust}}}),offset=Math.min(offset,limit),limit=Math.abs(list.scrollTop()-offset),limit=300+5*Math.round(limit/30),scroll_position=offset,list.stop().animate({scrollTop:scroll_position},limit,"easeOutCubic"))}original=$(this),is_open=!1,module=$('<div class="'+settings.classname+' open"><div class="dd_button"><span class="dd_label"></span><span class="dd_icon"></span></div><div class="dd_options"><div class="dd_area"><ul></ul></div></div></div>'),button=$(".dd_button",module),label=$(".dd_label",module),options=$(".dd_options",module),area=$(".dd_area",options),list=$("ul",area),icon=$('<span class="dd_icon"></span>'),original.after(module).hide(),settings.size&&module.addClass("dd_"+settings.size),settings.direction&&module.addClass("dd_"+settings.direction),settings.theme&&module.addClass("dd_"+settings.theme),module.width(0<settings.width?settings.width:original.outerWidth()),scroll_tally=0,$("option",original).each(function(i){var item=$("<li>"+$(this).text()+"</li>").attr("data-val",$(this).val()).appendTo(list);$(this).is(":selected")&&(item.append(icon).addClass("selected"),label.html($(this).text()),scroll_position=scroll_tally,selected_index=i),scroll_tally+=item.outerHeight()}),open_height=options.height(),module.on("open",open).on("close",close),button.on("click",toggleState),list.on("mousewheel",onMousewheel).on("click",onListClick),$(window).on("scroll",checkDirection),original.on("change",function(){var item_index=$("option:selected",this).index();selectItem(list.find("li").eq(item_index))}),module.removeClass("open"),checkDirection()}),this}}(jQuery),function(){var user_id,user_hash,user_browser_hash,INSTANCE={},support_sessionstorage=!1,support_localstorage=!1,synced_cart=[],cart_updated=!1,cart_saved=!1,purchased=[],unlimited=[],galleries=[],following=[],notfollowing=[];function getProfile(){$.get("/auth/user_profile").done(function(response){response?setProfile(response):logIssue()}).fail(logIssue)}function logIssue(){try{$.get("/api/purchases/setup",function(response){VectorStock.log({source:"CustomError",issue:"JSON Profile",detail:{user_id:response.user_id}})})}catch(e){}}function setProfile(data){data&&data.id&&(user_id=data.id,user_hash=data.user_hash,INSTANCE.checkCart(data.cart_update,data.cart_hash),data.cart_synced&&(cart_saved=!0),purchased=data.purchased||[],unlimited=data.unlimited||[],galleries=data.galleries||[],following=data.following||[],notfollowing=data.notfollowing||[],save())}function save(type){try{support_sessionstorage&&JSON&&JSON.stringify&&(type&&"id"!=type||(sessionStorage.sid=JSON.stringify(user_id)),type&&"user_hash"!=type||(sessionStorage.user_hash=JSON.stringify(user_hash)),type&&"purchased"!=type||(sessionStorage.purchased=JSON.stringify(purchased)),type&&"unlimited"!=type||(sessionStorage.unlimited=JSON.stringify(unlimited)),type&&"galleries"!=type||(sessionStorage.galleries=JSON.stringify(galleries)),type&&"following"!=type||(sessionStorage.following=JSON.stringify(following)),type&&"notfollowing"!=type||(sessionStorage.notfollowing=JSON.stringify(notfollowing)))}catch(e){}try{support_localstorage&&JSON&&JSON.stringify&&(type&&"synced_cart"!=type||(localStorage.synced_cart=JSON.stringify(synced_cart),localStorage.cart_saved=cart_saved?"1":""))}catch(e){}}function getGalleryIndexByID(gallery_id){for(var i=0;i<galleries.length;i++)if(galleries[i].id==gallery_id)return i;return null}function emptyGallery(gallery_id){var gallery_index=getGalleryIndexByID(gallery_id);galleries[gallery_index].contents=[]}function purge_session_storage(){support_sessionstorage&&(sessionStorage.removeItem("sid"),sessionStorage.removeItem("user_hash"),sessionStorage.removeItem("purchased"),sessionStorage.removeItem("unlimited"),sessionStorage.removeItem("galleries"),sessionStorage.removeItem("following"),sessionStorage.removeItem("notfollowing"))}return INSTANCE.destroy=function(prevent_page_reload){purge_session_storage(),support_localstorage&&(localStorage.removeItem("synced_cart"),localStorage.removeItem("cart_saved")),prevent_page_reload||INSTANCE.setSyncedCart([],md5(JSON.stringify([])))},INSTANCE.refresh=getProfile,INSTANCE.setProfile=setProfile,INSTANCE.isInCart=function(vector_id){if(vector_id=parseInt(vector_id),synced_cart.length)for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return!0;return!1},INSTANCE.addToSyncedCart=function(vector_id,license,replace){vector_id=parseInt(vector_id),replace=void 0===replace||replace;for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return replace?(synced_cart.splice(i,1),synced_cart.push({id:vector_id,license:license,customization:0})):synced_cart[i]={id:vector_id,license:license,customization:0},save("synced_cart"),synced_cart.length;return synced_cart.push({id:vector_id,license:license,customization:0}),save("synced_cart"),synced_cart.length},INSTANCE.removeFromSyncedCart=function(vector_id){vector_id=parseInt(vector_id);for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id){synced_cart.splice(i,1),save("synced_cart");break}return synced_cart.length},INSTANCE.emptySyncedCart=function(){synced_cart=[],save("synced_cart")},INSTANCE.getSyncedCart=function(){return synced_cart},INSTANCE.checkCart=function(cart_update,server_hash){support_localstorage&&cart_update&&server_hash&&md5(JSON.stringify(synced_cart))!==server_hash&&INSTANCE.setSyncedCart(cart_update,server_hash)},INSTANCE.setSyncedCart=function(cart_update,cart_hash){support_localstorage&&cart_update&&cart_hash&&($("meta[name=cart-hash]").attr("content",cart_hash),synced_cart=cart_update,save("synced_cart"),VectorStock.setCartTally(VectorStock.userData.reloadSyncedCart()))},INSTANCE.isCartSynced=function(){return!support_localstorage||$("meta[name=cart-hash]").attr("content")===md5(JSON.stringify(synced_cart))},INSTANCE.hasCartUpdated=function(){return cart_updated},INSTANCE.markCartUpdated=function(){cart_updated=!0},INSTANCE.getCartSaved=function(){return cart_saved?"1":""},INSTANCE.setCartSaved=function(saved){cart_saved=!!saved},INSTANCE.reloadSyncedCart=function(){if(support_localstorage&&localStorage.synced_cart!==undefined){if(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=Array.isArray(synced_cart)?synced_cart:[],cart_saved=!!localStorage.cart_saved,VectorStock.search_results&&VectorStock.search_results.syncCartButtons(),window.SearchMosaicGrid&&SearchMosaicGrid.instances&&SearchMosaicGrid.instances.length)for(var i=0;i<SearchMosaicGrid.instances.length;i++)SearchMosaicGrid.instances[i].syncCartButtons();if(VectorStock.cart_page&&(VectorStock.cart_page.header.empty(),VectorStock.cart_page.page.attr("data-payment",""),VectorStock.cart_page.table.empty(),VectorStock.cart_page.footer.empty(),VectorStock.cart_page.table.reloadCartPage(synced_cart.length)),VectorStock.gallery_table&&VectorStock.gallery_table.syncCartButtons(),VectorStock.history_table&&VectorStock.history_table.syncCartButtons(),VectorStock.following_images&&VectorStock.following_images.syncCartButtons(),VectorStock.topic_tabs)for(var tab_id in VectorStock.topic_tabs)VectorStock.topic_tabs[tab_id].syncCartButtons();return VectorStock.syncCartButton&&VectorStock.syncCartButton(),synced_cart.length}return 0},INSTANCE.hasPurchased=function(vector_id){return vector_id=parseInt(vector_id),!!(purchased&&purchased.indexOf&&-1<purchased.indexOf(vector_id))},INSTANCE.unlimitedPurchased=function(vector_id){return vector_id=parseInt(vector_id),!!(unlimited&&unlimited.indexOf&&-1<unlimited.indexOf(vector_id))},INSTANCE.addPurchase=function(vector_ids){for(var i=(vector_ids=vector_ids instanceof Array==0?[vector_ids]:vector_ids).length;i--;){var vector_id=parseInt(vector_ids[i]);INSTANCE.hasPurchased(vector_id)||purchased.push(vector_id)}save("purchased");try{VectorStock.setTally("myarchive",purchased.length)}catch(e){}},INSTANCE.addUnlimitedPurchase=function(vector_ids){if(VectorStock.hasUnlimitedSubscription()){for(var i=(vector_ids=vector_ids instanceof Array==0?[vector_ids]:vector_ids).length;i--;){var vector_id=parseInt(vector_ids[i]);INSTANCE.unlimitedPurchased(vector_id)||unlimited.push(vector_id)}save("unlimited")}},INSTANCE.isInGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id);var gallery_index=getGalleryIndexByID(gallery_id=parseInt(gallery_id));return!!(galleries[gallery_index]&&0<=galleries[gallery_index].contents.indexOf(vector_id))},INSTANCE.createGallery=function(gallery_id,gallery_name){gallery_id=parseInt(gallery_id),galleries.unshift({id:gallery_id,name:gallery_name,contents:[]}),save("galleries")},INSTANCE.renameGallery=function(gallery_id,gallery_name){var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index].name=gallery_name,save("galleries")},INSTANCE.addToGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index]?(galleries[gallery_index].contents.push(vector_id),save("galleries")):getProfile()},INSTANCE.removeFromGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var vector_index,gallery_index=getGalleryIndexByID(parseInt(gallery_id));!galleries[gallery_index]||-1<(vector_index=galleries[gallery_index].contents.indexOf(vector_id))&&galleries[gallery_index].contents.splice(vector_index,1),save("galleries")},INSTANCE.emptyGallery=function(gallery_id){emptyGallery(parseInt(gallery_id)),save("galleries")},INSTANCE.deleteGallery=function(gallery_id){emptyGallery(gallery_id=parseInt(gallery_id));var gallery_index=getGalleryIndexByID(gallery_id);gallery_index&&galleries.splice(gallery_index,1),save("galleries")},INSTANCE.isFollowing=function(artist_id){return!!(following&&following.indexOf&&-1<following.indexOf(artist_id))},INSTANCE.followArtist=function(artist_id){-1===following.indexOf(artist_id)&&(following.push(artist_id),save("following"))},INSTANCE.unfollowArtist=function(artist_id){var index=following.indexOf(artist_id);-1<index&&(following.splice(index,1),save("following"))},INSTANCE.isNotFollowing=function(artist_id){return!!(notfollowing&&notfollowing.indexOf&&-1<notfollowing.indexOf(artist_id))},INSTANCE.notFollowArtist=function(artist_id){-1===notfollowing.indexOf(artist_id)&&(notfollowing.push(artist_id),save("notfollowing"))},INSTANCE.unNotFollowArtist=function(artist_id){var index=notfollowing.indexOf(artist_id);-1<index&&(notfollowing.splice(index,1),save("notfollowing"))},INSTANCE.isArtist=function(artist_id){return artist_id=parseInt(artist_id),user_id&&artist_id&&user_id===artist_id},support_sessionstorage=VectorStock.supportSessionStorage(),support_localstorage=VectorStock.supportLocalStorage(),support_sessionstorage&&("undefined"==sessionStorage.sid&&sessionStorage.removeItem("sid"),VectorStock.isLoggedIn()?sessionStorage.sid?(user_browser_hash=sessionStorage.user_hash&&JSON.parse(sessionStorage.user_hash)||user_hash,function(){var meta=document.head.querySelector("meta[name=user-hash]");if(meta)return meta.content;return!1}()==user_browser_hash?(user_id=JSON.parse(sessionStorage.sid),user_hash=user_browser_hash,purchased=sessionStorage.purchased&&JSON.parse(sessionStorage.purchased)||purchased,unlimited=sessionStorage.unlimited&&JSON.parse(sessionStorage.unlimited)||unlimited,galleries=sessionStorage.galleries&&JSON.parse(sessionStorage.galleries)||galleries,following=sessionStorage.following&&JSON.parse(sessionStorage.following)||following,notfollowing=sessionStorage.notfollowing&&JSON.parse(sessionStorage.notfollowing)||notfollowing):getProfile()):getProfile():support_sessionstorage&&(sessionStorage.sid&&purge_session_storage(),purchased=sessionStorage.purchased&&JSON.parse(sessionStorage.purchased)||purchased)),support_localstorage&&(localStorage.synced_cart!==undefined&&(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=Array.isArray(synced_cart)?synced_cart:[]),cart_saved=!!localStorage.cart_saved),INSTANCE}),MenuMobile=function(){var INSTANCE=new VSModule,icon=$("#mobilenav-icon"),menu=$("#mobilenav-menu"),logout=$("li.logout a",menu),is_open=(VectorStock.isMobile(),!1),int_closing=!1;function open(){is_open||(clearInterval(int_closing),menu.removeClass("close"),icon.addClass("open"),menu.addClass("open"),updateHeight(),$(window).on("resize",updateHeight),$(document).on("click",clickOutside),is_open=!0)}function close(){is_open&&(icon.removeClass("open"),menu.addClass("close"),int_closing=setTimeout(function(){menu.removeClass("open close"),menu.css({height:""})},750),$(document).off("click",clickOutside),is_open=!1)}function clickOutside(event){if($(event.target).closest(menu).length)try{var menu_div=menu.children("div"),bottom=menu_div.position().top+menu_div.offset().top+menu_div.outerHeight(!0);event.pageY>bottom&&close()}catch(e){}else close()}function updateHeight(){var offset=$("body > header nav.top").outerHeight(),page=$(document).height();menu.css({height:page-offset})}return INSTANCE.open=open,INSTANCE.close=close,$('li[data-action="login"] a').on("click",function(){if(window.SignupBox)return new SignupBox({screen:"login",sidebar:"login"}),!1}),icon.on("click",function(event){(is_open?close:open)(),event.stopPropagation(),event.preventDefault()}),logout.on("click",function(){return VectorStock.userData.destroy(!0),$("form.logout",menu).trigger("submit"),!1}),INSTANCE},PreviewLink=(!function($){$.fn.popout=function(customSettings){$.fn.popout.defaultSettings={className:"popout",align:"left"};var settings=$.extend({},$.fn.popout.defaultSettings,customSettings);return this.each(function(){var isOpen,instance,button,panel;function open(){isOpen||($("."+settings.className).each(function(){$(this)[0]!==instance[0]&&$(this).trigger("close")}),$(document).on("mousedown",mouseDown),instance.addClass("open"),$(".po_content",panel).hide().slideDown(100,"easeOutExpo"),isOpen=!0)}function mouseDown(event){0===$(event.target).parents("."+settings.className).length&&instance.trigger("close")}function close(){isOpen&&($(document).off("mousedown",mouseDown),instance.removeClass("open"),isOpen=!1)}instance=$(this),isOpen=instance.hasClass("open"),button=$("a:first",instance).wrapInner('<span class="po_icon"></span>'),$("div:first",instance).wrap('<div class="po_panel"><div class="po_content"></div></div>'),panel=$(".po_panel",instance),instance.hasClass(settings.className)||instance.addClass(settings.className),"right"==settings.align?instance.addClass("alignr"):"center"==settings.align&&instance.addClass("alignc"),button.on("click",function(){return isOpen?instance.trigger("close"):instance.trigger("open"),!1}),instance.on("open",open),instance.on("close",close),isOpen&&$(document).on("mousedown",mouseDown),instance.addClass("ready")}),this}}(jQuery),function(element,vector_id,vector_title,is_pending){var src_thumb,src_preview,timeout_hover,pane,stem,area,grid,img,INSTANCE=VSModule(),SIZE_WIDE=237,SIZE_HIGH=250,TIME_HOVER=2e3,axis="horizontal",is_enabled=!0,is_text_only=!1,has_hovered=!1,src_cache={};function showPreviewPane(event){var errors,errorCheck,box_space_right,offset_x,pane_height;is_enabled&&!window.previews_disabled&&($("#previewpane, #newpreviewpane").remove(),element.attr("title",""),$("img",element).attr("title",""),element.parent().addClass("hover"),pane=$('<div id="previewpane"><span class="pp_title">'+vector_title+"</span></div>"),area=$("<div></div>").addClass("pp_imagearea"),stem=$("<div></div>"),pane.prepend(area).prepend(stem),img=new Image,$(img).attr("width",SIZE_WIDE).attr("height",SIZE_HIGH),src_cache[vector_id]||is_text_only?$(img).attr("src",src_preview).addClass("pp_preview").appendTo(area):(errors=0,errorCheck=function(event){$(event.target).remove().attr("src")==src_preview&&grid.fadeOut(200,"easeOutSine"),1<++errors&&$('<div class="pp_error"><p>Preview image could not be loaded...</p></div>').appendTo(area).hide().fadeIn(500)},grid=$('<div class="pp_grid"></div>').css("width",SIZE_WIDE),area.append(grid).append($('<img src="'+src_thumb+'" width="'+SIZE_WIDE+'" height="'+SIZE_HIGH+'" />').on("error",errorCheck)).css("width",SIZE_WIDE),$(img).on("load",function(){var scope=$(this).addClass("pp_preview").appendTo(area).addClass("hide");setTimeout(function(){scope.addClass("show")},10),src_cache[vector_id]=!0}).on("error",errorCheck).attr("src",src_preview)),pane.appendTo("body").hide().fadeIn(200,"easeOutSine"),errorCheck=SIZE_WIDE+parseFloat(area.css("marginLeft"))+parseFloat(area.css("marginRight")),pane_height=pane.outerHeight(),pane.css("width",errorCheck),"vertical"===axis?(event.pageY<$(window).height()/2?(buffer_top=60,stem.addClass("pp_stemtop")):(buffer_top=0-(pane_height+60),stem.addClass("pp_stembottom")),pane_height=event.pageX-$(event.target).offset().left,box_space_right=$(event.target).width()-pane_height,offset_x=Math.ceil(errorCheck/2),buffer_left=0-offset_x,(pane_height=event.pageX-(offset_x+pane_height+5))<0&&(buffer_left=Math.abs(pane_height)-offset_x),(pane_height=$(window).width()-(event.pageX+offset_x+box_space_right+5))<0&&(buffer_left=0-offset_x-Math.abs(pane_height)),box_space_right=Math.abs(buffer_left)-12,stem.css({left:box_space_right=SIZE_WIDE<box_space_right?SIZE_WIDE:box_space_right})):(event.pageX<$(window).width()/2?(buffer_left=60,stem.addClass("pp_stemleft")):(buffer_left=0-(errorCheck+60),stem.addClass("pp_stemright")),pane_height=(offset_x=event.pageY-$(window).scrollTop())/$(window).height(),offset_x<130?pane_height=0:offset_x>$(window).height()-130&&(pane_height=1),buffer_top=0-Math.floor(pane_height*(pane.height()-55))-20,stem.css({top:Math.abs(buffer_top)-7})),element.on("mousemove",followMouseCursor),followMouseCursor(event),has_hovered||(timeout_hover=setTimeout(function(){has_hovered=!0,INSTANCE.dispatchEvent("hover"),timeout_hover=null},TIME_HOVER)))}function hidePreviewPane(event){element.attr("title",vector_title),$("img",element).attr("title",vector_title),element.parent().removeClass("hover"),pane&&pane.remove(),element.off("mousemove",followMouseCursor),timeout_hover&&clearTimeout(timeout_hover)}function followMouseCursor(event){pane.css("left",event.pageX+buffer_left).css("top",event.pageY+buffer_top)}return INSTANCE.disable=function(){is_enabled=!1},INSTANCE.enable=function(){is_enabled=!0},vector_title=vector_title||"",is_text_only=!$("img",element).length,src_thumb=VectorStock.imagePath(vector_id,vector_title,"small",is_pending),src_preview=VectorStock.imagePath(vector_id,vector_title,"medium",is_pending),element.on("mouseenter",showPreviewPane).on("mouseleave click",hidePreviewPane),INSTANCE}),NewPreviewLink=function(element,vector_id,vector_title){var timeout_hover,pane,stem,area,picture,INSTANCE=VSModule(),TIME_HOVER=2e3,MOBILE=225,NORMAL=250,RETINA=300,is_enabled=!0,has_hovered=!1,buffer_top=0,buffer_left=0;function showPreviewPane(event){var preview_width,preview_height,image;is_enabled&&!window.previews_disabled&&($("#previewpane, #newpreviewpane").remove(),element.removeAttr("title"),element.parent().addClass("hover"),pane=$('<div id="newpreviewpane"><span class="pp_title"></span></div>'),$(".pp_title",pane).text(vector_title),area=$('<div class="pp_imagearea"></div>'),stem=$("<div></div>"),pane.prepend(area).prepend(stem),preview_width=(image=$("picture",element)).data("width"),preview_height=image.data("height"),(picture=$("<picture>")).html(image.html()),(image=$("img",picture)).removeAttr("title"),parseInt(preview_height)>parseInt(preview_width)&&image.addClass("portrait"),image.one("load",function(){followMouseCursor(event);var images=VectorStock.newPreviewImagePath(vector_id,vector_title),avif_source=$('<source type="image/avif">'),webp_source=$('<source type="image/webp">'),sizes="(max-width: 1046px) "+MOBILE+"px, (min-width: 1047px) and (min-device-pixel-ratio: 2) "+RETINA+"px, (min-width: 1047px) "+NORMAL+"px";avif_source.attr("srcset",images.avif[1]+" 750w, "+images.avif[0]+" 500w").attr("sizes",sizes),webp_source.attr("srcset",images.webp[1]+" 750w, "+images.webp[0]+" 500w").attr("sizes",sizes),$("source:nth-child(2)",picture).replaceWith(webp_source),$("source:nth-child(1)",picture).replaceWith(avif_source)}),picture.addClass("pp_preview").appendTo(area),pane.appendTo("body").hide().fadeIn(200,"easeOutSine"),element.on("mousemove",followMouseCursor),has_hovered||(timeout_hover=setTimeout(function(){has_hovered=!0,INSTANCE.dispatchEvent("hover"),timeout_hover=null},TIME_HOVER)))}function hidePreviewPane(event){element.attr("title",vector_title),$("img",element).attr("title",vector_title),element.parent().removeClass("hover"),pane&&pane.remove(),element.off("mousemove",followMouseCursor),timeout_hover&&clearTimeout(timeout_hover)}function followMouseCursor(event){var win=$(window),half_window_width=win.width()/2,pane_width=pane.outerWidth(),half_window_width=(pane.outerHeight(),event.pageX<half_window_width?(buffer_left=60,stem.addClass("pp_stemleft")):(buffer_left=0-(pane_width+60),stem.addClass("pp_stemright")),event.pageY-win.scrollTop()),pane_width=half_window_width/win.height();half_window_width<130?pane_width=0:half_window_width>win.height()-130&&(pane_width=1),buffer_top=0-Math.floor(pane_width*(pane.height()-55))-20,stem.css({top:Math.abs(buffer_top)-7}),pane.css("left",event.pageX+buffer_left).css("top",event.pageY+buffer_top)}return INSTANCE.disable=function(){is_enabled=!1},INSTANCE.enable=function(){is_enabled=!0},vector_title=vector_title||"",$("img",element).length,element.on("mouseenter",showPreviewPane).on("mouseleave click",hidePreviewPane),INSTANCE},ImageSearchPopup=function(){var overlay,container,section,title_loading,input_image,input_url,but_close,INSTANCE=new VSModule,popup_active=!1;function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function onDragEnter(event){event.preventDefault(),section.hasClass("dragover")||section.addClass("dragover")}function onDragLeave(event){event.preventDefault(),section.removeClass("dragover")}function onDragDrop(event){event.preventDefault(),event.dataTransfer.files&&event.dataTransfer.files[0]&&searchByFile(event.dataTransfer.files[0])}function onFileSelect(event){input_image[0].files&&input_image[0].files[0]&&searchByFile(input_image[0].files[0])}function onTextInputChange(event){var input_value=input_url.val();input_value.match(/\.(jpe?g|gif|png)$/i)&&(event.preventDefault(),input_url.off("change keyup",onTextInputChange).off("keypress",onTextInputKeyPress),input_url.blur(),searchByURL(input_value))}function onTextInputKeyPress(event){13==event.keyCode&&(event.preventDefault(),input_url.off("change keyup",onTextInputChange).off("keypress",onTextInputKeyPress),input_url.blur(),searchByURL(input_url.val()))}function searchByFile(image_file){section.removeClass("dragover").addClass("loading");var icon_loading=title_loading.loadingIcon("large");$("<p>Uploading your image...</p>").appendTo(title_loading),ReverseImageSearch(image_file,function(redirect_url){popup_active&&VectorStock.goToURL(redirect_url)},function(error){popup_active&&(alert(error),icon_loading.remove(),title_loading.empty(),section.removeClass("loading"))})}function searchByURL(image_url){if(!function(image_url){try{return new URL(image_url),1}catch(error){return}}(image_url))return alert("Invalid image URL"),input_url.on("change keyup",onTextInputChange).on("keypress",onTextInputKeyPress),void input_url.focus();section.removeClass("dragover").addClass("loading");var icon_loading=title_loading.loadingIcon("large");$("<p>Retrieving the image...</p>").appendTo(title_loading),ReverseImageSearch(image_url,function(redirect_url){popup_active&&VectorStock.goToURL(redirect_url)},function(error){popup_active&&(alert(error),icon_loading.remove(),title_loading.empty(),section.removeClass("loading"),input_url.on("change keyup",onTextInputChange).on("keypress",onTextInputKeyPress),input_url.focus())})}return INSTANCE.close=function(){container&&container.remove(),overlay.remove(),popup_active=!1,INSTANCE.dispatchEvent("close")},overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),container=$('<div id="box-imagesearch"><div class="wrapper"><header><h4>Search by Image</h4><p>Upload an image to view thousands of similar vectors</p></header><section><div class="file-image"><div class="title-image"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" role="img"><polyline points="30.5,42.9 10.5,42.9 10.5,7.1 31.8,7.1 39.5,14.8 39.5,29.5"/><polygon class="fill" points="30.5,7.1 30.5,16.2 39.5,16.2 39.5,14.8 31.8,7.1"/><circle class="fill" cx="19.7" cy="17.1" r="2.9"/><polygon class="fill" points="22.3,22.9 27.4,29.9 30.4,25.7 35.6,32.9 15.1,32.9"/><polyline points="44.1,40.3 39.5,35.7 34.8,40.3"/><line x1="39.5" y1="35.7" x2="39.5" y2="48.9"/></svg><div class="file"><p>Drag and drop your image to upload <br>or <span class="link">browse your files</span></p><input type="file" accept="image/png,image/jpeg,image/jpg,image/gif" name="file_image"></div></div><div class="title-loading"></div></div><div class="file-url"><p>Or</p><input type="url" name="file_url" value="" placeholder="Paste your image URL here..."></div></section><button data-action="close" type="button">Close</button></div></div>').appendTo(overlay),but_close=$('button[data-action="close"]',container),section=$("section",container),title_loading=$(".file-image .title-loading",container),input_image=$('.file-image input[name="file_image"]',container),input_url=$('.file-url input[name="file_url"]',container),popup_active=!0,but_close.on("click",INSTANCE.close),section[0].addEventListener("dragover",onDragEnter,!1),section[0].addEventListener("dragleave",onDragLeave,!1),section[0].addEventListener("drop",onDragDrop,!1),input_image.on("change",onFileSelect),input_url.on("change keyup",onTextInputChange).on("keypress",onTextInputKeyPress),setTimeout(function(){container.addClass("reveal")}),INSTANCE},EventTrackerLogger=function(tracking_id,tracking_url,settings){var timeout_process,INSTANCE=new VSModule,TIME_DELAY_PROCESSING=1e4,MAX_EVENTS_SEND=800,memory_events=[];function getLocalStorageEvents(){try{return JSON.parse(localStorage[tracking_id])}catch(e){return[]}}function storeEvent(event){var stored_events_arr;settings.localstorage?((stored_events_arr=settings.localstorage?getLocalStorageEvents():memory_events).push(event),stored_events_arr=JSON.stringify(stored_events_arr),localStorage[tracking_id]=stored_events_arr):memory_events.push(event),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}function sendToServer(events,callback){var data={events:events,timestamp:Math.round((new Date).getTime()/1e3)};VectorStock.signedAJAX({url:tracking_url,method:"POST",data:data},callback)}function processStoredEvents(){var stored_events,extra_events,on_success=settings.localstorage?(stored_events=getLocalStorageEvents()).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){localStorage[tracking_id]=JSON.stringify(extra_events),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){localStorage.removeItem(tracking_id)}:(stored_events=memory_events).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){memory_events=extra_events,timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){memory_events=[]};stored_events&&stored_events.length&&sendToServer(stored_events,on_success),timeout_process=timeout_process&&null}return INSTANCE.track=function(event_data,process_later){process_later?storeEvent(event_data):sendToServer([event_data])},"complete"===document.readyState?processStoredEvents():document.onreadystatechange=function(){"complete"==document.readyState&&processStoredEvents()},INSTANCE},EventTracker=(EventTrackerLogger.ID_SEARCH="vs_events",EventTrackerLogger.ID_LOG="vs_log",function(){var track_search,track_log,support_cookies,INSTANCE=new VSModule,tracking_enabled=!0,support_localstorage=!1,support_sessionstorage=!1;return INSTANCE.track=function(id_tracker,event_data,process_later){if(tracking_enabled&&("string"!=typeof id_tracker&&(process_later=event_data,event_data=id_tracker,id_tracker=EventTrackerLogger.ID_SEARCH),event_data))if(id_tracker===EventTrackerLogger.ID_SEARCH){if(event_data.action){event_data.timestamp||(event_data.timestamp=Math.round((new Date).getTime()/1e3));for(var event_arr=[event_data.action,event_data.image||"",event_data.search||"",event_data.timestamp,event_data.search_scope||null,event_data.search_artist||null,event_data.search_category||null];null==event_arr[event_arr.length-1];)event_arr.pop();track_search.track(event_arr,process_later)}}else id_tracker===EventTrackerLogger.ID_LOG&&track_log.track(event_data,process_later)},INSTANCE.store=function(event_id,event_value,event_is_session){tracking_enabled&&support_localstorage&&support_sessionstorage&&(event_is_session?sessionStorage[event_id]=event_value:localStorage[event_id]=event_value)},INSTANCE.retrieve=function(event_id,event_is_session){if(tracking_enabled&&support_localstorage&&support_sessionstorage){var event_value;if(event_is_session)if(sessionStorage[event_id]!==undefined)return event_value=sessionStorage[event_id],sessionStorage.removeItem(event_id),event_value;if(localStorage[event_id]!==undefined)return event_value=localStorage[event_id],localStorage.removeItem(event_id),event_value}},support_localstorage=VectorStock.supportLocalStorage(),support_sessionstorage=VectorStock.supportSessionStorage(),support_cookies=VectorStock.supportCookies(),(tracking_enabled=(tracking_enabled=VectorStock.isProduction()&&VectorStock.supportCrypto()&&support_cookies&&support_sessionstorage)&&!document.head.querySelector("meta[name=events-disabled]"))&&(support_cookies={localstorage:support_localstorage,sessionstorage:support_sessionstorage,cookies:support_cookies},track_search=new EventTrackerLogger(EventTrackerLogger.ID_SEARCH,"/api/tracking",support_cookies),track_log=new EventTrackerLogger(EventTrackerLogger.ID_LOG,"/api/log/events",support_cookies)),INSTANCE}()),ReverseImageSearch=function(input,success,failed,progress){var credentials,file,url,xhr;function fail(error){var detail={token:credentials&&credentials.token?credentials.token:null,url:url||null,file:file?"Yes":"No"};VectorStock.log({source:"ReverseImageSearch",issue:error,detail:detail}),failed(error)}function validateFile(){var formData,xhr;16777217<file.size?fail("File size too large ("+file.size+")"):0!==file.type.indexOf("image")?fail("Invalid file MIME type ("+file.type+")"):(formData=new FormData,$.each(credentials.params,function(key,value){formData.append(key,value)}),formData.append("file",file),(xhr=new XMLHttpRequest).open("POST",credentials.endpoint_url),xhr.onprogress=progress,xhr.onerror=function(){fail("Failed to upload image for processing")},xhr.onloadend=searchSuccess,xhr.send(formData))}function searchSuccess(){var params={};url!==undefined&&(params.url=url),$.post("/reverse-image-search/"+credentials.token,params).done(function(response){response.success?success("/royalty-free-vectors/vectors-similar-to_"+credentials.token):fail("Failed to process image")}).fail(function(jqXHR,textStatus,errorThrown){fail(errorThrown)})}success instanceof Function||(success=function(uri){VectorStock.goToURL(uri)}),progress instanceof Function||(progress=function(progressEvent){}),"string"==typeof input?(url=input,credentials={token:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)})},(xhr=new XMLHttpRequest).open("HEAD",url),xhr.onload=function(){var contentType=xhr.getResponseHeader("Content-Type")||"",contentLength=parseInt(xhr.getResponseHeader("Content-Length"));16777217<contentLength?fail("URL file size too large ("+contentLength+")"):0!==contentType.indexOf("image")?fail("Invalid URL MIME type ("+contentType+")"):searchSuccess()},xhr.onerror=function(){fail("Failed to validate URL")},xhr.send()):$.post("/reverse-image-search/setup").done(function(response){response.success?(credentials=response.credentials,input instanceof File?(file=input,validateFile()):input instanceof $?input.length?input[0].files&&input[0].files[0]?(file=input[0].files[0],validateFile()):input.on("change",function(){file=input[0].files[0],validateFile()}):fail("Empty jQuery object"):fail("Input must be a File or a jQuery object")):fail("Failed to obtain credentials")}).fail(function(jqXHR,textStatus,errorThrown){fail(errorThrown)})},ProcessLogin=(VectorStock.FieldInput=function(input,format){var mod_fset,err_message,regex_alphanumeric,INSTANCE=new VSModule;function onFocus(){INSTANCE.dispatchEvent("focus")}function onBlur(){INSTANCE.dispatchEvent("blur")}function onUpdate(event){13==event.keyCode&&INSTANCE.dispatchEvent("return",INSTANCE.value),setTimeout(function(){var value=input.val();value!==INSTANCE.value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=value,INSTANCE.dispatchEvent("change",INSTANCE.value))},10)}function onChange(){var value=input.val();INSTANCE.value!==value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=input.val(),INSTANCE.dispatchEvent("change",INSTANCE.value))}function onAnimationStart(event){event&&event.originalEvent&&event.originalEvent.animationName&&"onAutoFillStart"==event.originalEvent.animationName&&onChange()}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.value=input.val(),INSTANCE.minlength=input.attr("minlength")?parseInt(input.attr("minlength")):null,INSTANCE.maxlength=input.attr("maxlength")?parseInt(input.attr("maxlength")):null,INSTANCE.disabled=input.prop("disabled"),INSTANCE.disable=function(){return mod_fset.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0,INSTANCE},INSTANCE.enable=function(){return mod_fset.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1,INSTANCE},INSTANCE.focus=function(){return input.trigger("focus"),INSTANCE},INSTANCE.select=function(){return input.trigger("select"),INSTANCE},INSTANCE.blur=function(){return input.trigger("blur"),INSTANCE},INSTANCE.trigger=function(event){return input.trigger(event)},INSTANCE.showError=function(message){function showError(){err_message.addClass("show"),icon.off("touchstart",showError),$("body").on("touchstart",hideError)}function hideError(){err_message.removeClass("show"),icon.on("touchstart",showError),$("body").off("touchstart",hideError)}var icon,wrap;return err_message?$(".explanation p",err_message).html(message):(mod_fset.addClass("error"),err_message=$('<div class="message" />').appendTo(mod_fset),icon=$('<div class="icon" />').appendTo(err_message),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),icon.on("touchstart",showError)),INSTANCE},INSTANCE.clearError=function(){if(err_message)return mod_fset.removeClass("error"),err_message.remove(),err_message=null,INSTANCE},INSTANCE.hasError=function(){return!!err_message},INSTANCE.setValue=function(value,suppress_event){return(value=value||"")==INSTANCE.value||(mod_fset.toggleClass("filled",""!==value),input.val(value),INSTANCE.value=value,suppress_event||INSTANCE.dispatchEvent("change",INSTANCE.value)),INSTANCE},mod_fset=input.closest("fieldset"),input.on("focus",onFocus),input.on("blur",onBlur),input.on("keydown cut paste",onUpdate),input.on("change input",onChange),input.on("animationstart",onAnimationStart),format&&(format==VectorStock.FieldInput.FORMAT_ALPHANUMERIC?(regex_alphanumeric=/[^a-zA-Z\d\- ]/g,input.on("keypress",function(event){if(event.metaKey||event.ctrlKey)return!0;if(0==event.which)return!0;if(event.which<33)return!0;var character=String.fromCharCode(event.which);return!regex_alphanumeric.test(character)}),input.on("paste change input",function(event){setTimeout(function(){var value_original=input.val(),value_stripped=value_original;(value_stripped=(value_stripped=(value_stripped=value_stripped.replace(regex_alphanumeric,"")).replace(/\-+/g,"-")).replace(/\s+/g," "))!==value_original&&input.val(value_stripped)})})):format==VectorStock.FieldInput.FORMAT_CARD_NUMBER?input.payment("formatCardNumber"):format==VectorStock.FieldInput.FORMAT_CARD_EXPIRY?input.payment("formatCardExpiry"):format==VectorStock.FieldInput.FORMAT_CARD_CVC&&input.payment("formatCardCVC")),INSTANCE},VectorStock.FieldInput.FORMAT_ALPHANUMERIC="alphanumeric",VectorStock.FieldInput.FORMAT_CARD_NUMBER="card_number",VectorStock.FieldInput.FORMAT_CARD_EXPIRY="card_expiry",VectorStock.FieldInput.FORMAT_CARD_CVC="card_cvc",VectorStock.FieldCheckbox=function(input){var container,label,err_message,INSTANCE=new VSModule;function onChange(prevent_bubbling){INSTANCE.checked=input.is(":checked"),label.toggleClass("checked",INSTANCE.checked),prevent_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.checked)}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.checked=input.is(":checked"),INSTANCE.disabled=input.prop("disabled"),INSTANCE.value=input.val(),INSTANCE.toggle=function(checked,prevent_bubbling){checked=checked==undefined?!INSTANCE.checked:checked,input.prop("checked",checked),onChange(prevent_bubbling)},INSTANCE.disable=function(){label.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){label.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.toggleDisabled=function(is_disabled){is_disabled!==INSTANCE.disabled&&(is_disabled?INSTANCE.disable():INSTANCE.enable())},INSTANCE.showError=function(message){var wrap,clearError;err_message||(container.addClass("error"),err_message=$('<div class="message" />').appendTo(container),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),INSTANCE.on("change",clearError=function(){container.removeClass("error"),err_message.remove(),err_message=null,INSTANCE.off("change",clearError)}))},INSTANCE.hasError=function(){return!!err_message},label=input.closest("label"),container=label.parent(),input.on("change",function(){onChange()}),INSTANCE},VectorStock.FieldRadioboxes=function(items){var container,INSTANCE=new VSModule;function selectItem(item,suppress_bubbling){var input=$('input[type="radio"]',item);input.is(":checked")||input.prop("checked",!0),INSTANCE.value=input.val(),INSTANCE.selected=input,items.removeClass("checked"),item.addClass("checked"),suppress_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.value)}return INSTANCE.value=null,INSTANCE.disabled=$('input[type="radio"]',items).prop("disabled"),INSTANCE.selected=null,INSTANCE.disable=function(){container.addClass("disabled"),$('input[type="radio"]',items).prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){container.removeClass("disabled"),$('input[type="radio"]',items).prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.set=function(value,suppress_bubbling){selectItem($('input[value="'+value+'"]',items).closest("label").parent(),suppress_bubbling)},INSTANCE.removeItem=function(value){var item=$('input[value="'+value+'"]',items).closest("li"),is_checked=item.hasClass("checked");item.length&&(item.remove(),items=$(items.selector),is_checked&&selectItem(items.first()))},INSTANCE.getItems=function(){return $.makeArray(items)},container=items.parent(),items.each(function(){var item=$(this),input=$('input[type="radio"]',item);input.is(":checked")?(INSTANCE.value=input.val(),INSTANCE.selected=input,item.addClass("checked")):item.removeClass("checked"),item.on("mouseup",function(){$(this).hasClass("checked")&&INSTANCE.dispatchEvent("click")}),input.on("change",function(){selectItem(item)})}),INSTANCE},VectorStock.FieldButton=function(button){var label,icon_area,load_icon,label_default,INSTANCE=new VSModule;function onClick(event){INSTANCE.dispatchEvent("click",event)}return INSTANCE.disabled=button.prop("disabled"),INSTANCE.disable=function(){button.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){button.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.trigger=function(event){return button.trigger(event)},INSTANCE.setLoading=function(message,is_light){var shade=is_light?"light":"";button.addClass("loading").prop("disabled",!0),label.html(message),load_icon=icon_area.loadingIcon("medium",shade),INSTANCE.disabled=!0},INSTANCE.setLabel=function(value){label.html(value)},INSTANCE.revert=function(){button.removeClass("loading").prop("disabled",!1),label.html(label_default),load_icon&&load_icon.remove(),INSTANCE.disabled=!1},label=$(".label",button),icon_area=$(".icon span",button),label_default=label.html(),button.on("click",onClick),INSTANCE},function(input_username,input_password){var INSTANCE=new VSModule,RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you further.",ERROR_FAILED="FAILED",ERROR_LOCKED="LOCKED",ERROR_BLOCKED="BLOCKED",ERROR_NOTFOUND="NOT_FOUND",ERROR_DISABLED="DISABLED",ERROR_FACEBOOK="FACEBOOK",ERROR_GOOGLE="GOOGLE",csrf_name=VectorStock.getCSRFName(),csrf_value=VectorStock.getCSRFValue(),username=input_username.value,password=input_password.value;function sendLoginRequest(){var params={login_user:username,login_password:password};csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),$.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail)}function refreshCSRFValues(name,value){csrf_name.attr("content",name),csrf_value.attr("content",value)}function onDone(response,text_status,xhr){if(response.success)response.profile&&VectorStock.userData.setProfile(response.profile),INSTANCE.dispatchEvent("success",[response]);else{switch(response.csrf_token&&refreshCSRFValues(response.csrf_token.csrf_name,response.csrf_token.csrf_value),response.error){case ERROR_FAILED:case ERROR_NOTFOUND:INSTANCE.dispatchEvent("error_username",[response.message]),INSTANCE.dispatchEvent("error_password",[response.message]);break;case ERROR_LOCKED:case ERROR_BLOCKED:case ERROR_DISABLED:case ERROR_FACEBOOK:case ERROR_GOOGLE:INSTANCE.dispatchEvent("error_username",[response.message])}var log;response.message||(log={username:username,status:text_status,code:xhr.status,response:JSON.stringify(response),headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue - Missing server message",detail:log})),INSTANCE.dispatchEvent("revert")}}function onFail(xhr,text_status,xhr_error){if(400===xhr.status||429===xhr.status){try{var response=JSON.parse(xhr.responseText);if(response.csrf_token&&(refreshCSRFValues(response.csrf_token.csrf_name,response.csrf_token.csrf_value),!has_retried))return has_retried=!0,void sendLoginRequest();INSTANCE.dispatchEvent("revert"),INSTANCE.dispatchEvent("error_username",[response.message||RESPONSE_UNKNOWN])}catch(error){INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN])}response={username:username,status:text_status,code:xhr.status,response:xhr.responseText,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()};VectorStock.log({source:"CustomError",issue:"Login issue - Blocked by server",detail:response})}else 403==xhr.status?(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),response={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue - Blocked by firewall",detail:response})):(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),response={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue - Failed for unknown reason",detail:response}));INSTANCE.dispatchEvent("error",[xhr,text_status,xhr_error])}return has_retried=!1,sendLoginRequest(),INSTANCE}),ScreenSelect=function(container,is_contributor){var but_email,but_google,but_facebook,but_close,link_login,INSTANCE=new VSModule;function switchToSignup(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_signup"),event.preventDefault()}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function signupWithGoogle(){but_google.setLoading("Connecting…",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/google/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):(but_google.revert(),but_close.show())})}function signupWithFacebook(){but_facebook.setLoading("Connecting…",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/facebook/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):(but_facebook.revert(),but_close.show())})}function close(){INSTANCE.dispatchEvent("close")}return INSTANCE.show=function(is_instant){container.show(),is_instant?container.addClass("reveal"):setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},but_email=new VectorStock.FieldButton($('button[data-method="email"]',container)),but_google=new VectorStock.FieldButton($('button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('button[data-method="facebook"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),but_email.on("click",switchToSignup),but_google.on("click",signupWithGoogle),but_facebook.on("click",signupWithFacebook),but_close.on("click",close),link_login.on("click",switchToLogin),INSTANCE},ScreenSignup=function(container,is_contributor){var input_firstname,input_surname,input_email,input_password,radioboxes_account,area_company,input_company,input_billing,checkbox_terms,checkbox_mailinglist,fields_validate,but_submit,but_close,link_login,field_recaptcha,email_validation_delay,INSTANCE=new VSModule,REGEX_EMAIL=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,RESPONSE_FIRSTNAME_MISSING="First name is required",RESPONSE_FIRSTNAME_MINCHARS="First name needs at least 2 characters",RESPONSE_FIRSTNAME_INVALID="First name contains invalid characters",RESPONSE_SURNAME_MISSING="Surname is required",RESPONSE_SURNAME_MINCHARS="Surname needs at least 2 characters",RESPONSE_SURNAME_INVALID="Surname contains invalid characters",RESPONSE_EMAIL_INVALID="Enter a valid email",RESPONSE_EMAIL_REGISTERED="Address has already been registered",RESPONSE_PASSWORD_LENGTH="Use between 8 and 72 characters",RESPONSE_PASSWORD_CONSECUTIVE="No more than 4 consecutive characters allowed",email_responses=(RESPONSE_PASSWORD_COMPROMISED="Password must not be a commonly used password",RESPONSE_TERMS_NOT_AGREED="You must agree to our Terms to Signup",RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you create an account.",{}),monitor_firstname=!1,monitor_surname=!1,monitor_email=!1,monitor_password=!1,recaptcha_id=null,recaptcha_value=null;function changeAccountType(type){var is_expanded=type==ScreenSignup.ACCOUNT_TYPE_COMPANY;area_company.toggle(is_expanded),setTimeout(function(){INSTANCE.dispatchEvent("expand",is_expanded)})}function validateFirstname(value){return""==(value=$.trimString(value))?(input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),!1):value.length<input_firstname.minlength?(input_firstname.showError(RESPONSE_FIRSTNAME_MINCHARS),!1):(input_firstname.clearError(),!0)}function validateSurname(value){return""==(value=$.trimString(value))?(input_surname.showError(RESPONSE_SURNAME_MISSING),!1):value.length<input_surname.minlength?(input_surname.showError(RESPONSE_SURNAME_MINCHARS),!1):(input_surname.clearError(),!0)}function emailServerValidation(value){var address_id;emailFormatValidation(value)&&(address_id=$.trimString(value.toLowerCase()),email_responses[address_id]||(clearTimeout(email_validation_delay),setTimeout(function(){$.post("/api/signup/email/check",{email:address_id},function(response){var address_id_current=$.trimString(input_email.value.toLowerCase());address_id==address_id_current&&(response.success?input_email.clearError():showEmailError(response.error)),email_responses[address_id]=response})},1e3)))}function emailFormatValidation(value){var address_id=$.trimString(value.toLowerCase());return address_id.match(REGEX_EMAIL)?!email_responses[address_id]||(email_responses[address_id].success?(input_email.clearError(),!0):(showEmailError(email_responses[address_id].error),!1)):(input_email.showError(RESPONSE_EMAIL_INVALID),!1)}function showEmailError(error){switch(error){case ScreenSignup.ERROR_EMAIL_INVALID:input_email.showError(RESPONSE_EMAIL_INVALID);break;case ScreenSignup.ERROR_EMAIL_REGISTERED:input_email.showError(RESPONSE_EMAIL_REGISTERED);break;default:alert(RESPONSE_UNKNOWN)}}function validatePassword(value){return value.length<input_password.minlength||value.length>input_password.maxlength?(input_password.showError(RESPONSE_PASSWORD_LENGTH),!1):(input_password.clearError(),!0)}function validateFields(event){if(event.preventDefault(),clearTimeout(email_validation_delay),validateFirstname(input_firstname.value)||monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),validateSurname(input_surname.value)||monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),emailFormatValidation(input_email.value)||monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),checkbox_terms.checked||checkbox_terms.showError(RESPONSE_TERMS_NOT_AGREED),0===(recaptcha_value=window.grecaptcha?grecaptcha.getResponse():"").length)return field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800),VectorStock.track("event","Error (User)",{type:"Signup",details:"Client: "+(input_email.value||"Unknown")+" - reCaptcha Failed"}),!1;field_recaptcha.removeClass("error");for(var field,i=0,len=fields_validate.length;i<len;){if(fields_validate[i].hasError())return field=fields_validate[i].name.toTitleCase(),VectorStock.track("event","Error (User)",{type:"Signup",details:"Client: "+(input_email.value||"Unknown")+" - Field: "+field}),!1;i++}input_firstname.disable(),input_surname.disable(),input_email.disable(),input_password.disable(),checkbox_terms.disable(),checkbox_mailinglist.disable(),but_submit.setLoading("Processing…"),but_close.hide(),INSTANCE.dispatchEvent("processing");var params={firstname:input_firstname.value,surname:input_surname.value,email:input_email.value,password:input_password.value,mailinglist:checkbox_mailinglist.checked,contributor:is_contributor?1:0},retried=!1,csrf_name=(null!==recaptcha_value&&(params.captcha=recaptcha_value),VectorStock.getCSRFName()),csrf_value=VectorStock.getCSRFValue(),onDone=(csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY&&(params.company=input_company.value,params.address=input_billing.value),function(response,textStatus,xhr){if(response.success)INSTANCE.dispatchEvent("signup",[response,params]);else{response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value)),input_firstname.enable(),input_surname.enable(),input_email.enable(),input_password.enable(),checkbox_terms.enable(),checkbox_mailinglist.enable(),but_submit.revert(),but_close.show();var error_label=response.error?response.error.toTitleCase().split("_").join(" "):JSON.stringify(response);switch(INSTANCE.dispatchEvent("response"),response.error){case ScreenSignup.ERROR_FIRSTNAME_MISSING:monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),params.firstname.length>input_firstname.minlength?input_firstname.showError(RESPONSE_FIRSTNAME_INVALID):input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),error_label+=" ("+params.firstname+")";break;case ScreenSignup.ERROR_SURNAME_MISSING:monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),params.surname.length>input_surname.minlength?input_surname.showError(RESPONSE_SURNAME_INVALID):input_surname.showError(RESPONSE_SURNAME_MISSING),error_label+=" ("+params.surname+")";break;case ScreenSignup.ERROR_EMAIL_INVALID:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_INVALID),error_label+=" ("+params.email+")";break;case ScreenSignup.ERROR_EMAIL_REGISTERED:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_REGISTERED);break;case ScreenSignup.ERROR_PASSWORD_LENGTH:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_LENGTH);break;case ScreenSignup.ERROR_PASSWORD_CONSECUTIVE:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_CONSECUTIVE);break;case ScreenSignup.ERROR_PASSWORD_COMPROMISED:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_COMPROMISED);break;case ScreenSignup.ERROR_RECAPTCHA_FAILED:field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant error"),null!==recaptcha_id&&grecaptcha.reset(recaptcha_id)},800);break;default:alert(RESPONSE_UNKNOWN)}VectorStock.track("event","Error (User)",{type:"Signup",details:"Server: "+error_label})}}),onFail=function(xhr,textStatus,errorThrown){if(400==xhr.status||429==xhr.status){try{if((response=JSON.parse(xhr.responseText)).csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value),!retried))return retried=!0,params.csrf_name=response.csrf_token.csrf_name,params.csrf_value=response.csrf_token.csrf_value,void $.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}catch(e){}var response={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,response:xhr.responseText,error:errorThrown,headers:xhr.getAllResponseHeaders()};VectorStock.log({source:"CustomError",issue:"Signup issue (popup) - Blocked by server",detail:response}),alert(RESPONSE_UNKNOWN)}else 403==xhr.status?(response={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Signup issue (popup) - Blocked by firewall",detail:response}),alert(RESPONSE_UNKNOWN),window.location.reload(!0)):(response={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Signup issue (popup) - Failed for unknown reason",detail:response}),alert(RESPONSE_UNKNOWN))};$.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}function show(){var is_expanded=radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY;container.addClass("reveal"),INSTANCE.dispatchEvent("expand",is_expanded),""==input_firstname.value?input_firstname.focus():""==input_surname.value?input_surname.focus():""==input_email.value?input_email.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function loadRecaptcha(){grecaptcha.ready(function(){recaptcha_id=grecaptcha.render(field_recaptcha[0],{sitekey:VectorStock.google_sitekey,callback:function(response){field_recaptcha.removeClass("error")},"expired-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)},"error-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)}})})}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_firstname=new VectorStock.FieldInput($('input[name="firstname"]',container)),input_surname=new VectorStock.FieldInput($('input[name="surname"]',container)),input_email=new VectorStock.FieldInput($('input[name="email"]',container)),input_password=new VectorStock.FieldInput($('input[name="password"]',container)),radioboxes_account=new VectorStock.FieldRadioboxes($('fieldset[data-field="type"] li',container)),area_company=$('[data-area="company"]',container),input_company=new VectorStock.FieldInput($('input[name="company"]',area_company)),input_billing=new VectorStock.FieldInput($('textarea[name="billing"]',area_company)),checkbox_terms=new VectorStock.FieldCheckbox($('input[name="terms"]',container)),checkbox_mailinglist=new VectorStock.FieldCheckbox($('input[name="mailinglist"]',container)),but_submit=new VectorStock.FieldButton($('.footer button[type="submit"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),field_recaptcha=$("#signup-recaptcha",container),fields_validate=[input_firstname,input_surname,input_email,input_password,checkbox_terms],radioboxes_account.on("change",changeAccountType),but_submit.on("click",validateFields),but_close.on("click",close),link_login.on("click",switchToLogin),input_email.value&&emailServerValidation(input_email.value),window.grecaptcha?loadRecaptcha():(window.addEventListener("googleRecaptchaLoaded",function(){loadRecaptcha()}),VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit")),INSTANCE},ScreenLogin=(ScreenSignup.ACCOUNT_TYPE_INDIVIDUAL="Individual",ScreenSignup.ACCOUNT_TYPE_COMPANY="Company",ScreenSignup.ERROR_FIRSTNAME_MISSING="FIRSTNAME_MISSING",ScreenSignup.ERROR_FIRSTNAME_MINCHARS="FIRSTNAME_MINCHARS",ScreenSignup.ERROR_SURNAME_MISSING="SURNAME_MISSING",ScreenSignup.ERROR_SURNAME_MINCHARS="SURNAME_MINCHARS",ScreenSignup.ERROR_EMAIL_INVALID="EMAIL_INVALID",ScreenSignup.ERROR_EMAIL_REGISTERED="EMAIL_REGISTERED",ScreenSignup.ERROR_PASSWORD_LENGTH="PASSWORD_LENGTH",ScreenSignup.ERROR_PASSWORD_CONSECUTIVE="PASSWORD_CONSECUTIVE",ScreenSignup.ERROR_PASSWORD_COMPROMISED="PASSWORD_COMPROMISED",ScreenSignup.ERROR_RECAPTCHA_FAILED="RECAPTCHA_FAILED",function(container,url_redirect,hide_signup){var input_username,input_password,but_login,but_google,but_facebook,but_close,link_select,INSTANCE=new VSModule,RESPONSE_USERNAME_INVALID="Enter a valid username or email",RESPONSE_PASSWORD_INVALID="Use between 6 and 72 characters",monitor_username=!1,monitor_password=!1,credentials_changed=!0;function onFieldChange(){credentials_changed=!0}function validateUsername(value){return(value=$.trimString(value)).length<4?(input_username.showError(RESPONSE_USERNAME_INVALID),!1):(input_username.clearError(),!0)}function validatePassword(value){return value.length<6||72<value.length?(input_password.showError(RESPONSE_PASSWORD_INVALID),!1):(input_password.clearError(),!0)}function validateFields(event){return event.preventDefault(),!!credentials_changed&&(validateUsername(input_username.value)||monitor_username||(input_username.on("change",validateUsername),monitor_username=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_username.hasError()?(VectorStock.track("event","Error (User)",{type:"Login",details:"Client: Username"}),!1):input_password.hasError()?(VectorStock.track("event","Error (User)",{type:"Login",details:"Client: Password"}),!1):(input_username.disable(),input_password.disable(),but_login.setLoading("Logging in…"),but_close.hide(),INSTANCE.dispatchEvent("processing"),(login_process=new ProcessLogin(input_username,input_password)).on("success",function(response){url_redirect?VectorStock.goToURL(url_redirect):response.redirect?VectorStock.goToURL(response.redirect):window.location.reload(!0)}),login_process.on("revert",function(){input_username.enable(),input_password.enable(),but_login.revert(),but_close.show(),INSTANCE.dispatchEvent("response")}),login_process.on("error_username",function(message){input_username.showError(message)}),login_process.on("error_password",function(message){input_password.showError(message)}),void login_process.on("error",function(xhr,text_status,xhr_error){403===xhr.status&&window.location.reload(!0)})));var login_process}function googleLogin(){but_google.setLoading("Connecting…",!0),$.get("/api/google/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):but_google.revert()})}function facebookLogin(){but_facebook.setLoading("Connecting…",!0),$.get("/api/facebook/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):but_facebook.revert()})}function show(){container.addClass("reveal"),""==input_username.value?input_username.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToSelect(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_select"),event.preventDefault()}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_username=new VectorStock.FieldInput($('form input[name="username"]',container)),input_password=new VectorStock.FieldInput($('form input[name="password"]',container)),but_login=new VectorStock.FieldButton($('form button[type="submit"]',container)),but_google=new VectorStock.FieldButton($('.footer button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('.footer button[data-method="facebook"]',container)),but_close=$("> button",container),link_select=$(".footer p a",container),hide_signup&&$(".footer p.signup",container).remove(),input_username.on("change",onFieldChange),input_password.on("change",onFieldChange),but_login.on("click",validateFields),but_google.on("click",googleLogin),but_facebook.on("click",facebookLogin),but_close.on("click",close),link_select.on("click",switchToSelect),INSTANCE}),ScreenLicenses=(ScreenLogin.ERROR_FAILED="FAILED",ScreenLogin.ERROR_LOCKED="LOCKED",ScreenLogin.ERROR_BLOCKED="BLOCKED",ScreenLogin.ERROR_NOTFOUND="NOT_FOUND",ScreenLogin.ERROR_DISABLED="DISABLED",ScreenLogin.ERROR_FACEBOOK="FACEBOOK",ScreenLogin.ERROR_GOOGLE="GOOGLE",function(container){var header,INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.setName=function(name){var copy=header.text().replace(/{NAME}/i,name.toTitleCase());header.text(copy)},INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},header=$("h1",container),$(".footer button",container).on("click",onNextScreen),INSTANCE}),ScreenPricing=function(container){var INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},$(".footer button",container).on("click",onNextScreen),INSTANCE},SignupBox=function(settings){var overlay,container,sidebar,screens,screen_select,screen_signup,screen_login,INSTANCE=new VSModule,HTML_TEMPLATE='<div id="box-signup" class="overlay-box"><div class="sb-sidebar"></div><div class="sb-screens"><div class="screen" data-screen="select"><div class="header"><h1>Select Signup Method</h1><button type="button" data-method="email"><span class="label">Email Address</span><span class="icon"><span></span></span></button><button type="button" data-method="google"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><div class="footer"><p>Already have an account? <a href="/">Log in</a></p></div><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="signup"><form action="/api/signup" method="POST" novalidate><div class="header"><h1>Enter your details</h1><div class="fields"><div class="fieldgroup"><fieldset data-field="firstname"><input type="text" name="firstname" minlength="2" maxlength="45" placeholder="First name" autocomplete="on" tabindex="1001" /></fieldset><fieldset data-field="surname"><input type="text" name="surname" minlength="2" maxlength="45" placeholder="Surname" autocomplete="on" tabindex="1002" /></fieldset></div><fieldset data-field="email"><input type="email" name="email" maxlength="100" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Email address" tabindex="1003" /></fieldset><fieldset data-field="password"><input type="password" name="password" minlength="8" maxlength="72" placeholder="Password" tabindex="1004"></fieldset><fieldset data-field="type"><h6>Account Type</h6><ul><li class="checked"><label for="f_type_individual"><span class="radio"><span></span><input type="radio" id="f_type_individual" name="account_type" value="Individual" checked="checked" tabindex="1005"></span><span class="title">Individual</span></label></li><li><label for="f_type_company"><span class="radio"><span></span><input type="radio" id="f_type_company" name="account_type" value="Company" tabindex="1006"></span><span class="title">Company</span></label></li></ul></fieldset><div data-area="company"><fieldset data-field="company"><input type="text" name="company" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Company name" tabindex="1007"></fieldset><fieldset data-field="billing"><textarea name="billing" placeholder="Billing address" tabindex="1008"></textarea></fieldset></div></div><div class="agreements"><ul><li><label for="f_terms" class="checked"><span class="checkbox"><input type="checkbox" id="f_terms" name="terms" value="1" checked="checked" tabindex="1009" /></span><span class="title">Agree to our <a href="/faq/members/membership-content-license-agreement" target="_blank">Terms of Use</a> and <a href="/faq/members/privacy-policy" target="_blank">Privacy&nbsp;Policy</a></span></label></li><li><label for="f_mailinglist" class="checked"><span class="checkbox"><input type="checkbox" id="f_mailinglist" name="mailinglist" value="1" checked="checked" tabindex="1010" /></span><span class="title">Signup to the VectorStock mailing&nbsp;list</span></label></li><li><div id="signup-recaptcha"></div></li></ul></div></div><div class="footer"><button type="submit" tabindex="1011"><span class="label">Create Account</span><span class="icon"><span></span></span></button><p>Already have an account? <a href="/">Log in</a></p></div></form><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="login"><form action="/api/json/login" method="POST" novalidate><h1>Login<span class="full"> to your account</span></h1><div class="fields"><fieldset data-field="username"><input type="text" name="username" autocomplete="on" autocorrect="off" autocapitalize="off" maxlength="100" placeholder="Username or Email" tabindex="1001" /></fieldset><fieldset data-field="password"><input type="password" name="password" maxlength="72" placeholder="Password" tabindex="1002"></fieldset></div><button type="submit" tabindex="1003"><span class="label">Login</span><span class="icon"><span></span></span></button><p><a href="/request/password">Forgot your password?</a></p></form><div class="footer"><h1>Or login with:</h1><div class="options"><button type="button" data-method="google" tabindex="1004"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook" tabindex="1005"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><p class="signup">New to VectorStock? <a href="/signup">Sign up for&nbsp;free!</a></p></div><button data-action="close" type="button">Close</button></div></div></div>',HTML_SIDEBAR_SIGNUP='<div class="sb-screen" data-type="signup"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features" data-type="signup"><h2>Create your <strong>Free Account</strong> for access to:</h2><ul><li>1,000,000+ Free vectors</li><li>38,000,000+ Royalty-Free vectors</li><li>25,000+ vectors added daily</li></ul></div><div class="sb-customers"><h3>Some of our customers —</h3><ul><li class="co-disney">Disney</li><li class="co-oracle">Oracle</li><li class="co-nike">Nike</li><li class="co-warner">Warner Brothers</li></ul></div></div><div class="sb-background"></div></div>',HTML_SIDEBAR_LOGIN='<div class="sb-screen" data-type="login"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Welcome back to VectorStock!</strong></p><p>Login to continue…</p></div></div><div class="sb-background"><div class="bg reveal" data-pattern="1"></div></div></div>',HTML_SIDEBAR_ACCOUNT_REQUIRED='<div class="sb-screen" data-type="account_required"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Account required</strong></p><p>Login (or sign up) to your account to access these features.</p></div></div><div class="sb-background"></div></div>',HTML_SIDEBAR_FREE_SUBSCRIPTION='<div class="sb-screen" data-type="subscription"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><h2>Create an account to purchase the UNLIMITED subscription!</h3><ul><li>Unlimited free vector downloads</li><li>Artist attribution not required</li><li>Hundreds of new images added weekly</li></ul></div></div><div class="sb-background"></div></div>';VectorStock.isGerman()&&(HTML_TEMPLATE='<div id="box-signup" class="overlay-box"><div class="sb-sidebar"></div><div class="sb-screens"><div class="screen" data-screen="select"><div class="header"><h1>Wählen Sie die Anmeldemethode aus</h1><button type="button" data-method="email"><span class="label">E-Mail-Adresse</span><span class="icon"><span></span></span></button><button type="button" data-method="google"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><div class="footer"><p>Sie haben bereits ein Konto? <a href="/">Anmeldung</a></p></div><button data-action="close" type="button">Schließen</button></div><div class="screen" data-screen="signup"><form action="/api/signup" method="POST" novalidate><div class="header"><h1>Geben Sie ihre Details ein</h1><div class="fields"><div class="fieldgroup"><fieldset data-field="firstname"><input type="text" name="firstname" minlength="2" maxlength="45" placeholder="Vorname" autocomplete="on" tabindex="1001" /></fieldset><fieldset data-field="surname"><input type="text" name="surname" minlength="2" maxlength="45" placeholder="Nachname" autocomplete="on" tabindex="1002" /></fieldset></div><fieldset data-field="email"><input type="email" name="email" maxlength="100" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="E-Mail-Adresse" tabindex="1003" /></fieldset><fieldset data-field="password"><input type="password" name="password" minlength="8" maxlength="72" placeholder="Passwort" tabindex="1004"></fieldset><fieldset data-field="type"><h6>Konto Typ</h6><ul><li class="checked"><label for="f_type_individual"><span class="radio"><span></span><input type="radio" id="f_type_individual" name="account_type" value="Individual" checked="checked" tabindex="1005"></span><span class="title">Individuell</span></label></li><li><label for="f_type_company"><span class="radio"><span></span><input type="radio" id="f_type_company" name="account_type" value="Company" tabindex="1006"></span><span class="title">Unternehmen</span></label></li></ul></fieldset><div data-area="company"><fieldset data-field="company"><input type="text" name="company" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Name der Firma" tabindex="1007"></fieldset><fieldset data-field="billing"><textarea name="billing" placeholder="Rechnungsadresse" tabindex="1008"></textarea></fieldset></div></div><div class="agreements"><ul><li><label for="f_terms" class="checked"><span class="checkbox"><input type="checkbox" id="f_terms" name="terms" value="1" checked="checked" tabindex="1009" /></span><span class="title">Stimmen Sie unseren <a href="/de/faq/members/membership-content-license-agreement" target="_blank">Nutzungsbedingungen</a> und <a href="/de/faq/members/privacy-policy" target="_blank">Datenschutzerklärung</a> zu.</span></label></li><li><label for="f_mailinglist" class="checked"><span class="checkbox"><input type="checkbox" id="f_mailinglist" name="mailinglist" value="1" checked="checked" tabindex="1010" /></span><span class="title">Melden Sie sich bei der VectorStock-Mailingliste an</span></label></li><li><div id="signup-recaptcha"></div></li></ul></div></div><div class="footer"><button type="submit" tabindex="1011"><span class="label">Benutzerkonto erstellen</span><span class="icon"><span></span></span></button><p>Sie haben bereits ein Konto? <a href="/">Anmeldung</a></p></div></form><button data-action="close" type="button">Schließen</button></div><div class="screen" data-screen="login"><form action="/api/json/login" method="POST" novalidate><h1>Anmeldung<span class="full"> zu deinem Konto</span></h1><div class="fields"><fieldset data-field="username"><input type="text" name="username" autocomplete="on" autocorrect="off" autocapitalize="off" maxlength="100" placeholder="Benutzername oder E-Mail-Adresse" tabindex="1001" /></fieldset><fieldset data-field="password"><input type="password" name="password" maxlength="72" placeholder="Passwort" tabindex="1002"></fieldset></div><button type="submit" tabindex="1003"><span class="label">Anmeldung</span><span class="icon"><span></span></span></button><p><a href="/request/password">Haben Sie Ihr Passwort vergessen?</a></p></form><div class="footer"><h1>Oder loggen Sie sich ein mit:</h1><div class="options"><button type="button" data-method="google" tabindex="1004"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook" tabindex="1005"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><p class="signup">Neu bei VectorStock? <a href="/signup">Melden Sie sich kostenlos an!</a></p></div><button data-action="close" type="button">Schließen</button></div></div></div>',HTML_SIDEBAR_SIGNUP='<div class="sb-screen" data-type="signup"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features" data-type="signup"><h2>Erstellen Sie Ihr <strong>kostenloses Konto</strong> für den Zugriff auf:</h2><ul><li>Über 1.000.000 kostenlose Vektoren</li><li>Über 38.000.000 lizenzfreie Vektoren</li><li>Täglich werden mehr als 25.000 Vektoren hinzugefügt</li></ul></div><div class="sb-customers"><h3>Einige unserer Kunden —</h3><ul><li class="co-disney">Disney</li><li class="co-oracle">Oracle</li><li class="co-nike">Nike</li><li class="co-warner">Warner Brothers</li></ul></div></div><div class="sb-background"></div></div>',HTML_SIDEBAR_LOGIN='<div class="sb-screen" data-type="login"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Willkommen zurück bei VectorStock!</strong></p><p>Melden Sie sich an, um fortzufahren…</p></div></div><div class="sb-background"><div class="bg reveal" data-pattern="1"></div></div></div>',HTML_SIDEBAR_ACCOUNT_REQUIRED='<div class="sb-screen" data-type="account_required"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Konto erforderlich</strong></p><p>Melden Sie sich bei Ihrem Konto an (oder registrieren Sie sich), um auf diese Funktionen zuzugreifen.</p></div></div><div class="sb-background"></div></div>',HTML_SIDEBAR_FREE_SUBSCRIPTION='<div class="sb-screen" data-type="subscription"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><h2>Erstellen Sie ein Konto, um das UNLIMITED-Abonnement zu erwerben!</h3><ul><li>Unbegrenzte kostenlose Vektor-Downloads</li><li>Künstlerangabe nicht erforderlich</li><li>Wöchentlich kommen Hunderte neuer Bilder hinzu</li></ul></div></div><div class="sb-background"></div></div>'),VectorStock.isMobile();function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function build(){sidebar=$(".sb-sidebar",container),$(".sb-screen",sidebar),screens=$(".sb-screens",container),screen_select=new ScreenSelect($('[data-screen="select"]',screens),settings.contributor),screen_signup=new ScreenSignup($('[data-screen="signup"]',screens),settings.contributor),screen_login=new ScreenLogin($('[data-screen="login"]',screens),settings.url_login,!1===settings.signup),screen_select.on("processing",disableOverlay).on("response",enableOverlay).on("screen_signup",showSignup).on("close",INSTANCE.close).on("screen_login",showLogin),screen_signup.on("expand",expandBox).on("processing",disableOverlay).on("response",enableOverlay).on("close",INSTANCE.close).on("signup",onSignup).on("screen_login",showLogin),screen_login.on("processing",disableOverlay).on("login",onLogin).on("response",enableOverlay).on("close",INSTANCE.close).on("screen_select",showSelect),$(document).on("keypress",onKeyPress),("login"==settings.screen?showLogin:showSelect)(!0),setTimeout(function(){container.addClass("reveal")})}function onLogin(){INSTANCE.dispatchEvent("login")}function expandBox(is_expanded){container.toggleClass("expanded",is_expanded)}function disableOverlay(){overlay&&overlay.off("click",onClickOverlay)}function enableOverlay(){overlay&&overlay.on("click",onClickOverlay)}function showSelect(is_instant){screen_select.show(is_instant)}function showSignup(is_instant){screen_signup.show(is_instant)}function showLogin(is_instant){expandBox(!1),screen_login.show(is_instant)}function onSignup(response,params){function nextStep(){var url,vector_id,vector_license,vector_payment;settings.url_signup?VectorStock.goToURL(settings.url_signup):response.redirect?VectorStock.goToURL(response.redirect):settings.contributor?VectorStock.goToURL("/account/sell-vectors"):(url="/purchase",(vector_id=$("#vector_id").val())&&(vector_license=$('input[name="license"]:checked').val(),"credits"!=(vector_payment=$('input[name="payment_'+vector_license+'"]:checked').val())&&"subscription"!=vector_payment||(url+="/"+vector_payment),url+="?id="+vector_id,vector_license&&(url+="&license="+vector_license)),VectorStock.goToURL(url))}VectorStock.isProduction()&&window.gtag?gtag("event","conversion",{send_to:"AW-1056033416/dJfkCPOoo28QiJXH9wM",event_callback:nextStep}):nextStep()}function onKeyPress(event){"Escape"===event.key&&(INSTANCE.close(),event.stopPropagation())}return INSTANCE.close=function(){container&&container.remove(),overlay&&overlay.remove(),$(document).on("keypress",onKeyPress),SignupBox.instance=null,INSTANCE.dispatchEvent("close")},INSTANCE.showSignupSelectScreen=function(){$("> .screen",screens).hide(),showSelect(!0)},INSTANCE.showLoginScreen=function(){$("> .screen",screens).hide(),showLogin(!0)},SignupBox.instance&&SignupBox.instance.close(),(settings=settings||{}).container?(container=settings.container,build()):(overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),container=$(HTML_TEMPLATE).appendTo(overlay),build(),HTML_TEMPLATE=HTML_SIDEBAR_SIGNUP,settings.sidebar&&("login"===settings.sidebar?HTML_TEMPLATE=HTML_SIDEBAR_LOGIN:"account_required"===settings.sidebar?HTML_TEMPLATE=HTML_SIDEBAR_ACCOUNT_REQUIRED:"free_subscription"===settings.sidebar&&(HTML_TEMPLATE=HTML_SIDEBAR_FREE_SUBSCRIPTION)),$(HTML_TEMPLATE).appendTo(sidebar),"absolute"==container.css("position")&&VectorStock.scrollTo(0),EventTracker.track(EventTrackerLogger.ID_LOG,{source:"Signup Popup",event:"Initiated"},!0),EventTracker.store("ctr_signup_popup","initiated",!0)),SignupBox.instance=INSTANCE},GalleryBox=(SignupBox.TIME_FAIL=1e4,SignupBox.TIME_EXPIRE=9e5,SignupBox.instance=null,SignupBox.extendSession=function(){$.getJSON("/api/loggedincheck").done(function(response){response.success?setTimeout(SignupBox.extendSession,SignupBox.TIME_EXPIRE):SignupBox.instance?SignupBox.instance.showLoginScreen():new SignupBox({screen:"login",sidebar:"login"})}).fail(function(event){setTimeout(SignupBox.extendSession,SignupBox.TIME_FAIL)})},$(function(){function launchSignupBox(url){for(var params=1<(url=url.split("?")).length?url[1].toLowerCase().split("&"):[],is_contributor=!1,i=params.length;i--;){var parts=params[i].split("="),key=parts[0],parts=1<parts.length?parts[1]:"";if("contributor"==key&&0!==parts){is_contributor=!0;break}}new SignupBox({contributor:is_contributor})}var is_contributor;"/signup"!==window.location.pathname.toLowerCase()&&($('a[href^="/signup"]').on("click",function(event){launchSignupBox($(this).attr("href")),event.preventDefault()}),$(window).on("redirect",function(event,url,path){"/signup"==path&&(launchSignupBox(url),event.preventDefault?event.preventDefault():event.isDefaultPrevented=function(){return!0})})),0<=window.location.search.search(/login=1/i)&&($('meta[name="csrf-name"]').length?new SignupBox({screen:"login",sidebar:"login"}):VectorStock.goToURL("/royalty-free-vectors")),0<=window.location.search.search(/signup=1/i)&&(is_contributor=0<=window.location.search.search(/contributor=1/i),new SignupBox({contributor:is_contributor}))}),function(){var image_list,image_tally,is_cart,is_likes,image_id,image_title,image_artist,overlay,container,imageset,header,hd_browse,hd_create,gl_list,INSTANCE=new VSModule;Array.isArray(arguments[0])?(image_list=arguments[0],image_tally=arguments[1]||image_list.length,is_cart=arguments[2]||!1,is_likes=arguments[3]||!1):(image_id=arguments[0],image_title=arguments[1],image_artist=arguments[2]),VectorStock.isMobile();function addImage(image_id,image_title){var figure=$("<figure />").appendTo(imageset);$('<img width="238" height="250">').attr("src",VectorStock.imagePath(image_id,image_title,"medium")).attr("alt",image_title||"").appendTo(figure);$('<span class="inner" />').appendTo(figure)}function populate(galleries){hd_browse.on("filter",filterGalleries),hd_browse.setTotal(galleries.length),gl_list.populate(galleries);var search=hd_browse.getSearch();search&&filterGalleries(search)}function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function onListUpdate(num_matches){hd_browse.setTotal(num_matches)}function filterGalleries(search){gl_list.filter(search)}function changeHeader(type,search_input){type==GalleryBox.HeaderCreate?(hd_browse.hide(),search_input&&hd_create.setName(search_input),hd_create.show(),gl_list.hide()):type==GalleryBox.HeaderBrowse&&(hd_browse.show(),hd_create.hide(),gl_list.show())}function changeHeaderCreate(gallery_name){gallery_name&&hd_create.setName(gallery_name),changeHeader(GalleryBox.HeaderCreate)}function createGallery(gallery_name,gallery_private){var hd_created;image_list?(hd_created=new GalleryBox.HeaderCreated(header,gallery_name,image_list,image_tally),hd_create.hide(),hd_created.show(),hd_created=function(response){response.success?(VectorStock.setTally("galleries",response.galleries),VectorStock.userData.refresh(),INSTANCE.dispatchEvent("gallery_created",[response.id,gallery_name,gallery_private])):response.message&&("max_galleries_reached"==response.message?(alert("Could not create gallery - total gallery limit reached"),INSTANCE.close()):"gallery_full"==response.message&&(alert("Could not create gallery - image limit reached"),INSTANCE.close())),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)},(is_cart?$.post("/api/cart/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):is_likes?$.post("/api/likes/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):$.post("/api/galleries",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json")).done(hd_created)):(gl_list.createGallery(gallery_name,gallery_private),changeHeader(GalleryBox.HeaderBrowse))}function cancelCreate(){image_list&&INSTANCE.close()}INSTANCE.close=function(){container&&container.remove(),overlay.remove(),$("body").removeClass("pagelock"),INSTANCE.dispatchEvent("close")},overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay).on("mousewheel",function(e){}),setTimeout(function(){overlay.addClass("reveal")});var sidebar,sb_background,screens,html_template=GalleryBox.template;if(container=$(html_template).appendTo(overlay),sidebar=$(".gb-sidebar",container),sb_screen=$(".gb-screen",sidebar).show(),sidebar=$(".gb-content",sb_screen),sb_background=$(".gb-background",sb_screen),imageset=$(".imageset",sidebar),screens=$(".gb-screens",container),screens=$(".gb-screen",screens).show(),header=$(".header",screens),hd_browse=new GalleryBox.HeaderBrowse($(".header_browse",header),!image_list),hd_create=new GalleryBox.HeaderCreate($(".header_create",header),!!image_list),gl_pane=$(".panel",screens),gl_list=image_list?new GalleryBox.List($(".pane",gl_pane),image_list):new GalleryBox.List($(".pane",gl_pane),image_id,image_title),but_close=$('button[data-action="close"]',screens),image_list)if(imageset.attr("data-images",image_list.length),0<image_tally){for(var i=Math.min(5,image_list.length);i--;)addImage(image_list[i].id,image_list[i].title);var gl_pane="Images";is_cart?gl_pane="Cart Images":is_likes&&(gl_pane="Liked Images"),$("<h1 />").text(gl_pane+" ("+image_tally+")").appendTo(sidebar)}else sidebar.empty(),sb_background.addClass("empty");else imageset.attr("data-images",1),addImage(image_id,image_title),$("<h1 />").text(image_title+" vector image").appendTo(sidebar),image_artist&&$("<h2 />").text("by "+image_artist).appendTo(sidebar),(new Image).src=VectorStock.imagePath(image_id,image_title,"small");return hd_browse.on("change_header",changeHeader),hd_create.on("change_header",changeHeader).on("create_gallery",createGallery).on("cancel",cancelCreate),gl_list.on("new_gallery",changeHeaderCreate).on("update",onListUpdate),but_close.on("click",INSTANCE.close),image_list?hd_create.show():(hd_browse.show(),gl_list.show()),setTimeout(function(){container.addClass("reveal")}),GalleryBox.galleries?populate(GalleryBox.galleries):$.get("/api/galleries/byname").done(function(response){response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value),GalleryBox.galleries=response.galleries,populate(GalleryBox.galleries)}).fail(function(event){401==event.status&&INSTANCE.close()}),INSTANCE}),BannerAnimationShape=(GalleryBox.template='<div id="box-gallery" class="overlay-box"><div class="gb-sidebar"><div class="gb-screen" data-screen="image"><div class="gb-content"><div class="imageset" data-images="1"></div></div><div class="gb-background"></div></div></div><div class="gb-screens"><div class="gb-screen" data-screen="list"><div class="header"><div class="header_browse"><h1><span class="short">Galleries</span><span class="long">Add to Gallery</span> <data>(0)</data></h1><div class="fieldgroup"><fieldset data-field="filter"><span class="icon"></span><input type="text" name="gallery_search" placeholder="Search gallery names…" autocomplete="off" tabindex="1"></fieldset><button type="button" data-action="create" tabindex="2"><span class="icon"></span><span class="label">New</span></button></div></div><div class="header_create"><h1>New Gallery</h1><div class="fieldgroup"><fieldset data-field="gallery_name"><input type="text" name="gallery_name" placeholder="Enter name…" autocomplete="off" tabindex="1"></fieldset><label for="gallery_new_private"><span class="checkbox"><input type="checkbox" id="gallery_new_private" name="gallery_new_private"></span><span class="title">Private</span></label></div><button type="button" data-action="cancel" tabindex="2"><span class="label">Cancel</span></button><button type="button" data-action="create" tabindex="3"><span class="label">Create</span></button></div></div><div class="panel"><div class="pane"><div class="state"></div><ul></ul></div></div><button data-action="close" type="button">Close</button></div></div></div>',GalleryBox.galleries=null,GalleryBox.csrf_name=null,GalleryBox.csrf_value=null,GalleryBox.HeaderBrowse=function(container,is_showing){var header,header_tally,input_search,but_create,INSTANCE=new VSModule;function filterGalleries(){var value=$.trimString(input_search.value);INSTANCE.dispatchEvent("filter",[value])}function createNewGallery(){INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderCreate,input_search.value])}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_search.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),input_search.setValue(),INSTANCE},INSTANCE.setTotal=function(total){return header_tally.show().text("("+total+")"),INSTANCE},INSTANCE.getSearch=function(){return $.trimString(input_search.value)},header=container.parent(),header_tally=$("h1 data",container),input_search=new VectorStock.FieldInput($('input[name="gallery_search"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_search.on("change",filterGalleries),but_create.on("click",createNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreate=function(container,is_showing){var header,input_name,cbox_private,but_cancel,but_create,INSTANCE=new VSModule;function onNameChange(value){value?but_create.enable():but_create.disable()}function onCancel(){INSTANCE.dispatchEvent("cancel"),INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderBrowse])}function onNewGallery(){var gallery_name=$.trimString(input_name.value);gallery_name?(input_name.setValue("",!0),INSTANCE.dispatchEvent("create_gallery",[gallery_name,cbox_private.checked])):(but_create.disable(),input_name.focus())}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_name.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},INSTANCE.setName=function(gallery_name){input_name.setValue(gallery_name)},header=container.parent(),input_name=new VectorStock.FieldInput($('input[name="gallery_name"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),cbox_private=new VectorStock.FieldCheckbox($('input[name="gallery_new_private"]',container)),but_cancel=new VectorStock.FieldButton($('button[data-action="cancel"]',container)),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_name.on("change",onNameChange).on("return",onNewGallery),but_cancel.on("click",onCancel),but_create.on("click",onNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreated=function(header,gallery_name,gallery_images,gallery_tally){var container,gallery_imageset,gallery_entry,INSTANCE=new VSModule;INSTANCE.show=function(){return container.show(),header.css({height:""}),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},container=$('<div class="header_created" />').appendTo(header),$("<h1>Gallery created!</h1>").appendTo(container),gallery_entry=$('<div class="gallery" />').appendTo(container),$('<span class="title">'+gallery_name+"</span>").appendTo(gallery_entry),$('<span class="subtitle">'+gallery_tally+" Image"+(1==gallery_tally?"":"s")+"</span>").appendTo(gallery_entry),gallery_entry=$('<span class="images">').appendTo(gallery_entry),gallery_imageset=$('<span class="set">').appendTo(gallery_entry);for(var i=0;i<gallery_images.length;i++){figure=src=image_title=image_id=image_index=void 0;var image_index=i,image_id=gallery_images[i].id,image_title=gallery_images[i].title,src="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />');$("<span />").css({backgroundImage:src}).appendTo(figure),figure.appendTo(gallery_imageset)}return INSTANCE},GalleryBox.List=function(){var image_list,image_id,image_title,state,list,state_load,INSTANCE=new VSModule,container=arguments[0],temp_id=(Array.isArray(arguments[1])?image_list=arguments[1]:(image_id=arguments[1],image_title=arguments[2]),1e9),gallery_items=[];function updateGalleryLastModified(gallery_id){for(var i=0;i<GalleryBox.galleries.length;i++)if(GalleryBox.galleries[i].id===gallery_id){var gallery_entry=GalleryBox.galleries.splice(i,1);GalleryBox.galleries.unshift(gallery_entry[0]);break}}function createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item=new GalleryBox.ListItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked);item.getElement();return item.on("check",function(){image_list?item.addImages(image_list):item.addImage(image_id,image_title),function(gallery_id){image_id&&(VectorStock.userData.addToGallery(image_id,gallery_id),$.put("/api/galleries/"+gallery_id+"/"+image_id).done(function(response){response.success||(VectorStock.userData.removeFromGallery(image_id,gallery_id),setTimeout(function(){var gallery=function(gallery_id){for(var i=0;i<gallery_items.length;i++)if(gallery_items[i].id==gallery_id)return gallery_items[i];return null}(gallery_id);gallery&&gallery.removeImage(image_id)},10),response.message&&"gallery_full"==response.message&&alert("Could not add image #"+image_id+" to gallery - limit reached"+(response.gallery_total?" ("+response.gallery_total+")":"")))}),VectorStock.track("event","Add To Gallery",{image:image_id,gallery:gallery_id}));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_added",[gallery_id])}).on("uncheck",function(){image_list?item.removeImages(image_list):item.removeImage(image_id),function(gallery_id){image_id&&($["delete"]("/api/galleries/"+gallery_id+"/"+image_id),VectorStock.userData.removeFromGallery(image_id,gallery_id));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_removed",[gallery_id])}),item}function toggleScrolling(){var is_scrolling=list.outerHeight()>container.outerHeight();container.toggleClass("scrolling",is_scrolling)}return INSTANCE.populate=function(galleries){for(var i=0,len=galleries.length;i<len;i++){for(var is_checked=!1,j=galleries[i].contents.length;j--;)if(galleries[i].contents[j].id==image_id){is_checked=!0;break}var item=createGalleryItem(galleries[i].id,galleries[i].name,galleries[i]["private"],galleries[i].contents,is_checked);item.getElement().appendTo(list),gallery_items.push(item)}state.attr("data-state",0==len?"empty":""),toggleScrolling()},INSTANCE.filter=function(term){0;for(var i=gallery_items.length,count=0;i--;)count+=gallery_items[i].match(term);state.attr("data-state",0==count?"none":""),toggleScrolling(),INSTANCE.dispatchEvent("update",[count])},INSTANCE.createGallery=function(gallery_name,gallery_private){var gallery_id=temp_id++,gallery_private=Number(gallery_private),gallery_ids=[],gallery_images=[];if(image_list)for(var i=0;i<image_list.length;i++)gallery_ids.push(image_list[i].id),gallery_images.push({id:image_list[i].id,title:image_list[i].title});else gallery_ids.push({id:image_id,title:image_title}),gallery_images.push({id:image_id,title:image_title});var gallery_entry={id:gallery_id,"public":!gallery_private,name:gallery_name,contents:gallery_images},item=createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,!0),item_element=item.getElement().addClass("faded");GalleryBox.galleries.unshift(gallery_entry),item_element.prependTo(list),gallery_items.unshift(item),toggleScrolling(),setTimeout(function(){container.scrollTop(item_element[0].offsetTop),item_element.removeClass("faded")},10),$.post("/api/galleries",{name:gallery_name,"private":gallery_private,images:gallery_ids,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json").done(function(response){response.success?(gallery_entry.id=response.id,item.updateId(response.id),VectorStock.setTally("galleries",response.galleries),VectorStock.userData.createGallery(response.id,gallery_name),VectorStock.userData.addToGallery(image_id,response.id)):(GalleryBox.galleries.shift(),item_element.remove(),gallery_items.shift(),response.message&&"max_galleries_reached"==response.message&&alert("Could not create gallery - max limit reached")),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)}),INSTANCE.dispatchEvent("update",[GalleryBox.galleries.length])},INSTANCE.show=function(){return container.show(),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},state=$(".state",container).attr("data-state","load"),(state_load=$('<div class="state_load" />').appendTo(state)).loadingIcon("small"),$("<p>Loading galleries…</p>").appendTo(state_load),state_load=$('<div class="state_empty" />').appendTo(state),$("<p>No galleries exist yet</p>").appendTo(state_load),state_load=$('<div class="state_none" />').appendTo(state),$("<p>No matches</p>").appendTo(state_load),list=$("ul",container),INSTANCE},GalleryBox.ListItem=function(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item,label,cbox_wrap,cbox_input,cbox_field,item_title,item_subtitle,item_images,INSTANCE=new VSModule;function updateTitle(title){item_title.html(title)}function updateSubtitle(){item_subtitle.html(INSTANCE.images.length+" Image"+(1==INSTANCE.images?"":"s"))}function onChecked(checked){INSTANCE.dispatchEvent(checked?"check":"uncheck",[INSTANCE.id])}return INSTANCE.id=gallery_id,INSTANCE.name=gallery_name,INSTANCE["private"]=gallery_private,INSTANCE.images=gallery_images,INSTANCE.checked=gallery_checked,INSTANCE.getElement=function(){return item},INSTANCE.updateId=function(gallery_id){INSTANCE.id=gallery_id,label.attr("for","in_gallery_"+INSTANCE.id),cbox_input.attr("id","in_gallery_"+INSTANCE.id)},INSTANCE.match=function(term){if(term){var regex=new RegExp("("+term+")","gi");if(INSTANCE.name.search(regex)<0)return item.hide(),!1;updateTitle(INSTANCE.name.replace(regex,"<em>$1</em>"))}else updateTitle(INSTANCE.name);return item.show(),!0},INSTANCE.addImage=function(image_id,image_title){item_images.addImage(image_id,image_title),updateSubtitle()},INSTANCE.addImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.addImage(image_list[i].id,image_list[i].title);updateSubtitle()},INSTANCE.removeImage=function(image_id){item_images.removeImage(image_id),cbox_field.toggle(!1,!0),updateSubtitle()},INSTANCE.removeImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.removeImage(image_list[i].id);cbox_field.toggle(!1,!0),updateSubtitle()},item=$('<li data-status="'+(INSTANCE["private"]?"private":"")+'" />'),label=$('<label for="in_gallery_'+INSTANCE.id+'">').appendTo(item),cbox_wrap=$('<span class="checkbox" />').appendTo(label),cbox_input=$('<input type="checkbox" id="in_gallery_'+INSTANCE.id+'">').appendTo(cbox_wrap),cbox_field=new VectorStock.FieldCheckbox(cbox_input),item_title=$('<span class="title" />').appendTo(label),item_subtitle=$('<span class="subtitle" />').appendTo(label),item_images=new GalleryBox.ListItemImages(label,INSTANCE.images),updateTitle(INSTANCE.name),updateSubtitle(),cbox_field.toggle(INSTANCE.checked),cbox_field.on("change",onChecked),INSTANCE},GalleryBox.ListItemImages=function(scope,images){var container,imageset,INSTANCE=new VSModule,image_lookup={};function createImage(image_id,image_title,image_index){var image_index=image_index||0,src="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />'),src=($("<span />").css({backgroundImage:src}).appendTo(figure),imageset.children().length);return image_index==undefined||0==src||src<=image_index?figure.appendTo(imageset):imageset.children().eq(image_index).before(figure),image_lookup[image_id]=figure}INSTANCE.addImage=function(image_id,image_title){images.push({id:image_id,title:image_title}),function(image_id,image_title,image_index,is_instant){var figure=createImage(image_id,image_title,image_index);is_instant||(figure.addClass("conceal"),setTimeout(function(){$("figure",imageset).each(function(index){$(this).attr("data-index",index)}),figure.removeClass("conceal")},10))}(image_id,image_title)},INSTANCE.removeImage=function(image_id){for(var index,i=images.length;i--;)if(images[i].id==image_id){index=i;break}index!==undefined&&(images.splice(index,1),function(image_id){var figure=image_lookup[image_id];figure&&(figure.addClass("conceal"),delete image_lookup[image_id],setTimeout(function(){$("figure",imageset).not(".conceal").each(function(index){$(this).attr("data-index",index)})}),setTimeout(function(){figure.remove()},550))}(image_id))},container=$('<span class="images" />').appendTo(scope),imageset=$('<span class="set" />').appendTo(container);for(var range=images.length<=3?images.length:3,group=images.slice(images.length-range),i=range;i--;)createImage(group[i].id,group[i].title,range-i-1);return INSTANCE},function(canvas_width,canvas_height,start_random){var INSTANCE=new VSModule,COLOR_GRADIENTS=[["#2b1eb9","#df8686"],["#643daa","#f09161"],["#bc639c","#f1a343"]];return INSTANCE.xpos=0,INSTANCE.ypos=0,INSTANCE.target_xpos=0,INSTANCE.target_ypos=0,INSTANCE.xmove=0,INSTANCE.ymove=0,INSTANCE.x=0,INSTANCE.y=0,INSTANCE.opacity=1,INSTANCE.frame=0,INSTANCE.frames=0,INSTANCE.updateCanvasWidth=function(width){canvas_width=width},INSTANCE.setSpeedAndPace=function(){INSTANCE.xmove=(INSTANCE.target_xpos-INSTANCE.xpos)/INSTANCE.frames,INSTANCE.ymove=(INSTANCE.target_ypos-INSTANCE.ypos)/INSTANCE.frames,INSTANCE.x=INSTANCE.xpos+INSTANCE.frame*INSTANCE.xmove,INSTANCE.y=INSTANCE.ypos+INSTANCE.frame*INSTANCE.ymove},INSTANCE.generateXpos=function(){return Math.round(Math.random()*canvas_width)},INSTANCE.generateGradientCoordinates=function(size){var coordinates=[[],[]];return.5<Math.random()?(coordinates[0][0]=Math.round(Math.random()*size),coordinates[0][1]=size-coordinates[0][0],coordinates[1][0]=.5<Math.random()?0:size,coordinates[1][1]=Math.abs(coordinates[1][0]-size)):(coordinates[0][0]=.5<Math.random()?0:size,coordinates[0][1]=Math.abs(coordinates[0][0]-size),coordinates[1][0]=Math.round(Math.random()*size),coordinates[1][1]=size-coordinates[1][0]),coordinates},INSTANCE.generateGradientSwatches=function(xmidpoint){var index=Math.floor(xmidpoint/(canvas_width/COLOR_GRADIENTS.length)),index=Math.min(index,COLOR_GRADIENTS.length-1);return index=Math.max(index,0),COLOR_GRADIENTS[index]},INSTANCE.avoidCollision=function(size,attempts){attempts=attempts||0;for(var collision=!1,i=0;i<BannerAnimationShape.instances.length;i++)if(Math.abs(BannerAnimationShape.instances[i].xpos-INSTANCE.xpos)<size){INSTANCE.xpos=INSTANCE.generateXpos(),collision=!0;break}collision&&attempts<5&&INSTANCE.avoidCollision(size,++attempts)},INSTANCE.draw=function(context){if(INSTANCE.frame+=BannerAnimationShape.speed,INSTANCE.frame>=INSTANCE.frames)for(var i=BannerAnimationShape.instances.length;i--;)if(BannerAnimationShape.instances[i]===INSTANCE){BannerAnimationShape.instances.splice(i,1);break}},INSTANCE}),BannerAnimationShapeCircle=(BannerAnimationShape.settings={density:500},BannerAnimationShape.speed=1,BannerAnimationShape.scale=1,BannerAnimationShape.instances=[],BannerAnimationShape.max_instances=0,BannerAnimationShape.updateCanvasWidth=function(canvas_width){for(var i=0;i<BannerAnimationShape.instances.length;i++)BannerAnimationShape.instances[i].updateCanvasWidth(canvas_width)},BannerAnimationShape.updateLimits=function(canvas_width){BannerAnimationShape.max_instances=Math.round(canvas_width/BannerAnimationShape.settings.density*BannerAnimationShape.scale)},BannerAnimationShape.populate=function(canvas_width,canvas_height,start_random){for(;BannerAnimationShape.instances.length<BannerAnimationShape.max_instances;){var rand_shape=Math.floor(2*Math.random());0===rand_shape?new BannerAnimationShapeCircle(canvas_width,canvas_height,start_random):1===rand_shape&&new BannerAnimationShapeSquare(canvas_width,canvas_height,start_random)}},function(canvas_width,canvas_height,start_random){var radius,stroke,gradient_swatches,gradient_coordinates,rand_scale,diameter,INSTANCE=new BannerAnimationShape(canvas_width,canvas_height,start_random),superDraw=INSTANCE.draw;return INSTANCE.generateXpos=function(){return Math.round(Math.random()*canvas_width)+(canvas_height+radius)},INSTANCE.draw=function(context){INSTANCE.x+=INSTANCE.xmove*BannerAnimationShape.speed,INSTANCE.y+=INSTANCE.ymove*BannerAnimationShape.speed;var initial_x=INSTANCE.x-radius,initial_y=INSTANCE.y-radius,initial_y=context.createLinearGradient(initial_x+gradient_coordinates[0][0],initial_y+gradient_coordinates[1][0],initial_x+gradient_coordinates[0][1],initial_y+gradient_coordinates[1][1]),x_marker_start=(initial_y.addColorStop(0,gradient_swatches[0]),initial_y.addColorStop(1,gradient_swatches[1]),(canvas_width-300)/2),x_marker_stop=300+x_marker_start,x_pos_end=INSTANCE.x+radius;x_marker_start<initial_x&&initial_x<x_marker_stop||x_marker_start<x_pos_end&&x_pos_end<x_marker_stop?INSTANCE.opacity=Math.max(.25,.9*INSTANCE.opacity):INSTANCE.opacity<1&&(INSTANCE.opacity=Math.min(1,1.1*INSTANCE.opacity)),context.globalAlpha=INSTANCE.opacity,context.beginPath(),context.arc(INSTANCE.x,INSTANCE.y,radius,0,2*Math.PI,!1),context.strokeStyle=initial_y,context.lineWidth=stroke,context.stroke(),context.globalAlpha=1,superDraw()},rand_scale=Math.random(),diameter=2*(radius=BannerAnimationShapeCircle.settings.radiusMin+Math.round(rand_scale*(BannerAnimationShapeCircle.settings.radiusMax-BannerAnimationShapeCircle.settings.radiusMin))),stroke=BannerAnimationShapeCircle.settings.lineStrokeMin+Math.round(rand_scale*(BannerAnimationShapeCircle.settings.lineStrokeMax-BannerAnimationShapeCircle.settings.lineStrokeMin)),INSTANCE.xpos=INSTANCE.generateXpos(),INSTANCE.ypos=-radius,INSTANCE.frames=BannerAnimationShapeCircle.settings.framesMin+Math.round((1-rand_scale)*(BannerAnimationShapeCircle.settings.framesMax-BannerAnimationShapeCircle.settings.framesMin)),INSTANCE.frame=start_random?Math.round(Math.random()*INSTANCE.frames):0,gradient_coordinates=INSTANCE.generateGradientCoordinates(diameter),INSTANCE.avoidCollision(diameter),rand_scale=INSTANCE.xpos-(canvas_height+radius)/2,gradient_swatches=INSTANCE.generateGradientSwatches(rand_scale),INSTANCE.target_xpos=INSTANCE.xpos-(canvas_height+radius),INSTANCE.target_ypos=canvas_height+radius,INSTANCE.setSpeedAndPace(),BannerAnimationShape.instances.push(INSTANCE),INSTANCE}),BannerAnimationShapeSquare=(BannerAnimationShapeCircle.settings={radiusMin:25,radiusMax:75,lineStrokeMin:1,lineStrokeMax:3,framesMin:75,framesMax:150},function(canvas_width,canvas_height,start_random){var size,stroke,rotation,rotation_rate,gradient_swatches,gradient_coordinates,rand_scale,INSTANCE=new BannerAnimationShape(canvas_width,canvas_height,start_random),superDraw=INSTANCE.draw;return INSTANCE.generateXpos=function(){return Math.round(Math.random()*canvas_width-size/2)},INSTANCE.draw=function(context){INSTANCE.x+=INSTANCE.xmove*BannerAnimationShape.speed,INSTANCE.y+=INSTANCE.ymove*BannerAnimationShape.speed,rotation-=rotation_rate*BannerAnimationShape.speed;var offset_x=INSTANCE.x+size/2,offset_y=INSTANCE.y+size/2,initial_x=INSTANCE.x-offset_x,initial_y=INSTANCE.y-offset_y,initial_y=context.createLinearGradient(initial_x+gradient_coordinates[0][0],initial_y+gradient_coordinates[1][0],initial_x+gradient_coordinates[0][1],initial_y+gradient_coordinates[1][1]),x_marker_start=(initial_y.addColorStop(0,gradient_swatches[0]),initial_y.addColorStop(1,gradient_swatches[1]),(canvas_width-300)/2),x_marker_stop=300+x_marker_start;x_marker_start<initial_x&&initial_x<x_marker_stop||x_marker_start<offset_x&&offset_x<x_marker_stop?INSTANCE.opacity=Math.max(.25,.9*INSTANCE.opacity):INSTANCE.opacity<1&&(INSTANCE.opacity=Math.min(1,1.1*INSTANCE.opacity)),context.globalAlpha=INSTANCE.opacity,context.strokeStyle=initial_y,context.lineWidth=stroke,context.save(),context.translate(offset_x,offset_y),context.rotate(rotation*(Math.PI/180)),context.strokeRect(INSTANCE.x-offset_x,INSTANCE.y-offset_y,size,size),context.restore(),context.globalAlpha=1,superDraw()},rand_scale=Math.random(),size=BannerAnimationShapeSquare.settings.sizeMin+Math.round(rand_scale*(BannerAnimationShapeSquare.settings.sizeMax-BannerAnimationShapeSquare.settings.sizeMin)),stroke=BannerAnimationShapeSquare.settings.lineStrokeMin+Math.round(rand_scale*(BannerAnimationShapeSquare.settings.lineStrokeMax-BannerAnimationShapeSquare.settings.lineStrokeMin)),rotation=Math.round(360*Math.random()),INSTANCE.xpos=INSTANCE.generateXpos(),INSTANCE.ypos=-1.42*size,INSTANCE.frames=BannerAnimationShapeSquare.settings.framesMin+Math.round((1-rand_scale)*(BannerAnimationShapeSquare.settings.framesMax-BannerAnimationShapeSquare.settings.framesMin)),INSTANCE.frame=start_random?Math.round(Math.random()*INSTANCE.frames):0,rand_scale=BannerAnimationShapeSquare.settings.rotationRateMin+Math.round(Math.random()*(BannerAnimationShapeSquare.settings.rotationRateMax-BannerAnimationShapeSquare.settings.rotationRateMin)),rotation_rate=rand_scale/INSTANCE.frames,gradient_coordinates=INSTANCE.generateGradientCoordinates(size),INSTANCE.avoidCollision(size),rand_scale=INSTANCE.xpos-size/2,gradient_swatches=INSTANCE.generateGradientSwatches(rand_scale),rand_scale=canvas_height+(1.42*size-size),INSTANCE.target_xpos=INSTANCE.xpos-rand_scale,INSTANCE.target_ypos=rand_scale,INSTANCE.setSpeedAndPace(),BannerAnimationShape.instances.push(INSTANCE),INSTANCE}),BannerAnimationLine=(BannerAnimationShapeSquare.settings={sizeMin:25,sizeMax:75,lineStrokeMin:1,lineStrokeMax:3,rotationRateMin:15,rotationRateMax:75,framesMin:75,framesMax:150},function(canvas_width,canvas_height,start_random){var width,height,color,frame,frames,target_xpos,ymove,xmove,xpos,length,INSTANCE=new VSModule,COLORS=["#4734ac","#7558a1","#a07392","#c18a7a","#df9f55"];return INSTANCE.x=null,INSTANCE.y=null,INSTANCE.opacity=1,INSTANCE.draw=function(context){INSTANCE.x+=xmove*BannerAnimationLine.speed,INSTANCE.y+=ymove*BannerAnimationLine.speed;var top_right=INSTANCE.x+width,x_marker_start=(canvas_width-300)/2,x_marker_stop=300+x_marker_start,x_pos_end=INSTANCE.x+width;if(INSTANCE.x>x_marker_start&&INSTANCE.x<x_marker_stop||x_marker_start<x_pos_end&&x_pos_end<x_marker_stop?INSTANCE.opacity=Math.max(.15,.9*INSTANCE.opacity):INSTANCE.opacity<1&&(INSTANCE.opacity=Math.min(1,1.1*INSTANCE.opacity)),context.globalAlpha=INSTANCE.opacity,context.beginPath(),context.moveTo(INSTANCE.x,INSTANCE.y),context.lineTo(INSTANCE.x+width,INSTANCE.y-height),context.strokeStyle=color,context.lineWidth=1,context.stroke(),context.globalAlpha=1,frame+=BannerAnimationLine.speed,frames<=frame||top_right<0)for(var i=BannerAnimationLine.instances.length;i--;)if(BannerAnimationLine.instances[i]===INSTANCE){BannerAnimationLine.instances.splice(i,1);break}},INSTANCE.updateCanvasWidth=function(width){canvas_width=width},xpos=Math.round(Math.random()*(canvas_width+canvas_height*BannerAnimationLine.settings.angle)),length=BannerAnimationLine.settings.lengthMin+Math.floor(Math.random()*(BannerAnimationLine.settings.lengthMax-BannerAnimationLine.settings.lengthMin)),frames=BannerAnimationLine.settings.framesMin+Math.floor(Math.random()*(BannerAnimationLine.settings.framesMax-BannerAnimationLine.settings.framesMin)),frame=start_random?Math.floor(Math.random()*frames):0,height=(width=length)/BannerAnimationLine.settings.angle,target_xpos=xpos-(length=canvas_height+height)*BannerAnimationLine.settings.angle,ymove=length/frames,xmove=(target_xpos-xpos)/frames,length=Math.floor((xpos-(target_xpos-xpos)/2)/(canvas_width/COLORS.length)),length=Math.min(length,COLORS.length-1),color=COLORS[length],INSTANCE.x=xpos+frame*xmove,INSTANCE.y=frame*ymove,BannerAnimationLine.instances.push(INSTANCE),INSTANCE}),BannerAnimation=(BannerAnimationLine.settings={angle:1,density:75,lengthMin:50,lengthMax:300,framesMin:50,framesMax:100},BannerAnimationLine.speed=1,BannerAnimationLine.scale=1,BannerAnimationLine.instances=[],BannerAnimationLine.max_instances=0,BannerAnimationLine.updateCanvasWidth=function(canvas_width){for(var i=0;i<BannerAnimationLine.instances.length;i++)BannerAnimationLine.instances[i].updateCanvasWidth(canvas_width)},BannerAnimationLine.updateLimits=function(canvas_width){BannerAnimationLine.max_instances=Math.round(canvas_width/BannerAnimationLine.settings.density*BannerAnimationLine.scale)},BannerAnimationLine.populate=function(canvas_width,canvas_height,start_random){for(;BannerAnimationLine.instances.length<BannerAnimationLine.max_instances;)new BannerAnimationLine(canvas_width,canvas_height,start_random)},function(canvas){var fps,context,INSTANCE=new VSModule,FPS_CUTOFF=50,FPS_INTERVAL=600,banner_width=$(window).width(),banner_height=80,is_playing=!0,is_closed=!1,frame_count=0,fps_times=[];function animate(){window.requestAnimationFrame?window.requestAnimationFrame(onFrameAnimation):window.setTimeout(onFrameAnimation,1e3/60)}function updateMaxSprites(){BannerAnimationLine.updateLimits(banner_width),BannerAnimationShape.updateLimits(banner_width)}function onFrameAnimation(timestamp){if(!is_closed&&is_playing){if(context.clearRect(0,0,canvas[0].width,canvas[0].height),BannerAnimationLine.populate(banner_width,banner_height),BannerAnimationShape.populate(banner_width,banner_height),window.performance){for(var now=performance.now();0<fps_times.length&&fps_times[0]<=now-1e3;)fps_times.shift();fps_times.push(now),fps=fps_times.length}for(var i=BannerAnimationLine.instances.length;i--;)BannerAnimationLine.instances[i].draw(context);for(var j=BannerAnimationShape.instances.length;j--;)BannerAnimationShape.instances[j].draw(context)}++frame_count%FPS_INTERVAL==0&&fps&&fps<FPS_CUTOFF&&(BannerAnimationLine.scale*=.9,BannerAnimationShape.scale*=.9,updateMaxSprites()),is_closed?INSTANCE.dispatchEvent("closed"):animate()}return INSTANCE.mouseover=function(){BannerAnimationLine.speed=.15,BannerAnimationShape.speed=.15},INSTANCE.mouseout=function(){BannerAnimationLine.speed=1,BannerAnimationShape.speed=1},INSTANCE.resize=function(){banner_width=$(window).width(),updateMaxSprites(),canvas[0].width=2*banner_width,canvas[0].style.width=banner_width+"px",context.scale(2,2),BannerAnimationLine.updateCanvasWidth(banner_width),BannerAnimationShape.updateCanvasWidth(banner_width)},INSTANCE.pause=function(){is_playing=!1},INSTANCE.play=function(){is_playing=!0},INSTANCE.close=function(){is_closed=!0},context=canvas[0].getContext("2d",{alpha:!0}),canvas[0].width=2*banner_width,canvas[0].height=2*banner_height,canvas[0].style.width=banner_width+"px",canvas[0].style.height=banner_height+"px",context.scale(2,2),updateMaxSprites(),BannerAnimationLine.populate(banner_width,banner_height,!0),BannerAnimationShape.populate(banner_width,banner_height,!0),animate(),INSTANCE}),BannerMessage=function(container,ts_expiry){var label_a,label_b,label_expiry,INSTANCE=new VSModule,TIMEOUT_SWITCH=3e3;function updateExpiry(){var ts_now=(new Date).getTime(),ts_now=ts_expiry-ts_now,ts_now=ts_now<=0?minutes=hours=0:ts_now<36e7?(hours=Math.floor(ts_now/36e5),minutes=Math.floor(ts_now%36e5/6e4),Math.floor(ts_now%6e4/1e3)):minutes=hours=99,hours=VectorStock.zeroPad(hours,2),minutes=VectorStock.zeroPad(minutes,2),ts_now=VectorStock.zeroPad(ts_now,2);label_expiry.html(hours+":"+minutes+":"+ts_now),setTimeout(updateExpiry,1e3)}return label_a=$(".button .label",container).eq(0),label_b=$(".button .label",container).eq(1),label_expiry=$("var",label_a),updateExpiry(),setTimeout(function(){!function switchLabels(label_reveal,label_conceal){var ts_now=(new Date).getTime(),ts_now=ts_expiry-ts_now,ts_now=Math.ceil(ts_now/36e5);if(100<=ts_now)return;setTimeout(function(){label_conceal.removeClass("reveal conceal")},600);label_reveal.addClass("reveal");label_conceal.addClass("conceal");setTimeout(function(){switchLabels(label_conceal,label_reveal)},TIMEOUT_SWITCH)}(label_b,label_a)},TIMEOUT_SWITCH),INSTANCE},SearchResultData=($(function(){var banner_link,banner_animation,ts_expiry,banner=$("#banner-cyber-monday");banner.length&&(ts_expiry=new Date(1e3*parseInt(banner.data("expires"))).getTime(),banner_link=$("a",banner),new BannerMessage($("#banner-message",banner),ts_expiry),banner_animation=new BannerAnimation($("#banner-bg-animation",banner)),ts_expiry=$('button[name="but-close"]',banner),banner_link.on("mouseover",function(){banner_animation.mouseover()}),banner_link.on("mouseout",function(){banner_animation.mouseout()}),ts_expiry.on("click",function(){banner_animation.on("closed",function(){banner.remove()}),banner_animation.close(),document.cookie="promo_cyber_2023=1"}),$(window).on("resize",function(){banner_animation.resize()}),document.cookie="promo_cyber_2023_active=1",window.IntersectionObserver&&new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){entry.isIntersecting?banner_animation.play():banner_animation.pause()})},{root:null,rootMargin:"100px",threshold:0}).observe(banner[0]))}),function(params,spelling){var category_url,category_title,TYPES={},type=(TYPES[SearchResultData.TYPE_BROWSE]={title:"Royalty-Free Vector Images",header:"Royalty Free Vectors",path:"royalty-free-vectors"},TYPES[SearchResultData.TYPE_FREE]={title:"Free Vector Images",header:"Free Vector Art & Graphics",path:"free-vectors"},TYPES[SearchResultData.TYPE_PURCHASED]={title:"Your Purchases",header:"My Purchased Vectors",path:"purchased"},TYPES.pending_manage={title:"Manage Pending",header:"Pending",path:"manage-pending"},TYPES.pending_self={title:"Pending",header:"Pending",path:"pending"},TYPES.pending_artist={title:"Pending",header:"Pending",path:"manage-pending/vectors-by_"},TYPES[params.type]||TYPES[SearchResultData.TYPE_BROWSE]),TYPES=(params.type==SearchResultData.TYPE_PENDING&&(params.pending?params.pending==SearchResultData.TYPE_PENDING_SELF?type=TYPES.pending_self:(type=TYPES.pending_artist).path+=params.pending:type=TYPES.pending_manage),[type.path]),path_crumbs=[],title_window=type.title,title_header="",title_subheader=null,title_keywords=type.header,keywords=params.keywords||"",category=params.categories||null,custom_srp=params.custom_srp||null,artist=params.artists||null,similar=params.similar||null,page=(keywords.length,params.page||1),order=(order=params.order)||(0<keywords.length?SearchResults.ORDER_BESTMATCH:SearchResults.ORDER_TRENDING);if(keywords?(spelling&&(keywords=spelling.updated),title_window=(title_keywords=SearchBox.dictionary.formatKeywords(keywords))+" Vector Art",TYPES[1]=keywords.replace(/\s+/g,"-").toLowerCase()+"-vectors",path_crumbs.push("<li><span>"+title_keywords+" vectors</span></li>"),params.type==SearchResultData.TYPE_FREE&&(title_window="Free "+title_window,title_keywords="Free "+title_keywords),title_keywords+=" vectors"):title_keywords=type.header,title_header+="<strong>"+title_keywords+"</strong>",category&&(category_url=(title_keywords=SearchBoxTag.termToURL(category))+"-vectors",title_window+=" within "+(category_title=SearchBox.dictionary.getCategory(title_keywords)||category),title_header+=" within <strong>"+category_title+"</strong>",params.type==SearchResultData.TYPE_PENDING?TYPES.push("vectors-in_"+title_keywords):TYPES[0]=category_url,path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+category_url+'"><span itemprop="name">'+category_title+"</span></a></li>")),custom_srp&&(title_keywords=SearchBoxTag.termToURL(custom_srp),title_window+=" within "+(category_title=SearchBox.dictionary.getCustomSRP(category_url=title_keywords)||custom_srp),title_header+=" within <strong>"+category_title+"</strong>",TYPES[0]=category_url,path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+category_url+'"><span itemprop="name">'+category_title+"</span></a></li>")),path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+type.path+'"><span itemprop="name">'+type.header+" Vectors</span></a></li>"),artist&&(category_url="by_"+(title_keywords=SearchBoxTag.termToURL(artist)),category_title=SearchBox.dictionary.getArtist(title_keywords)||artist,is_following=VectorStock.userData.isFollowing(title_keywords),following_button_label=is_following?"Following":"Follow",following_button_selected=is_following?"selected":"",is_notfollowing=VectorStock.userData.isNotFollowing(title_keywords),notfollowing_button_label=is_notfollowing?"Hidden":"Hide",notfollowing_button_selected=is_notfollowing?"selected":"",title_window+=" by "+category_title,title_header+=' by <strong class="artist">'+category_title+"</strong>",(logged_in=!!(VectorStock&&VectorStock.isLoggedIn&&VectorStock.isLoggedIn()))&&(title_header+='<button type="button" data-action="follow" data-artist="'+category_title+'" class="'+following_button_selected+'" title="Follow Artists that you like to create a newsfeed of their recent images."><span class="label">'+following_button_label+"</span></button>",VectorStock.isProduction()||(title_header+='<button type="button" data-action="notfollow" data-artist="'+category_title+'" class="'+notfollowing_button_selected+'" title="Hide Artists that you don\'t like to exclude their images in search results."><span class="label">'+notfollowing_button_label+"</span></button>")),TYPES[1]=(TYPES[1]||"vectors")+"-"+category_url),similar&&(("string"==typeof similar||similar instanceof String)&&similar.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?(title_window+=" similar to uploaded image",title_header+=" similar to <strong>uploaded image</strong>"):(title_window+=" similar to #"+similar,title_header+=" similar to <strong>#"+similar+"</strong>"),TYPES[1]||(TYPES[1]="vectors"),TYPES[1]+="-similar-to_"+similar),params.type==SearchResultData.TYPE_PURCHASED||params.type==SearchResultData.TYPE_PENDING||0==keywords.length&&order==SearchResults.ORDER_TRENDING||0<keywords.length&&order==SearchResults.ORDER_BESTMATCH||custom_srp&&order==SearchResults.ORDER_BESTMATCH||0==keywords.length&&!category&&artist&&order==SearchResults.ORDER_BESTMATCH||TYPES.push(TYPES.pop()+"-order_"+order),1<page&&(title_window+=" - Page "+page,TYPES.push(TYPES.pop()+"-page_"+page)),spelling){var term,title_header="Showing "+title_header,title_subheader="",replacements=[],variations=1;for(term in spelling.suggestions){for(var term_suggestions={term:term,suggestions:[]},i=0;i<spelling.suggestions[term].length;i++)term_suggestions.suggestions.push(spelling.suggestions[term][i]);replacements.push(term_suggestions),variations*=term_suggestions.suggestions.length}for(var suggestions=[],i=0;i<variations;i++){for(var suggestion_url,query=spelling.original,j=0;j<replacements.length;j++)var regex=new RegExp("\\b"+replacements[j].term+"\\b","gi"),index=i%replacements[j].suggestions.length,index=replacements[j].suggestions[index],query=query.replace(regex,index);query!==spelling.updated&&(suggestion_url="/"+type.path+"/"+query.replace(/\s+/g,"-").toLowerCase()+"-vectors",suggestions.push('<a href="'+suggestion_url+'" class="alt">'+query+"</a>"))}0<(suggestions=suggestions.slice(0,2)).length&&(title_subheader+="Did you mean "+suggestions.join(" or ")+"? "),title_subheader+='Or show results for <a href="'+("/"+type.path+"/"+spelling.original.replace(/\s+/g,"-").toLowerCase()+"-vectors?noredirect=1")+'" class="original" rel="nofollow">'+spelling.original+"</a> instead..."}return 1===params.noredirect&&TYPES.push(TYPES.pop()+"?noredirect=1"),{url:VectorStock.formatURL("/"+TYPES.join("/")),crumbs:path_crumbs.join(""),header:title_header,subheader:title_subheader,title:title_window}}),SearchBoxDictionary=(SearchResultData.TYPE_BROWSE="browse",SearchResultData.TYPE_FREE="free",SearchResultData.TYPE_PURCHASED="purchased",SearchResultData.TYPE_PENDING="pending",SearchResultData.TYPE_PENDING_SELF="_self",SearchResultData.replaceKeywords=function(keywords,corrections){for(var mistake in corrections){var regex=new RegExp("\\b"+mistake+"\\b","gi");keywords=keywords.replace(regex,corrections[mistake])}return keywords},function(){var INSTANCE=VSModule(),KEYWORDS_FORMAT_HYPHENS=["x ray","t shirt"],KEYWORDS_FORMAT_UPPERCASE=["usa","wtf","omg","lol","nz","ny"],KEYWORDS_FORMAT_LOWERCASE=["a","an","and","are","as","at","be","but","by","do","for","if","in","into","is","it","no","nor","not","of","on","or","so","such","that","the","their","then","there","these","they","this","to","was","will","with","yet"];function addTerms(type,terms){for(var i=terms.length;i--;){var term_display=terms[i],term_id=SearchBoxTag.termToURL(term_display);INSTANCE[type][term_id]=term_display}}return INSTANCE.keywords={},INSTANCE.artists={},INSTANCE.categories={"abstract":"Abstract","animals-wildlife":"Animals & Wildlife","artistic-experimental":"Artistic & Experimental","backgrounds-textures":"Backgrounds & Textures","beauty-fashion":"Beauty & Fashion","borders-frames":"Borders & Frames","buildings-landmarks":"Buildings & Landmarks","business-finance":"Business & Finance",cartoons:"Cartoons","celebration-party":"Celebration & Party","children-family":"Children & Family",christmas:"Christmas",cityscapes:"Cityscapes",communication:"Communication",computers:"Computers","copy-space":"Copy-Space",dancing:"Dancing","design-elements":"Design Elements","digital-media":"Digital Media","dj-dance-music":"DJ-Dance Music","document-template":"Document Template",easter:"Easter",education:"Education",entertainment:"Entertainment","flags-ribbons":"Flags & Ribbons","floral-decorative":"Floral & Decorative","fonts-type":"Fonts & Type","food-drink":"Food & Drink","game-assets":"Game Assets","geographical-maps":"Geographical & Maps",graffiti:"Graffiti","graphs-charts":"Graphs & Charts",grunge:"Grunge",halloween:"Halloween","healthcare-medical":"Healthcare & Medical",heraldry:"Heraldry",housing:"Housing","icon-emblem-(single)":"Icon & Emblem (single)","icons-emblems-(sets)":"Icon & Emblem (sets)",industrial:"Industrial",infographics:"Infographics",interiors:"Interiors","landscapes-nature":"Landscapes & Nature","marriage-engagement":"Marriage & Engagement",military:"Military",miscellaneous:"Miscellaneous",music:"Music","objects-still-life":"Objects & Still Life",packaging:"Packaging",patterns:"Patterns","patterns-(seamless)":"Patterns (seamless)",people:"People","photo-real":"Photo-Real",religion:"Religion",science:"Science",seasons:"Seasons","shopping-retail":"Shopping & Retail","signs-symbols":"Signs & Symbols",silhouettes:"Silhouettes","sports-recreation":"Sports & Recreation","t-shirt-graphics":"T-Shirt Graphics",technology:"Technology",telecommunications:"Telecommunications",transportation:"Transportation","urban-scenes":"Urban Scenes","user-interface":"User Interface","vacation-travel":"Vacation & Travel","valentines-day":"Valentines Day",vintage:"Vintage"},INSTANCE.custom_srps={icon:"Icon",icons:"Icons",logo:"Logo",logos:"Logos",background:"Background",backgrounds:"Backgrounds","t-shirt-graphic":"T-Shirt Graphic","t-shirt-graphics":"T-Shirt Graphics",christmas:"Christmas",halloween:"Halloween","day-of-the-dead":"Day of the Dead",wedding:"Wedding",weddings:"Weddings",thanksgiving:"Thanksgiving",infographic:"Infographic",infographics:"Infographics",tree:"Tree",trees:"Trees",floral:"Floral",flower:"Flower",flowers:"Flowers",summer:"Summer",easter:"Easter",coronavirus:"Coronavirus","coronavirus-icons":"Coronavirus Icons","coronavirus-backgrounds":"Coronavirus Backgrounds and Patterns","coronavirus-infographics":"Coronavirus Infographics and Stats"},INSTANCE.update=function(terms){terms&&(terms.keywords&&addTerms("keywords",terms.keywords),terms.artists&&addTerms("artists",terms.artists))},INSTANCE.getKeyword=function(keyword){return!!INSTANCE.keywords.hasOwnProperty(keyword)&&INSTANCE.keywords[keyword]},INSTANCE.getArtist=function(artist){return!!INSTANCE.artists.hasOwnProperty(artist)&&INSTANCE.artists[artist]},INSTANCE.getCategory=function(category){return!!INSTANCE.categories.hasOwnProperty(category)&&INSTANCE.categories[category]},INSTANCE.getCustomSRP=function(custom_srp){return!!INSTANCE.custom_srps.hasOwnProperty(custom_srp)&&INSTANCE.custom_srps[custom_srp]},INSTANCE.formatKeywords=function(keywords){keywords=(keywords=keywords.replace(/[^\w\d\s-]/g," ").replace(/[\s-_]+/g," ").trim()).toTitleCase(),function(){for(var i=0;i<KEYWORDS_FORMAT_HYPHENS.length;i++)for(var search_all=new RegExp("\\b"+KEYWORDS_FORMAT_HYPHENS[i]+"\\b","gi"),matches_all=keywords.match(search_all)||[],j=0;j<matches_all.length;j++){var search_instance=new RegExp("\\b"+matches_all[j]+"\\b"),replacement_instance=matches_all[j].replace(" ","-");keywords=keywords.replace(search_instance,replacement_instance)}}(),function(){for(var i=0;i<KEYWORDS_FORMAT_UPPERCASE.length;i++){var search=new RegExp("\\b"+KEYWORDS_FORMAT_UPPERCASE[i]+"\\b","gi");keywords=keywords.replace(search,KEYWORDS_FORMAT_UPPERCASE[i].toUpperCase())}}();for(var i=0;i<KEYWORDS_FORMAT_LOWERCASE.length;i++){var search=new RegExp(" "+KEYWORDS_FORMAT_LOWERCASE[i]+"\\b","gi");keywords=keywords.replace(search," "+KEYWORDS_FORMAT_LOWERCASE[i].toLowerCase())}return keywords},INSTANCE}),SearchBoxSuggestions=(SearchBoxDictionary.WORDS_SKIP=["an?d?","are","art","as","at","artworks?","be","by","clip-?art","do","for","from","got","graphics?","it'?s?","into","images?","illustrat(ions?|ed|ive)","my","on","of","or","so","to","the","vectors?","with","where","were","your"],function(box){var fieldset_sbs,suggestions,input,timeout_load,INSTANCE=VSModule(),mem_suggestions=(INSTANCE.visible=null,INSTANCE.loading=null),current_term=null;function onMouseOver(){$("li.highlight",suggestions).removeClass("highlight"),$(this).addClass("highlight")}function onMouseOut(){$(this).removeClass("highlight")}function onSelect(event){var term_id=$(this).attr("data-term"),context=$(this).parents(".group").attr("data-context");INSTANCE.toggle(),INSTANCE.dispatchEvent("selectItem",[term_id,context])}function setListeners(){suggestions.on("mouseover","li",onMouseOver).on("mouseout","li",onMouseOut).on("click","li",onSelect)}function onClickOutside(event){$(event.target).parents().is(suggestions)?event.preventDefault():INSTANCE.toggle(!1)}function populateSuggestions(term_id,results){var is_results=!1;if(1<=term_id.length){var context,list=$("div",suggestions).empty(),items_all=0;for(context in results)results[context]&&results[context].length&&!function(context){for(var group=$('<div class="group" data-context="'+context+'" />'),terms=($("<h6>"+context+"</h6>").appendTo(group),$("<ul />").appendTo(group)),items=0,i=0;i<results[context].length&&i<6&&(items_all<10||0==i);){var rterm=results[context][i],search=(SearchBoxTag.termToURL(rterm),new RegExp("("+term_id.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")","i"));$('<li data-term="'+rterm+'">'+rterm.replace(search,"<em>$1</em>")+"</li>").appendTo(terms);items++,items_all++,is_results=!0,i++}items&&group.appendTo(list)}(context);INSTANCE.toggle(is_results),INSTANCE.loading=!1}else INSTANCE.toggle(!1)}return INSTANCE.toggle=function(show){show!==INSTANCE.visible&&(show=show==undefined?!INSTANCE.visible:show,box.toggleClass("open",show),suggestions.toggle(show),show?$(document).one("mousemove",setListeners).on("mousedown",onClickOutside):($(document).off("mousemove",setListeners).off("mousedown",onClickOutside),suggestions.off("mouseover","li",onMouseOver).off("mouseout","li",onMouseOut).off("click","li",onSelect),$("li.highlight",suggestions).removeClass("highlight")),INSTANCE.visible=show)},INSTANCE.update=function(term){clearTimeout(timeout_load),term=(term=VectorStock.sanitizeInput(term)).toLowerCase(),mem_suggestions[term]?populateSuggestions(term,mem_suggestions[term]):timeout_load=setTimeout(function(){var term_id;current_term=term_id=term,$.ajax({url:"/api/search/autocomplete",data:{prefix:encodeURIComponent(term_id)},dataType:"json",type:"GET"}).done(function(response){if(VectorStock.browserSupport("sessionStorage")&&JSON&&JSON.stringify)try{sessionStorage.autocomplete=JSON.stringify(mem_suggestions)}catch(e){}input.is(":focus")&&current_term===term_id&&response&&response.results&&populateSuggestions(term_id,response.results)}).fail(function(response){populateSuggestions(term_id,{keywords:null,artists:null,categories:null})}),term_id.length<1?INSTANCE.toggle(!1):INSTANCE.loading||(INSTANCE.toggle(!1),INSTANCE.loading=!0)},500)},INSTANCE.selectedTerm=function(){var group,suggestion=$("li.highlight",suggestions);return suggestion.length?(group=suggestion.closest(".group"),{term:suggestion.attr("data-term"),context:group.attr("data-context")}):null},INSTANCE.moveHighlight=function(direction){var incumbent,index,items=$("li",suggestions),length=items.length;0<length&&(incumbent=items.filter(".highlight"),index=(index=items.index(incumbent)+direction)<0?index<-1?length-1:length:index,length=$(items[index]),incumbent.removeClass("highlight"),0<length.length&&length.addClass("highlight"))},INSTANCE.cancelSearch=function(){current_term=null,clearTimeout(timeout_load),INSTANCE.toggle(!1)},fieldset_sbs=$("fieldset",box),suggestions=$('<div class="suggestions" />').append("<div />").appendTo(fieldset_sbs),input=$("input[type=text]",fieldset_sbs),INSTANCE.visible=!1,INSTANCE.loading=!1,mem_suggestions=VectorStock.browserSupport("sessionStorage")&&sessionStorage.autocomplete?JSON.parse(sessionStorage.autocomplete):{},INSTANCE}),SearchBoxTag=function(list_or_item,context,label){var tag_list,tag_item,tag_button,INSTANCE=VSModule();return INSTANCE.context=null,INSTANCE.label=null,INSTANCE.value=null,INSTANCE.remove=function(suppress_bubbling){return tag_item.remove(),suppress_bubbling||INSTANCE.dispatchEvent("remove"),null},INSTANCE.update=function(label){INSTANCE.label=label,INSTANCE.value=SearchBoxTag.termToURL(label),tag_label.html(INSTANCE.label),tag_item.attr("data-value",INSTANCE.value)},list_or_item.is("ul")?(INSTANCE.context=context,INSTANCE.label=label,INSTANCE.value=SearchBoxTag.termToURL(label),("string"==typeof INSTANCE.label||INSTANCE.label instanceof String)&&INSTANCE.label.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)&&(INSTANCE.label="uploaded image"),tag_list=list_or_item,tag_item=$('<li data-context="'+INSTANCE.context+'" data-value="'+INSTANCE.value+'" />').appendTo(tag_list),tag_label=$('<span class="label">'+INSTANCE.label+"</span>").appendTo(tag_item),tag_button=$('<button type="button">×</button>').appendTo(tag_item)):(tag_list=list_or_item.parent(),tag_item=list_or_item,tag_label=$(".label",tag_item),tag_button=$("button",tag_item),INSTANCE.context=tag_item.data("context"),INSTANCE.label=tag_label.html(),INSTANCE.value=tag_item.data("value")),tag_button.on("click",function(){INSTANCE.remove()}),INSTANCE},SearchBox=(SearchBoxTag.termToURL=function(term){return term=(term=(term=term+""||"").replace(/\s*&\s*|\s*\+\s*|\s+/g,"-")).toLowerCase()},SearchBoxTag.termToDisplay=function(term){return term.replace(/\+/g," & ")},function(box){var fieldset,taglist,tag_artist,tag_category,tag_custom_srp,tag_similar,input,but_clear,submit,suggestions,is_empty,is_loading,last_search,scope,but_imagesearch,item_artist,INSTANCE=VSModule();function onInputFocus(){box.addClass("focused")}function onInputBlur(){box.removeClass("focused")}function onInputKeyPress(event){switch(event.keyCode=event.metaKey?224:event.keyCode,event.keyCode){case 16:case 17:case 18:case 224:break;case 13:var selected=suggestions.selectedTerm();selected?onSelectSuggestion(selected.term,selected.context):search(),event.preventDefault();break;case 38:case 40:suggestions.visible&&(selected=event.keyCode<39?-1:1,suggestions.moveHighlight(selected),event.preventDefault());break;default:onChange()}}function onChange(){setTimeout(function(){var term=$.trimString(input.val());""!==term?suggestions.update(term):suggestions.cancelSearch(),updateEmptyStatus()},10)}function onSelectSuggestion(term,context){"keywords"==context?INSTANCE.setSearch(term,!0):"artists"==context?(input.val(""),INSTANCE.setArtist(term,!0)):"categories"==context&&INSTANCE.setCategory(term,!0),search()}function onSearchButtonClick(event){search(),event.preventDefault()}function onTagArtistRemove(){tag_artist=null,search()}function onTagCategoryRemove(){tag_category=null,search()}function onTagCustomSRPRemove(){tag_custom_srp=null,search()}function onTagSimilarRemove(){tag_similar=null,search()}function updateEmptyStatus(){is_empty=0==$("li",taglist).length&&""==input.val(),box.toggleClass("empty",is_empty)}function search(ignore_spelling){updateEmptyStatus(),last_search=INSTANCE.getValue(),ignore_spelling&&!0===ignore_spelling&&(last_search.noredirect=1),suggestions.cancelSearch(),INSTANCE.dispatchEvent("change",last_search)}return INSTANCE.box=box,INSTANCE.mode=SearchBox.MODE_DYNAMIC,INSTANCE.focus=function(){input.trigger("focus")},INSTANCE.empty=function(prevent_search){tag_artist=tag_artist&&tag_artist.remove(!0),tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),taglist.empty(),input.val(""),is_empty||prevent_search||search(),box.addClass("empty"),is_empty=!0,INSTANCE.dispatchEvent("empty")},INSTANCE.getScope=function(){return scope},INSTANCE.getValue=function(){return{scope:scope,keywords:function(text){if(text=String(text).replace(/<\/?\w+.*?>/g,""),VectorStock.isGerman()){var replacements={"Ä":"{","Ö":"}","Ü":"$","ẞ":"^","ä":"|","ö":"*","ü":"~","ß":"!"};if(text.normalize){for(var i in text=text.replace(/[{}$^|*~!]+/g,""),replacements)text=text.replaceAll(i,replacements[i]);for(var i in text=text.normalize("NFKD").replace(/[\u0300-\u036f]/g,""),replacements)text=text.replaceAll(replacements[i],i)}text=text.replace(/[^\w\s\-ÄÖÜẞäöüß]/g,"")}else text=(text=text.normalize?text.normalize("NFKD").replace(/[\u0300-\u036f]/g,""):text).replace(/[^\w\s\-]/g,"");return text=(text=text.replace(/\s+/g," ")).replace(/\b[_]+\b/g,""),$.trimString(text)}(input.val()),artists:tag_artist?tag_artist.value:null,categories:tag_category?tag_category.value:null,custom_srp:tag_custom_srp?tag_custom_srp.value:null,similar:tag_similar?tag_similar.value:null}},INSTANCE.getSearchTerms=function(){return last_search&&last_search.keywords||""},INSTANCE.getSearch=function(){return input.val()},INSTANCE.setSearch=function(search_term,prevent_search,ignore_spelling){input.val(search_term),prevent_search?updateEmptyStatus():search(ignore_spelling)},INSTANCE.addSearchTerm=function(search_term){var search_terms=input.val().split(" ");search_terms.push(search_term),INSTANCE.setSearch(search_terms.join(" "))},INSTANCE.setArtist=function(label_artist,prevent_search){tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=(tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0))&&tag_custom_srp.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_artist?tag_artist.update(label_artist):(tag_artist=SearchBoxTag(taglist,"artist",label_artist)).on("remove",onTagArtistRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setCategory=function(label_category,prevent_search){tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),tag_artist=tag_artist&&tag_artist.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_category?tag_category.update(label_category):(tag_category=SearchBoxTag(taglist,"category",label_category)).on("remove",onTagCategoryRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setCustomSRP=function(label_custom_srp,prevent_search){tag_category=tag_category&&tag_category.remove(!0),tag_artist=tag_artist&&tag_artist.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_custom_srp?tag_custom_srp.update(label_custom_srp):(tag_custom_srp=SearchBoxTag(taglist,"custom_srp",label_custom_srp)).on("remove",onTagCustomSRPRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setSimilar=function(label_similar,prevent_search){tag_artist=tag_artist&&tag_artist.remove(!0),tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),input.val(""),tag_similar?tag_similar.update(label_similar):(tag_similar=SearchBoxTag(taglist,"similar",label_similar)).on("remove",onTagSimilarRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setValue=function(search_state,prevent_search){INSTANCE.empty(!0),search_state.keywords&&INSTANCE.setSearch(search_state.keywords,!0),search_state.artists&&INSTANCE.setArtist(search_state.artists,!0),search_state.categories&&INSTANCE.setCategory(search_state.categories,!0),search_state.custom_srp&&INSTANCE.setCustomSRP(search_state.custom_srp,!0),search_state.similar&&INSTANCE.setSimilar(search_state.similar,!0),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setStatus=function(status){status==SearchBox.STATUS_LOADING?is_loading||(submit.prop("disabled",!0),submit.loadingIcon(),is_loading=!0):is_loading&&(submit.prop("disabled",!1),$(".vs_loadicon",submit).remove(),is_loading=!1)},INSTANCE.setMode=function(mode){INSTANCE.mode=mode},INSTANCE.reload=function(){INSTANCE.dispatchEvent("change",INSTANCE.getValue())},fieldset=$("fieldset",box),taglist=$(".tags ul",fieldset),input=$(".input input[type=text]",fieldset),but_clear=$('.input button[data-action="clear"]',fieldset),but_imagesearch=$('button[data-action="searchbyimage"]',box),submit=$("button[type=submit]",box),suggestions=SearchBoxSuggestions(box),(item_artist=$('li[data-context="artist"]',taglist)).length&&(tag_artist=SearchBoxTag(item_artist)).on("remove",onTagArtistRemove),(item_artist=$('li[data-context="category"]',taglist)).length&&(tag_category=SearchBoxTag(item_artist)).on("remove",onTagCategoryRemove),(item_artist=$('li[data-context="custom_srp"]',taglist)).length&&(tag_custom_srp=SearchBoxTag(item_artist)).on("remove",onTagCustomSRPRemove),(item_artist=$('li[data-context="similar"]',taglist)).length&&(tag_similar=SearchBoxTag(item_artist)).on("remove",onTagSimilarRemove),is_loading=!(is_empty=!0),is_empty=0==$("li",taglist).length&&""==input.val(),last_search=null,""!=(scope=$("#search_type").val())&&"browse"!=scope||(scope=SearchResults.SCOPE_ALL),box.toggleClass("empty",is_empty),fieldset.on("click",INSTANCE.focus),input.on("focus",onInputFocus).on("blur",onInputBlur).on("keydown",onInputKeyPress).on("paste",onChange),but_clear.on("click",function(){INSTANCE.empty()}),but_imagesearch.on("click",function(){new ImageSearchPopup}),submit.on("click",onSearchButtonClick),suggestions.on("selectItem",onSelectSuggestion),input.setCaretPosition(input.val().length),INSTANCE}),SearchLoadBar=(SearchBox.STATUS_LOADING="loading",SearchBox.STATUS_READY="ready",SearchBox.MODE_DYNAMIC="dynamic",SearchBox.MODE_STATIC="static",SearchBox.dictionary=SearchBoxDictionary(),function(){var container,bar,INSTANCE=VSModule(),LOAD_POINTS=[0,40,60,100];return INSTANCE.update=function(percent){var wide=LOAD_POINTS[2]+Math.round(percent*(100-LOAD_POINTS[2]))+"%";bar.stop().animate({width:wide},300,"easeOutQuad")},INSTANCE.complete=function(){bar.stop().animate({width:"100%"},500,"easeOutCubic"),setTimeout(function(){container.animate({opacity:0},750,"easeOutCubic",function(){container.remove()})},2e3)},$("#bar_loading").remove(),container=$('<div id="bar_loading" />').appendTo("body"),(bar=$("<div />").appendTo(container)).animate({width:LOAD_POINTS[1]+"%"},1e3,"easeInCubic",function(){bar.animate({width:LOAD_POINTS[2]+"%"},5e3)}),INSTANCE}),SearchBubble=function(header){var container,inner,contents,link,but_close,INSTANCE=VSModule(),is_open=!1;function open(){is_open||(container.appendTo(header),container.stop().hide().slideDown(300,"easeOutCubic"),inner.stop().hide().fadeIn(300),is_open=!0)}function close(){is_open&&(container.stop().slideUp(300,"easeOutCubic",function(){container.detach()}),inner.stop().fadeOut(300),INSTANCE.term=null,INSTANCE.type=null,INSTANCE.name=null,INSTANCE.url=null,is_open=!1)}function saveAndClose(){INSTANCE.type!==SearchBubble.TYPE_FREE&&(SearchBubble.closed[INSTANCE.term]=!0),close()}function onLinkClick(){if(INSTANCE.type==SearchBubble.TYPE_FREE)VectorStock.search_results.setScope(SearchResults.SCOPE_ALL),VectorStock.search_box.dispatchEvent("change",VectorStock.search_box.getValue());else{if(INSTANCE.type==SearchBubble.TYPE_VECTOR)return!0;VectorStock.search_box.addTag(INSTANCE.name,INSTANCE.type,!0)}return close(),!1}return INSTANCE.term=null,INSTANCE.type=null,INSTANCE.name=null,INSTANCE.url=null,INSTANCE.hits=null,INSTANCE.set=function(params,response){if(params.type==SearchResults.SCOPE_FREE){var is_keywords=params.keywords&&params.keywords.length,is_artists=params.artists&&params.artists.length;(is_keywords||is_artists)&&((params=$.extend({},params)).type=SearchResults.SCOPE_ALL,is_keywords=new SearchResultData(params),INSTANCE.type=SearchBubble.TYPE_FREE,INSTANCE.name=$(is_keywords.header).text().replace(/^All /i,""),INSTANCE.term=INSTANCE.name,INSTANCE.hits=response.altresults&&response.altresults.hit_count||0,INSTANCE.url=is_keywords.url,contents.html("This was a Free vector search. <a></a>"),is_artists=0<INSTANCE.hits?"("+VectorStock.formatCommas(INSTANCE.hits)+")":"our",(link=$("a",contents).text("View "+is_artists+" Royalty-Free "+INSTANCE.name).attr("href",INSTANCE.url)).on("click",onLinkClick),open())}else if(response.altresults&&1==params.page){var copy,is_keywords=response.altresults.term,is_artists=response.altresults.type,name=response.altresults.name,url=response.altresults.url;if(INSTANCE.name!==name&&!SearchBubble.closed[name]){switch(is_artists){case SearchBubble.TYPE_ARTIST:copy="We also have an Artist named <a></a>";break;case SearchBubble.TYPE_CATEGORY:copy="We also have a Category for <a></a>";break;case SearchBubble.TYPE_VECTOR:copy="We also have a Vector with the ID <a></a>"}contents.html(copy),link=$("a",contents).text(name).attr("href",url).attr("data-context",is_artists),INSTANCE.term=is_keywords,INSTANCE.type=is_artists,INSTANCE.name=name,INSTANCE.url=url,link.on("click",onLinkClick),open()}}},INSTANCE.update=function(params){if(is_open){var match_term=!1;if(params.keywords.length||params.artists.length)if(params.type==SearchResults.SCOPE_FREE&&INSTANCE.type==SearchBubble.TYPE_FREE)match_term=!0;else if(INSTANCE.term&&INSTANCE.term.toLowerCase)for(var i=params.keywords.length;i--;)if(params.keywords[i]==INSTANCE.term.toLowerCase()){match_term=!0;break}if(!match_term){for(var term,terms_by_id={},j=params.keywords.length;j--;)terms_by_id[params.keywords[i]]=!0;for(term in SearchBubble.closed)terms_by_id[term]||delete SearchBubble.closed[term];close()}}},(container=$(".alternatives",header)).length?(inner=$("> div",container),$(".icon",inner),contents=$("p",inner),link=$("a",contents),but_close=$("button",inner),INSTANCE.term=link.text(),INSTANCE.type=link.data("context"),INSTANCE.name=link.text(),INSTANCE.url=link.attr("href"),link.on("click",onLinkClick),is_open=!0):(container=$('<div class="alternatives" />'),inner=$("<div />").appendTo(container),$('<span class="icon" />').appendTo(inner),contents=$("<p />").appendTo(inner),but_close=$("<button>Close</button>").appendTo(inner)),but_close.on("click",saveAndClose),INSTANCE},SearchSimilar=(SearchBubble.TYPE_FREE="free",SearchBubble.TYPE_ARTIST="artists",SearchBubble.TYPE_VECTOR="vectors",SearchBubble.TYPE_CATEGORY="categories",SearchBubble.closed={},function(sidebar){var container,search_list,tooltip,timeout_hoveritem,container_height,footer_height,INSTANCE=new VSModule,OFFSET_PADDING=19,offset_top=0,is_fixed=!1,is_over_link=!1,list_searches=[];function setSearchTermEvents(){container_height=container.outerHeight()+OFFSET_PADDING;var terms_list=$("li",search_list);terms_list.each(function(){for(var item=$(this),link=$("a",item),search_term=link.text(),image_ids=item.attr("data-ids").split(","),image_titles=item.attr("data-titles").split(","),image_format=item.attr("data-format").split(","),images_list=[],i=0;i<image_ids.length;i++)images_list.push({id:image_ids[i],title:image_titles[i],format:parseInt(image_format[i])});link.on("mouseover",function(){terms_list.removeClass("highlighted"),item.addClass("highlighted"),is_over_link=!0,tooltip?tooltip.update(item.position().top,images_list):(tooltip=new SearchSimilarTooltip(container,images_list,item.position().top)).on("mouseout",function(){tooltip&&!is_over_link&&(tooltip.remove(),tooltip=null,terms_list.removeClass("highlighted"))}),clearTimeout(timeout_hoveritem)}),link.on("mouseout",function(){is_over_link=!1,timeout_hoveritem=setTimeout(function(){tooltip&&!tooltip.mouseover&&(tooltip.remove(),tooltip=null,item.removeClass("highlighted")),timeout_hoveritem=null},10)}),link.on("click",function(event){var is_free_search=1==$("header nav.top li.selected").index(),is_free_search={action:"click",position:item.index()+1,link:link.text(),search:VectorStock.search_box.getSearch(),scope:is_free_search?"free":"all",list:list_searches};VectorStock.track("event","Search: Similar Link",is_free_search),link.attr("href").match(/^\/royalty-free-vectors\//i)&&(item.addClass("selected"),VectorStock.search_box.empty(!0),VectorStock.search_box.setSearch(search_term),VectorStock.search_results&&VectorStock.search_results.scrollToTop(),event.preventDefault())})})}function onResize(){container&&(offset_top=container.prev().offset().top+container.prev().outerHeight()-OFFSET_PADDING,container_height=container.outerHeight()+OFFSET_PADDING,footer_height=$("body > footer").outerHeight(),onScroll())}function onScroll(){var pos_scroll,remaining_space;container&&(remaining_space=(remaining_space=$(document).height()-(pos_scroll=$(window).scrollTop())-footer_height-OFFSET_PADDING)<container_height?remaining_space-container_height:0,container.css({top:remaining_space}),offset_top<=pos_scroll?is_fixed||(container.addClass("fixed"),is_fixed=!0):is_fixed&&(container.removeClass("fixed"),is_fixed=!1))}return INSTANCE.set=function(searches){if(searches&&searches.length&&sidebar.length){container?search_list.empty():(container=$('<div id="related-searches"><p>Similar Premium Searches</p><ul></ul></div>').appendTo(sidebar),search_list=$("ul",container),onResize());for(var total_searches=Math.min(15,searches.length),i=0;i<total_searches;i++){for(var search_term=searches[i].search,search_url=searches[i].url,search_ids=[],search_titles=[],search_format=[],j=0;j<searches[i].results.length;j++)search_ids.push(searches[i].results[j].id),search_titles.push(searches[i].results[j].title),search_format.push(searches[i].results[j].preview_width&&searches[i].results[j].preview_height?1:0);$('<li data-ids="'+search_ids.join(",")+'" data-format="'+search_format.join(",")+'" data-titles="'+search_titles.join(",")+'"><a href="'+search_url+'">'+search_term+"</a></li>").appendTo(search_list)}setSearchTermEvents(),list_searches=[];for(j=0;j<searches.length;j++)list_searches.push(searches[j].search)}else INSTANCE.clear()},INSTANCE.clear=function(){container&&container.remove(),container=null},(container=$("#related-searches",sidebar)).length?(search_list=$("ul",container),setSearchTermEvents(),onResize()):container=null,$(window).on("resize",onResize).on("scroll",onScroll),INSTANCE}),SearchSimilarTooltip=function(container,images,offset_y){var preview,image_list,timeout_leave,INSTANCE=new VSModule;function populate(images){for(var images_str="",i=images.length;i--;)images_str+=images[i].id;if(images_str!=INSTANCE.images_str){image_list.empty();for(i=0;i<images.length;i++){var item=$("<li />").appendTo(image_list),item=$('<a href="'+VectorStock.vectorURL(images[i].id,images[i].title)+'" />').appendTo(item);images[i].format?function(link,image){var icon=link.loadingIcon("small"),picture=VectorStock.getPictureElement(image.id,image.title,!0),img=$("img",picture);img.on("error",function(){icon.remove()}),img.on("load",function(){icon.remove(),setTimeout(function(){image.addClass("reveal")},10)}),(image=$('<span class="image" />').append(picture)).appendTo(link)}(item,images[i]):function(link,image_src){var icon=link.loadingIcon("small"),image=new Image;image.onload=function(){icon.remove();var image=$('<span class="image" />').appendTo(link);image.css("background-image","url("+image_src+")"),setTimeout(function(){image.addClass("reveal")},10)},image.onerror=function(){icon.remove()},image.src=image_src}(item,VectorStock.imagePath(images[i].id,images[i].title))}INSTANCE.images_str=images_str}}return INSTANCE.images_str=null,INSTANCE.mouseover=!1,INSTANCE.update=function(new_offset_y,images){preview&&preview.css("top",new_offset_y),offset_y=new_offset_y,populate(images)},INSTANCE.remove=function(){preview.addClass("conceal"),setTimeout(function(){preview.remove()},500)},preview=$('<div class="preview" />').css("top",offset_y).appendTo(container),image_list=$("<ul />").appendTo(preview),populate(images),preview.on("mouseover",function(){clearTimeout(timeout_leave),INSTANCE.mouseover=!0}).on("mouseout",function(){INSTANCE.mouseover=!1,timeout_leave=setTimeout(function(){INSTANCE.dispatchEvent("mouseout")},100)}),setTimeout(function(){preview.addClass("reveal")},10),INSTANCE},SearchAlternative=function(header,init_container){var thumbs_list,search_obj,INSTANCE=VSModule(),container=init_container.length?init_container:null;function addImageThumb(image_id,image_url,image_src,image_title){var item=$("<li />").appendTo(thumbs_list),link=$('<a href="'+image_url+'" />').appendTo(item),image=new Image;image.onload=function(){$(image).attr({title:image_title+" vector",alt:image_title}).appendTo(link),setTimeout(function(){item.addClass("reveal")},10)},image.onerror=function(){item.remove()},image.src=image_src,link.on("click",function(){EventTracker.store("vs_search_referer",JSON.stringify(search_obj))})}return INSTANCE.parameters=null,INSTANCE.set=function(parameters){INSTANCE.parameters&&parameters.type==INSTANCE.parameters.type&&parameters.name==INSTANCE.parameters.name||"free"!==parameters.type&&"vectors"!==parameters.type||!function(parameters){var title,thumbs,link_label;if(INSTANCE.parameters=parameters,container?container.empty():container=$('<div class="altresults" />').insertAfter(header),title=$("<h4 />").appendTo(container),thumbs=$('<div class="thumbs" />').appendTo(container),thumbs_list=$("<ul />").appendTo(thumbs),thumbs=$('<a href="" class="premium" />').appendTo(container),link_label=$('<span class="label" />').appendTo(thumbs),$('<span class="icon"></span>').appendTo(thumbs),delete(search_obj=VectorStock.search_box.getValue()).similar,"free"==parameters.type?(search_obj.scope=SearchResults.SCOPE_ALL,title.html('<strong><a href="'+parameters.url+'">Premium '+parameters.name+"</a></strong> ("+VectorStock.formatCommas(parameters.hit_count)+")"),thumbs.attr("href",parameters.url),link_label.html("More "+parameters.name+"…")):"vectors"==parameters.type&&(title.html("<strong>Image #"+parameters.name+"</strong>"),thumbs.remove(),image_id=parameters.name,image_title=parameters.title,image_src=VectorStock.imagePath(image_id,image_title,"small"),addImageThumb(0,parameters.url,image_src,image_title)),parameters.documents)for(var i=0;i<parameters.documents.length;i++){var image_src,image_id=parameters.documents[i].id,image_title=parameters.documents[i].title;addImageThumb(0,parameters.documents[i].url,image_src=VectorStock.imagePath(image_id,image_title,"small"),image_title)}}(parameters)},INSTANCE.remove=function(){container&&(container.remove(),container=null)},INSTANCE},SearchResults=function(settings){var pagination,fs_order,fs_order_items,opt_bestmatch,fs_layout,pagenumbers,results_none,results_fail,loadbar,search_total,pending_scope,INSTANCE=VSModule(),URL_SEARCH="/api/search",URL_PURCHASED="/api/template/purchased",URL_PENDING_ARTIST="/api/pending/artist",URL_PENDING_INSPECTOR="/api/pending",FLAG_TYPES={M:"Metadata",K:"Keywords",C:"Categories"},SEARCH_CACHE_LIMIT=10,scope=(INSTANCE.PAGE_LIMIT=100,INSTANCE.PAGE_LIMIT_PENDING=100,settings.scope),search_params=settings.params,search_cache={},search_current="",search_url=window.location.pathname,search_order="",search_layout="",search_scope="",search_page=1,search_pages=1,search_history=[],search_results={},search_events={},vectorset=[],order_set=!1,show_gallery=settings.gallery,show_cart=settings.cart,is_pending=!1,manage_pending=!1,preferred_filetype=!1;function getSearchID(params){var keys=[];return params.artists&&keys.push("artists="+params.artists),params.categories&&keys.push("categories="+params.categories),params.custom_srp&&keys.push("custom_srp="+params.custom_srp),params.keywords&&keys.push("keywords="+params.keywords),params.order&&keys.push("order="+params.order),params.page&&keys.push("page="+params.page),params.scope&&keys.push("scope="+params.scope),params.similar&&keys.push("similar="+params.similar),params.type&&keys.push("type="+params.type),keys.join("&").toLowerCase()}function createVectors(init){for(var i=vectorset.length;i--;)vectorset[i]["delete"]();vectorset=[];var results=[],search_obj=VectorStock.search_box.getValue();delete search_obj.similar,$("> ul > li",scope).each(function(){var vector=new SearchVector({scope:$(this),search:search_obj,gallery:show_gallery,cart:show_cart,layout:search_layout,pending:is_pending,filetype:preferred_filetype,download:settings.download,track_layout:settings.track_layout});vectorset.push(vector),search_events[vector.id]&&vector.loadEventData(search_events[vector.id]),init&&results.push({id:vector.id,title:vector.title,artist_id:vector.artist_id})}),init&&(search_results.results=results)}function updatePagination(results){var url_base,page_text;if(results&&(search_url=results.url||"",search_pages=results.pages||1),page_text=VectorStock.isGerman()?(url_base=search_url.replace(/-seite_\d+$/gi,""),"-seite_"):(url_base=search_url.replace(/-page_\d+$/gi,""),"-page_"),$(".prev",pagination).prop("disabled",search_page<=1),$(".next",pagination).prop("disabled",search_page==search_pages),pagenumbers.empty(),5<search_pages){for(var stack=[],from=search_page-1,to=search_page+1,i=(from<1?(from=1,to++):search_pages<to&&(from--,to=search_pages),from);i<=to;)stack.push(i),i++;1<from&&(2<from&&stack.unshift(null),stack.unshift(1)),to<search_pages&&to+1<search_pages&&stack.push(null);for(var j=0;j<stack.length;){var value=stack[j],item=$("<li />").toggleClass("selected",value==search_page).appendTo(pagenumbers);value?item.append('<a href="'+(url=url_base+(1<value?page_text+value:""))+'">'+VectorStock.formatCommas(value)+"</a>"):item.addClass("period").text("..."),j++}}else for(i=1;i<=search_pages;){var url=url_base+(1<i?page_text+i:"");$('<li><a href="'+url+'">'+VectorStock.formatCommas(i)+"</a></li>").toggleClass("selected",i==search_page).appendTo(pagenumbers),i++}}function jumpTo(page){var pending_category;is_pending?(pending_category=(pending_category=$("#pending_category").val())?[pending_category]:null,pending_category=new SearchResultData({type:"pending",pending:$("#pending_scope").val(),page:page,categories:pending_category}),VectorStock.goToURL(pending_category.url)):(search_params.page=page,performSearch(SearchResults.SEARCH_PAGE))}function performSearch(type){var search_id=getSearchID(search_params);if(search_current=search_id,search_history.push(search_id),search_page=search_params.page||1,search_history.length>SEARCH_CACHE_LIMIT){for(var search_cache_id,searches_recent=[],cutoff=Math.max(0,search_history.length-SEARCH_CACHE_LIMIT),i=search_history.length;--i>=cutoff;)searches_recent[search_history[i]]=!0;for(search_cache_id in search_cache)searches_recent[search_cache_id]||delete search_cache[search_cache_id]}search_params.keywords&&(search_data=new SearchResultData(search_params),VectorStock.trackSearch(search_params.keywords,search_scope,search_data.url,search_data.title)),$("#previewpane, #newpreviewpane").remove();var search_data=search_cache[search_id];if(search_data){try{if(1==search_data.page&&search_data.url.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/))return void VectorStock.goToURL("/coronavirus");if(1==search_data.page&&search_data.url.match(/^\/royalty-free-vectors\/(logos?)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(logos?)-vectors$/))return void VectorStock.goToURL("/logos");if(1==search_data.page&&search_data.url.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/))return void VectorStock.goToURL("/backgrounds")}catch(e){}type==SearchResults.SEARCH_NEW?updatePagination(search_data):updatePagination(),loadbar&&loadbar.complete(),loadbar=null,scope.attr("data-loading",0),INSTANCE.populate(search_data),INSTANCE.dispatchEvent(SearchResults.LOAD_CACHED,[type,search_data,search_params])}else{type==SearchResults.SEARCH_NEW?($("button",pagination).prop("disabled",!0),pagenumbers.empty(),(search_data=$('<li class="period" />').appendTo(pagenumbers)).loadingIcon&&search_data.loadingIcon()):updatePagination(),scope.attr("data-loading",1),INSTANCE.dispatchEvent(SearchResults.LOAD_INIT,[type,search_params]),loadbar=SearchLoadBar();var artist,url=URL_SEARCH,showFailMessage=(search_scope==SearchResults.SCOPE_PURCHASED&&(url=URL_PURCHASED),search_scope==SearchResults.SCOPE_PENDING&&(url=(artist=$("#pending_scope").val())?URL_PENDING_ARTIST+("_self"==artist?"":"/"+artist):URL_PENDING_INSPECTOR),function(response){loadbar&&loadbar.complete(),loadbar=null,showMessage(results_fail),scope.attr("data-loading",0),pagenumbers.empty(),INSTANCE.dispatchEvent(SearchResults.LOAD_FAILED,[response,search_params])});$.ajax({url:url,data:search_params,type:"GET",xhr:function(){var xhr=new window.XMLHttpRequest;return xhr.addEventListener("progress",function(event){event.lengthComputable&&loadbar&&loadbar.update(event.loaded/event.total)},!1),xhr}}).done(function(response){response?response.redirect?VectorStock.goToURL(response.redirect):(search_cache[search_id]=response,SearchBox.dictionary.update(response),search_current==search_id&&(response.is_vector&&0===response.results.length?VectorStock.goToURL(response.altresults.url):(loadbar&&loadbar.complete(),loadbar=null,INSTANCE.populate(response),type==SearchResults.SEARCH_NEW&&updatePagination(response),scope.attr("data-loading",0),INSTANCE.dispatchEvent(SearchResults.LOAD_COMPLETE,[type,response,search_params])))):showFailMessage(response)}).fail(showFailMessage)}}function showMessage(content){fs_order.hide(),fs_layout.hide(),scope.append(content)}function generateVectorHTML(data){var html="",id=new String(data.id),size=search_layout==SearchResults.LAYOUT_LARGE?"medium":"small",title=data.title+" vector"||"",path=title.replace(/[^\d\w\s-]+/g,"").replace(/[\s-]+/g,"-").toLowerCase()+"-"+id,path=is_pending?"/upload/"+id:"/royalty-free-vector/"+path,size=VectorStock.imagePath(id,title,size,is_pending);if(data.highlight?html+='<li class="artist-highlight" data-vector-id="'+id+'" data-vector-title="'+data.title+'" data-vector-artist-id="'+data.artist_id+'" data-vector-src="'+size+'">':html+='<li data-vector-id="'+id+'" data-vector-title="'+data.title+'" data-vector-artist-id="'+data.artist_id+'" data-vector-src="'+size+'">',html=(html=html+('<a href="'+path+'" title="'+title+'">')+('<span class="title">'+title+"</span>"))+'<span class="image"></span>'+"</a>",data.event_data&&(search_events[id]=data.event_data),manage_pending){var flags=data.alert,html=(html+='<div class="info">')+'<span class="checkbox"></span>'+"<ul>";if(data.artist_note&&(html+='<li title="'+data.artist_note+'" class="artist-note">i</li>'),flags)for(var j=0;j<flags.length;j++)html+='<li title="'+FLAG_TYPES[flags[j]]+' Missing" class="missing">'+flags[j]+"</li>";html=(html+='<li title="Artist Score: '+data.artist_score+'" class="score" data-score="'+data.artist_score+'">'+data.artist_score+"</li>")+"</ul>"+"</div>"}return html+="</li>"}return INSTANCE.getValue=function(){return search_params},INSTANCE.syncCartButtons=function(){for(var i=0;i<vectorset.length;i++)vectorset[i].setCartState(VectorStock.userData.isInCart(vectorset[i].id))},INSTANCE.getPageIndex=function(){return[search_page,search_pages]},INSTANCE.setOrder=function(params){search_order=params.order||$("li.selected",fs_order_items).attr("data-value"),params.keywords.length?(order_set||(search_order=SearchResults.ORDER_BESTMATCH),opt_bestmatch.show()):(search_order==SearchResults.ORDER_BESTMATCH&&(search_order=SearchResults.ORDER_TRENDING,order_set=!1),opt_bestmatch.hide()),$("li.selected",fs_order_items).removeClass("selected"),$('li[data-value="'+search_order+'"]',fs_order_items).addClass("selected")},INSTANCE.search=function(params){INSTANCE.setOrder(params),(search_params=$.extend({},params)).page=params.page||1,search_params.order=search_order,search_params.limit=params.limit||INSTANCE.PAGE_LIMIT,search_params.type=params.type||search_scope,1===params.noredirect&&(search_params.noredirect=params.noredirect),(search_params.type==SearchResults.SCOPE_FREE&&search_params.categories||search_params.type==SearchResults.SCOPE_PURCHASED)&&(search_scope=SearchResults.SCOPE_ALL,search_params.type=SearchResults.SCOPE_ALL),performSearch(SearchResults.SEARCH_NEW)},INSTANCE.populate=function(dataset){search_events={},scope.empty();var is_results_exact=dataset.results&&dataset.results.length,is_results_expanded=dataset.initial_results&&dataset.initial_results.length;if(is_results_exact||is_results_expanded){fs_order.show(),fs_layout.show();var results_exact=0==dataset.total_hits?[]:dataset.initial_results||dataset.results,results_expanded=dataset.initial_results||0==dataset.total_hits?dataset.results:[],html="";if(results_exact.length){html+='<ul class="exact">';for(var i=0;i<results_exact.length;i++)html+=generateVectorHTML(results_exact[i]);html+="</ul>"}else 1==dataset.page&&(html+='<div class="empty"><p><strong>Empty space!</strong> Sorry, we couldn’t find any exact matches.</p></div>');if(results_expanded.length){is_results_exact="Related vectors";if(dataset.seo.keywords){for(var title_keywords=[],j=0;j<dataset.seo.keywords.length;j++){var keyword=dataset.seo.keywords[j],data=new SearchResultData({type:search_params.type,keywords:keyword});title_keywords.push('<a href="'+data.url+'">'+keyword.toTitleCase()+"</a>")}is_results_exact="Related vectors for <strong>"+title_keywords.join(" or ")+"</strong>"}for(var html=html+('<div class="expanded title"><h1>'+is_results_exact+'</h1><span class="pages">Page '+VectorStock.formatCommas(dataset.page)+" of "+VectorStock.formatCommas(dataset.pages)+"</span></div>")+'<ul class="expanded">',k=0;k<results_expanded.length;k++)html+=generateVectorHTML(results_expanded[k]);html+="</ul>"}scope[0].innerHTML=html,createVectors()}else if(search_params.type===SearchResults.SCOPE_FREE){var params=$.extend({},search_params);if(params.type=SearchResults.SCOPE_ALL,dataset.is_artist){for(var artist=dataset.is_artist,i=params.keywords.length;i--;)if(params.keywords[i]===artist){params.keywords.splice(i,1);break}params.artists.push(artist)}(data=new SearchResultData(params)).header=data.header.replace(/\bAll /,""),$("p a",results_none).attr("href",data.url),$("p strong",results_none).replaceWith(data.header),showMessage(results_none)}else showMessage(results_none)},INSTANCE.scrollToTop=function(speed,easing){speed=speed||500,easing=easing||"easeOutExpo";0<($("body").scrollTop()||$("html").scrollTop())&&VectorStock.scrollTo(0,speed,easing)},INSTANCE.setScope=function(scope){search_scope=scope},INSTANCE.togglePreviews=function(is_enabled){for(var i=vectorset.length;i--;)vectorset[i].togglePreview(is_enabled)},pagination=$(".pagination"),pagination.filter("#pagination_top"),pagination.filter("#pagination_bot"),fs_order=$("fieldset.type_order",pagination),fs_order_items=$("> ul",fs_order),opt_bestmatch=$('li[data-value="bestmatch"]',fs_order_items),fs_layout=$("fieldset.type_layout",pagination),fs_layout_items=$("> ul",fs_layout),0==(pagenumbers=$("ul.pages",pagination)).length&&(pagenumbers=$('<ul class="pages" />').appendTo(pagination.last())),results_none=$('<div class="message"><h1>Sorry, there are no matches.</h1><p>Keep trying - here are a couple of tips:</p><ul><li>Check the spelling is correct</li><li>Use simpler search terms</li></ul><p>If you continue to have problems, visit the <a href="/contact">Contact page</a> to let us know.</p></div>'),results_fail=$('<div class="message"><h1>Hmmm... this search had problems loading.</h1><p>Try <a href="">reloading this page</a>.</p><p>If you\'re still having issues, <a href="/contact">please let us know.</a> and we\'ll do our best to address the problem.</p></div>'),$(window),search_order=$(".selected",fs_order_items).attr("data-value")||SearchResults.ORDER_LATEST,search_layout=$(".selected",fs_layout_items).attr("data-value")||SearchResults.LAYOUT_LARGE,search_scope=$("#search_type").val()||SearchResults.SCOPE_ALL,search_page=parseInt($("#search_page").val())||search_page,search_pages=parseInt($("#search_pages").val())||search_pages,search_total=parseInt($("#search_total").val())||search_pages,is_pending=search_scope==SearchResults.SCOPE_PENDING,is_pending_admin=is_pending&&"_self"!==$("#pending_scope").val(),manage_pending=$("body > article").hasClass("pending"),preferred_filetype=scope.attr("data-filetype")||!1,is_pending_admin&&(search_layout=SearchResults.LAYOUT_SMALL),fs_order_items.on("click","li",function(){var order;$("li.selected",fs_order_items).removeClass("selected"),$(this).addClass("selected"),search_order=$(this).attr("data-value"),search_page=1,search_order=order=search_order,search_params.page=1,search_params.order=order,order_set=!0,performSearch(SearchResults.SEARCH_REORDER)}),fs_layout_items.on("click","li",function(){$("li.selected",fs_layout_items).removeClass("selected"),$(this).addClass("selected");var layout=$(this).attr("data-value");if(search_layout!=layout){search_layout=layout,scope.attr("data-layout",search_layout);for(var i=0;i<vectorset.length;)vectorset[i++].setSize(search_layout);document.cookie="layout="+search_layout+"; path=/",$(window).trigger("resize")}}),pagination.on("click","button",function(){var button=$(this);jumpTo(search_page+=button.hasClass("prev")?-1:1),INSTANCE.scrollToTop(),setTimeout(function(){button.trigger("blur")},100)}),pagenumbers.on("click","li a",function(){var page_number=$(this).text().replace(/[^0-9]/g,"");return jumpTo(search_page=parseInt(page_number)),setTimeout(function(){INSTANCE.scrollToTop()},1),!1}),opt_bestmatch.length||is_pending||(opt_bestmatch=$('<li role="radio" data-value="bestmatch"><span class="icon"></span>Best Match</li>').prependTo(fs_order_items).hide()),search_params.page=search_page,search_params.order=search_order,search_params.type=search_scope,search_params.limit=INSTANCE.PAGE_LIMIT,is_pending&&((pending_scope=$("#pending_scope").val())&&(search_params.pending=pending_scope),search_params.limit=INSTANCE.PAGE_LIMIT_PENDING),search_current=getSearchID(search_params),search_history.push(search_current),search_results={url:window.location.pathname,page:search_page,pages:search_pages,total:search_total},createVectors(!0),search_cache[search_current]=search_results,INSTANCE},SearchVector=(SearchResults.LOAD_INIT="load_init",SearchResults.LOAD_CACHED="load_cached",SearchResults.LOAD_COMPLETE="load_complete",SearchResults.LOAD_FAILED="load_failed",SearchResults.SCOPE_ALL="all",SearchResults.SCOPE_FREE="free",SearchResults.SCOPE_PENDING="pending",SearchResults.SCOPE_PURCHASED="purchased",SearchResults.SCOPE_FOLLOWING="following",SearchResults.SEARCH_NEW="new",SearchResults.SEARCH_PAGE="page",SearchResults.SEARCH_REORDER="reorder",SearchResults.ORDER_BESTMATCH="bestmatch",SearchResults.ORDER_TRENDING="trending",SearchResults.ORDER_LATEST="latest",SearchResults.LAYOUT_SMALL="small",SearchResults.LAYOUT_LARGE="large",function(settings){var link,preview,image_wrap,image,score,info,viewport_height,viewport_top,timeout_view,INSTANCE=new VSModule,LOAD_ATTEMPTS_MAX=10,show_gallery=!1!==settings.gallery&&VectorStock.isLoggedIn(),show_cart=!1!==settings.cart,show_download=null,show_subscribe=!1,in_cart=!1,item_cart=null,button_cart=null,is_mobile=VectorStock.isMobile(),badge_type=!1,preferred_filetype=settings.filetype,image_loaded=!1;function trackEvent(event_type,event_delay){var event_data_layout,event_data;if(settings.search||settings.track_layout){if(settings.search.scope==SearchResults.SCOPE_ALL||settings.search.scope==SearchResults.SCOPE_FREE)return event_data={action:event_type,image:INSTANCE.id,search:settings.search.keywords},settings.search.scope!==SearchResults.SCOPE_ALL&&(event_data.search_scope=settings.search.scope),settings.search.artists&&(event_data.search_artist=settings.search.artists),settings.search.categories&&(event_data.search_category=settings.search.categories),settings.search&&EventTracker.track(EventTrackerLogger.ID_SEARCH,event_data,event_delay),settings.track_layout&&((event_data_layout=$.extend({},event_data)).type="layout_tracking",EventTracker.track(EventTrackerLogger.ID_LOG,event_data_layout,event_delay)),1}else if(settings.topic)return event_data={topic:settings.topic,action:event_type,image:INSTANCE.id,badge:badge_type},EventTracker.track(EventTrackerLogger.ID_LOG,event_data,event_delay),1}function onResize(){viewport_height=$(window).height(),viewport_top=$(window).scrollTop(),INSTANCE.dimensions.width=INSTANCE.item.width(),INSTANCE.dimensions.height=INSTANCE.item.height();var offset=INSTANCE.item.offset();INSTANCE.position.top=offset.top,INSTANCE.position.bottom=INSTANCE.position.top+INSTANCE.dimensions.height,INSTANCE.position.left=offset.left,INSTANCE.position.right=INSTANCE.position.left+INSTANCE.dimensions.width}function onScroll(){viewport_top=$(window).scrollTop()}function isReadyToShowImage(){!image_loaded&&isOnScreen(SearchVector.SCROLL_MARGIN)&&(loadImage(),$(window).off("resize scroll",isReadyToShowImage))}function isOnScreen(offset){var visible=INSTANCE.item.is(":visible"),offset=offset||0,below_the_top=INSTANCE.position.bottom>viewport_top-offset,above_the_bottom=INSTANCE.position.top<viewport_top+viewport_height+offset;return visible&&below_the_top&&above_the_bottom}function loadImage(){var load_attempts,icon;function loadAttempt(){var image=new Image;image.onload=onLoad,image.onerror=onError,image.src=INSTANCE.src}function onLoad(){icon&&icon.remove(),image=$('<img src="'+INSTANCE.src+'" alt="'+INSTANCE.title+'">').appendTo(image_wrap),setTimeout(function(){image.addClass("reveal"),onImageLoad()},10)}function onError(){var wait,icon_broken;load_attempts<LOAD_ATTEMPTS_MAX?(wait=500+Math.round(500*Math.random()),setTimeout(loadAttempt,wait)):(icon&&icon.remove(),icon_broken=$('<span class="icon_broken" />').appendTo(image_wrap),setTimeout(function(){icon_broken.addClass("reveal")},10)),load_attempts++}INSTANCE.new_format||(load_attempts=1,icon=image_wrap.loadingIcon(),loadAttempt())}function onImageLoad(){SearchVector.observer_view?(INSTANCE.item.on("onViewedImage",onViewedImage),SearchVector.observer_view.observe(INSTANCE.item[0])):($(window).on("resize scroll",isImageVisible),isImageVisible()),INSTANCE.dispatchEvent("loaded"),image_loaded=!0,INSTANCE.size==SearchVector.SIZE_MEDIUM||is_mobile||preview.enable()}function isImageVisible(){isOnScreen(-INSTANCE.dimensions.height/2)?timeout_view=timeout_view||setTimeout(function(){$(window).off("resize scroll",isImageVisible)},SearchVector.TIME_VIEWED_DURATION):timeout_view&&(clearTimeout(timeout_view),timeout_view=null)}function onViewedImage(){trackEvent("view",!0),INSTANCE.dispatchEvent("viewed")}function onClickImage(event){if($(event.target).hasClass(".expand"))return!1;trackEvent("click",!0)&&(settings.topic?EventTracker.store("vs_search_referer",JSON.stringify(settings.topic)):EventTracker.store("vs_search_referer",JSON.stringify(settings.search)))}function onHoverPreviewImage(){trackEvent("preview")}function selectCartButton(){button_cart&&button_cart.html("In Cart"),item_cart&&item_cart.addClass("selected")}function unselectCartButton(){button_cart&&button_cart.html("<em>Add to </em>Cart"),item_cart&&item_cart.removeClass("selected")}function toggleSelect(){INSTANCE.item.toggleClass("selected"),VectorStock.BarPending.toggle(INSTANCE.id)}return INSTANCE.item=settings.scope,INSTANCE.id=null,INSTANCE.title=null,INSTANCE.artist_id=null,INSTANCE.href=null,INSTANCE.src=null,INSTANCE.new_format=!1,INSTANCE.dimensions={width:0,height:0},INSTANCE.position={top:0,right:0,bottom:0,left:0},INSTANCE.setSize=function(layout){var size=layout==SearchResults.LAYOUT_SMALL?SearchVector.SIZE_SMALL:SearchVector.SIZE_MEDIUM;INSTANCE.size!==size&&(settings.layout=layout,INSTANCE.size=size,INSTANCE.new_format||(INSTANCE.src=VectorStock.imagePath(INSTANCE.id,INSTANCE.title,size,settings.pending),image.attr("src",INSTANCE.src)),layout==SearchResults.LAYOUT_LARGE?preview.disable():preview.enable(),onResize())},INSTANCE.setCartState=function(in_cart){show_cart&&(in_cart?selectCartButton:unselectCartButton)()},INSTANCE.loadEventData=function(event_data){function addGroupEntry(group,title,value,show_zero){(show_zero||0<value)&&$('<span><span class="dt">'+title+'</span><span class="dm"></span><span class="dd">'+value+"</span></span>").appendTo(group)}var popup,group_summary;score.length&&score.empty(),score=$('<span class="score" />').appendTo(link),popup=$('<span class="popup" />').appendTo(score),addGroupEntry(group_summary=$('<span class="group summary" />').appendTo(popup),"Rank",event_data.search_term_score,!0),addGroupEntry(group_summary,"Event Score",event_data.calc_event,!0),addGroupEntry(group_summary,"CTR",event_data.calc_ctr.toFixed(2)+"%",!0),addGroupEntry(group_summary=$('<span class="group" />').appendTo(popup),"Views",VectorStock.formatCommas(event_data.event_served),!0),addGroupEntry(group_summary,"Clicks",VectorStock.formatCommas(event_data.event_clicks)),addGroupEntry(group_summary,"Download Attempt",VectorStock.formatCommas(event_data.event_dattempt)),addGroupEntry(group_summary,"Download Comp.",VectorStock.formatCommas(event_data.event_dcomp)),addGroupEntry(group_summary,"Add to Cart",VectorStock.formatCommas(event_data.event_cart)),addGroupEntry(group_summary,"Add to Gallery",VectorStock.formatCommas(event_data.event_gallery)),event_data.event_likes&&addGroupEntry(group_summary,"Likes",VectorStock.formatCommas(event_data.event_likes)),addGroupEntry(group_summary,"Purchases",VectorStock.formatCommas(event_data.event_purchase))},INSTANCE.updateState=function(){onResize(),isReadyToShowImage()},INSTANCE.togglePreview=function(is_enabled){is_enabled?preview.enable():preview.disable()},INSTANCE["delete"]=function(){timeout_view&&clearTimeout(timeout_view),$(window).off("resize",onResize).off("scroll",onScroll).off("resize scroll",isImageVisible)},function(){INSTANCE.item.parent(),link=$("a",INSTANCE.item),image_wrap=$(".image",link),image=$("img",link),score=$(".score",link),info=$(".info",INSTANCE.item),INSTANCE.id=parseInt(INSTANCE.item.attr("data-vector-id")),INSTANCE.title=INSTANCE.item.attr("data-vector-title"),INSTANCE.artist_id=INSTANCE.item.attr("data-vector-artist-id"),INSTANCE.size=settings.layout==SearchResults.LAYOUT_LARGE?SearchVector.SIZE_MEDIUM:SearchVector.SIZE_SMALL,INSTANCE.href=VectorStock.vectorURL(INSTANCE.id,INSTANCE.title,settings.pending),INSTANCE.src=VectorStock.imagePath(INSTANCE.id,INSTANCE.title,INSTANCE.size,settings.pending),INSTANCE.new_format=!1;(img_src=image.attr("src"))&&img_src.match(/\/(500p|750p|1000v|2000v)\//)&&(INSTANCE.new_format=!0),(preview=INSTANCE.new_format?($("picture",link),new NewPreviewLink(link,INSTANCE.id,INSTANCE.title)):new PreviewLink(link,INSTANCE.id,INSTANCE.title,settings.pending)).disable(),VectorStock.userData.isInCart(INSTANCE.id)&&(in_cart=!0),settings.download===undefined?(show_download=VectorStock.userData.hasPurchased(INSTANCE.id)||VectorStock.userData.isArtist(INSTANCE.artist_id),!VectorStock.hasUnlimitedSubscription()&&VectorStock.userData.unlimitedPurchased(INSTANCE.id)&&(VectorStock.userData.isArtist(INSTANCE.artist_id)||(show_subscribe=!0))):show_download=settings.download;var img_src=$(".badge",link);if(badge_type=!!img_src.length&&img_src.attr("data-badge"),!settings.pending&&!is_mobile){var item_download,img_src=$('<div class="bg" />').appendTo(INSTANCE.item),img_src=$('<div class="actions" />').appendTo(img_src),actions_list=$("<ul />").appendTo(img_src);link_similar=$('<span class="link"><em>View </em>Similar Images…</span>').appendTo(img_src),link.attr("title",""),image.attr("title",""),show_subscribe?(item_download=$("<li />").appendTo(actions_list),$('<button type="button" data-action="download"><span class="icon"></span><span class="label">Resubscribe</span></button>').appendTo(item_download).on("click",function(){VectorStock.goToURL("/purchase/subscription")})):show_download?(item_download=$("<li />").appendTo(actions_list),$('<button type="button" data-action="download"><span class="icon"></span><span class="label">Download</span></button>').appendTo(item_download).on("click",function(){VectorStock.downloadVector(INSTANCE.id,preferred_filetype)})):(show_cart&&(item_cart=$('<li class="cart-toggle" />').appendTo(actions_list),(button_cart=$('<button type="button"><em>Add to </em>Cart</button>').appendTo(item_cart)).on("click",function(){item_cart.hasClass("selected")?(unselectCartButton(),VectorStock.removeFromCart(INSTANCE.id)):(selectCartButton(),trackEvent("cart"),VectorStock.addToCart(INSTANCE.id,function(response){response.success||(unselectCartButton(),response.message&&"cart_full"==response.message&&alert("Could not add image #"+INSTANCE.id+" to Cart - limit reached"+(response.cart_total?" ("+response.cart_total+")":"")))}))}),in_cart&&selectCartButton()),show_gallery&&(img_src=$("<li />").appendTo(actions_list),$('<button type="button">Gallery</button>').appendTo(img_src).on("click",function(){trackEvent("gallery");new GalleryBox(INSTANCE.id,INSTANCE.title)}))),link_similar.on("click",function(){VectorStock.search_results&&(trackEvent("similar",!0),VectorStock.search_results.setScope(SearchResults.SCOPE_ALL),VectorStock.search_results.scrollToTop()),VectorStock.search_box.setSimilar(INSTANCE.id)})}info.on("click",toggleSelect),link.on("click contextmenu",onClickImage),preview.on("hover",onHoverPreviewImage),$(window).on("resize",onResize).on("scroll",onScroll),score.each(function(){var article=$("body > article");score.on("mouseenter",function(){article.addClass("focus"),score.one("mouseleave",function(){article.removeClass("focus")})})}),setTimeout(function(){onResize(),image.length?(image.hasClass("reveal")?onImageLoad:loadImage)():SearchVector.observer_load?(INSTANCE.item.on("loadImage",loadImage),SearchVector.observer_load.observe(INSTANCE.item[0])):($(window).on("resize scroll",isReadyToShowImage),isReadyToShowImage())})}(),INSTANCE}),SearchMosaicGrid=(SearchVector.SIZE_SMALL="small",SearchVector.SIZE_MEDIUM="medium",SearchVector.SCROLL_MARGIN=200,SearchVector.TIME_VIEWED_DURATION=2500,window.IntersectionObserver&&(SearchVector.observer_load=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&($(entry.target).trigger("loadImage"),observer.unobserve(entry.target))})},{root:null,rootMargin:SearchVector.SCROLL_MARGIN+"px",threshold:0}),function(){var images_visible={};function checkViewTime(item){return(item.dataset.view_total?parseInt(item.dataset.view_total):0)+(item.dataset.view_start?Date.now()-parseInt(item.dataset.view_start):0)>SearchVector.TIME_VIEWED_DURATION&&(delete item.dataset.view_start,delete item.dataset.view_total,delete images_visible[item.dataset.vectorId],SearchVector.observer_view.unobserve(item),$(item).trigger("onViewedImage"),1)}SearchVector.observer_view=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var time_diff,time_total,item=entry.target,id=item.dataset.vectorId;entry.isIntersecting?(item.dataset.view_start=Date.now(),images_visible[id]=item):checkViewTime(item)||(time_diff=item.dataset.view_start?Date.now()-parseInt(item.dataset.view_start):0,time_total=item.dataset.view_total?parseInt(item.dataset.view_total):0,item.dataset.view_total=time_total+time_diff,item.dataset.view_start=null,delete images_visible[id])})},{root:null,rootMargin:"0px",threshold:.9}),$(function(){setInterval(function(){for(var id in images_visible)checkViewTime(images_visible[id])},1e3)})}()),function(settings){var layout_type,row_height_max,observer_view,logged_in,default_settings,INSTANCE=new VSModule,ROW_HEIGHT_MAX_DEFAULT=250,ROW_HEIGHT_MAX_HIGHRES=300,ROW_HEIGHT_MAX_MOBILE=225,max_rows=!1,search_state=null,is_tiled=!1,vectors_list=[],vectors_by_id={};function getMaxHeight(){return settings.fixed_height||($(window).width()<=1046?ROW_HEIGHT_MAX_MOBILE:window&&window.devicePixelRatio&&2<=window.devicePixelRatio?ROW_HEIGHT_MAX_HIGHRES:ROW_HEIGHT_MAX_DEFAULT)}function setupVector(vector){var element=vector.getContainer();vector.on("viewed",function(){observer_view&&observer_view.unobserve(element[0])}),vector.on("view_similar",function(similar_id,event){INSTANCE.dispatchEvent("view_similar",[similar_id,event])}),element[0].dataset.id=vector.id,observer_view&&observer_view.observe(element[0]),vectors_list.push(vector),vectors_by_id[vector.id]=vector}function tileSquare(){for(var i=0;i<vectors_list.length;i++)vectors_list[i].clearImageValues();is_tiled||(settings.container.addClass("tiled"),is_tiled=!0)}function tileMosaic(){INSTANCE.width=Math.floor(settings.container[0].getBoundingClientRect().width)-SearchMosaicImage.MARGIN;for(var row_width=0,row_vectors=[],row_count=0,i=0;i<vectors_list.length;i++){var vector_width=vectors_list[i].calculateWidth(row_height_max);row_width+=vector_width,row_vectors.push(vectors_list[i]),row_width>=INSTANCE.width&&(!max_rows||row_count<max_rows?settings.fixed_height?function(vectors,total_width){for(var page_width=INSTANCE.width,j=total_width=0;j<vectors.length;j++)total_width+=vectors[j].calculateWidth(row_height_max);for(var k=0;k<vectors.length;k++){var vector_perc_page=vectors[k].calculateWidth(row_height_max)/total_width*page_width/INSTANCE.width,vector_perc_page=Math.floor(1e4*vector_perc_page)/100;vectors[k].setAreaWidth(vector_perc_page,"%"),vectors[k].setImageHeight(settings.fixed_height),vectors[k].show()}}(row_vectors,row_width,row_vectors.length):tileVectorsVariableHeight(row_vectors,INSTANCE.width/row_width,i-row_vectors.length+1):hideVectors(row_vectors),row_width=0,row_vectors=[],row_count++)}row_vectors.length&&(!max_rows||row_count<max_rows?tileVectorsVariableHeight(row_vectors,1,i-row_vectors.length,!0):hideVectors(row_vectors)),is_tiled||(settings.container.addClass("tiled"),is_tiled=!0)}function tileVectorsVariableHeight(vectors,scale,index_base,partial_row){for(var vector_height=Math.floor(row_height_max*scale),total_width=INSTANCE.width+1;total_width>INSTANCE.width;){for(var total_width=0,i=0;i<vectors.length;i++){var vector_area_width=vectors[i].calculateWidth(vector_height);total_width+=vector_area_width,vectors[i].setAreaWidth(vector_area_width,"px"),vectors[i].setImageHeight(vector_height),vectors[i].show(),settings.fixed_height||vectors[i].setOrder(index_base+i)}total_width>INSTANCE.width&&vector_height--}if(!partial_row&&2<=vectors.length){for(var padding_required=INSTANCE.width-total_width,padding=[];0<padding_required;)for(var j=0;j<vectors.length-1&&(padding[j]=padding[j]+1||1,!(--padding_required<=0));j++);for(var p=0;p<vectors.length;p++)padding.hasOwnProperty(p)?vectors[p].setAreaPaddingRight(padding[p],"px"):vectors[p].setAreaPaddingRight(0,"px")}else for(p=0;p<vectors.length;p++)vectors[p].setAreaPaddingRight(0,"px")}function hideVectors(vectors){for(var i=0;i<vectors.length;i++)vectors[i].hide()}function addVectors(vectors){var default_settings={height:row_height_max,logged_in:VectorStock.isLoggedIn(),hide_options:settings.hide_options,fixed_related:settings.fixed_related,filetype:settings.filetype,track_layout:settings.track_layout};if(search_state&&(default_settings.search=search_state),settings.topic&&(default_settings.topic=settings.topic),vectors)for(var i=0;i<vectors.length;i++){var vector_settings=$.extend({},default_settings);vector_settings.parent=settings.container,vector_settings.vector={id:vectors[i].id,title:vectors[i].title,ratio:vectors[i].thumb_ratio||1,keywords:vectors[i].keywords},vectors[i].preview_width&&vectors[i].preview_height&&(vector_settings.vector.preview_width=vectors[i].preview_width,vector_settings.vector.preview_height=vectors[i].preview_height,vectors[i].thumb_ratio=vectors[i].preview_width/vectors[i].preview_height,vector_settings.vector.ratio=vectors[i].thumb_ratio),VectorStock.isMobile()?vector_settings.fast_load=i<6:vector_settings.fast_load=i<12,vector_settings.placeholder=!vectors[i].thumb_ratio,setupVector(new SearchMosaicImage(vector_settings))}INSTANCE.tile(),$(document).trigger("new_results")}return INSTANCE.width=null,INSTANCE.disable=function(){settings.container.addClass("disabled")},INSTANCE.enable=function(){settings.container.removeClass("disabled")},INSTANCE.updateLayout=function(new_layout_type){layout_type=new_layout_type,settings.container.attr("data-layout",layout_type),INSTANCE.tile()},INSTANCE.populate=function(vectors,search){INSTANCE.empty(),search_state=search||null,addVectors(vectors)},INSTANCE.tile=function(){layout_type===SearchMosaicGrid.LAYOUT_SQUARE?window.requestAnimationFrame?window.requestAnimationFrame(function(){setTimeout(tileSquare,0)}):setTimeout(tileSquare,0):window.requestAnimationFrame?window.requestAnimationFrame(function(){setTimeout(tileMosaic,0)}):setTimeout(tileMosaic,0)},INSTANCE.addVectors=function(vectors){addVectors(vectors)},INSTANCE.getDataFormatted=function(){for(var results=[],i=0;i<vectors_list.length;i++)results.push(vectors_list[i].getDataFormatted());return results},INSTANCE.syncCartButtons=function(){for(var i=0;i<vectors_list.length;i++)vectors_list[i].setCartState(VectorStock.userData.isInCart(vectors_list[i].id))},INSTANCE.showEmptyScreen=function(){0===$("> div.empty",settings.container).length&&(VectorStock.isGerman()?$('<div class="empty"><p><strong>Freiraum!</strong> Leider konnten wir keine genauen Übereinstimmungen finden.</p></div>'):$('<div class="empty"><p><strong>Empty space!</strong> Sorry, we couldn’t find any exact matches.</p></div>')).appendTo(settings.container)},INSTANCE.empty=function(vectors){for(var element,i=0;i<vectors_list.length;i++)observer_view&&(element=vectors_list[i].getContainer(),observer_view.unobserve(element[0])),vectors_list[i].remove();vectors_list=[],vectors_by_id={},settings.container.empty()},INSTANCE.remove=function(){if(settings.container.remove(),SearchMosaicGrid.instances)for(var i=0;i<SearchMosaicGrid.instances.length;i++)if(SearchMosaicGrid.instances[i]===INSTANCE)return void SearchMosaicGrid.instances.splice(i,1)},layout_type=settings.layout_type,row_height_max=getMaxHeight(),max_rows=settings.max_rows||max_rows,search_state=settings.search,INSTANCE.width=Math.floor(settings.container[0].getBoundingClientRect().width)-SearchMosaicImage.MARGIN,logged_in=VectorStock.isLoggedIn(),window.IntersectionObserver&&(observer_view=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var vector=vectors_by_id[entry.target.dataset.id];vector&&(entry.isIntersecting?vector.setVisibility(!0):vector.setVisibility(!1))})},{root:null,rootMargin:"0px",threshold:.9})),$(window).on("resize",function(){row_height_max=getMaxHeight(),INSTANCE.tile()}),default_settings={height:row_height_max,logged_in:logged_in,hide_options:settings.hide_options,fixed_related:settings.fixed_related,filetype:settings.filetype,track_layout:settings.track_layout},settings.search&&(default_settings.search=settings.search),settings.topic&&(default_settings.topic=settings.topic),$("figure",settings.container).each(function(){var vector_settings=$.extend({},default_settings);vector_settings.container=$(this),setupVector(new SearchMosaicImage(vector_settings))}),INSTANCE.tile(),SearchMosaicGrid.instances.push(INSTANCE),INSTANCE}),SearchMosaicImage=(SearchMosaicGrid.LAYOUT_MOSAIC="mosaic",SearchMosaicGrid.LAYOUT_SQUARE="square",SearchMosaicGrid.instances=[],function(settings){var container,link,picture,image,bar_actions,but_cart,but_cart_label,bar_related,related,INSTANCE=new VSModule,HTML_TEMPLATE='<figure><div class="inner"><a><picture><source type="image/webp" media="(min-width: 1047px)"><source type="image/webp"><source type="image/jpeg" media="(min-width: 1047px)"><source type="image/jpeg"><img></picture></a></div></figure>',timeout_viewed=null,preferred_filetype=settings.filetype||null,is_viewed=!1;function trackEvent(event_type,event_delay){var event_data_layout,event_data;if(settings.search||settings.track_layout){if(settings.search.scope==SearchResults.SCOPE_ALL||settings.search.scope==SearchResults.SCOPE_FREE)return event_data={action:event_type,image:INSTANCE.id,search:settings.search.keywords},settings.search.scope!==SearchResults.SCOPE_ALL&&(event_data.search_scope=settings.search.scope),settings.search.artists&&(event_data.search_artist=settings.search.artists),settings.search.categories&&(event_data.search_category=settings.search.categories),settings.search&&EventTracker.track(EventTrackerLogger.ID_SEARCH,event_data,event_delay),settings.track_layout&&((event_data_layout=$.extend({},event_data)).type="layout_tracking",EventTracker.track(EventTrackerLogger.ID_LOG,event_data_layout,event_delay)),1}else if(settings.topic)return event_data={topic:settings.topic,action:event_type,image:INSTANCE.id},EventTracker.track(EventTrackerLogger.ID_LOG,event_data,event_delay),1}function buildOptions(){var show_download,show_subscribe,inner;settings.hide_options||bar_actions||(show_download=settings.download||VectorStock.userData.hasPurchased(INSTANCE.id),show_subscribe=!VectorStock.hasUnlimitedSubscription()&&VectorStock.userData.unlimitedPurchased(INSTANCE.id),inner=$(".inner",container),(bar_actions=$('<div class="actions" />').appendTo(inner)).on("click",function(event){0===$(event.target).closest("button").length&&(onClickImage(),VectorStock.goToURL(link.attr("href")))}),show_subscribe?$('<button type="button" data-action="download"><span>Resubscribe</span></button>').appendTo(bar_actions).on("click",function(){VectorStock.goToURL("/purchase/subscription")}):show_download&&$('<button type="button" data-action="download"><span>Download</span></button>').appendTo(bar_actions).on("click",downloadVector),show_download||show_subscribe||(but_cart=$('<button type="button" data-action="cart"><span>Cart</span></button>').appendTo(bar_actions),but_cart_label=$("span",but_cart),VectorStock.userData.isInCart(INSTANCE.id)&&(but_cart.addClass("checked"),but_cart_label.html("In Cart")),but_cart.on("click",toggleCart)),show_download||show_subscribe||!settings.logged_in||$('<button type="button" data-action="gallery"><span>Gallery</span></button>').appendTo(bar_actions).on("click",addToGallery),setTimeout(function(){bar_actions.addClass("ready")},10)),buildRelated(),container.off("mouseover",buildOptions)}function buildRelated(){var inner;settings.hide_options||bar_related||(inner=$(".inner",container),bar_related=$('<div class="related" />').appendTo(inner),settings.fixed_related&&bar_related.addClass("fixed"),settings.vector&&settings.vector.keywords?VectorStock.isGerman()?bar_related.html('<dl><dt>Mehr:</dt><dd><a href="/de/lizenzfreie-vektoren/'+settings.vector.keywords.replace(/\s+/,"-")+'-vektoren">'+settings.vector.keywords.toTitleCase()+"</a></dd></dl></div>"):bar_related.html('<dl><dt>More:</dt><dd><a href="/royalty-free-vectors/'+settings.vector.keywords.replace(/\s+/,"-")+'-vectors">'+settings.vector.keywords.toTitleCase()+"</a></dd></dl></div>"):(VectorStock.isGerman()?bar_related.html('<dl><dt>Durchsuche:</dt><dd><a href="/de/lizenzfreie-vektoren/vektoren-ahnlich_'+INSTANCE.id+'" rel="nofollow">Ähnliche Vektoren...</a></dd></dl></div>'):bar_related.html('<dl><dt>Browse:</dt><dd><a href="/royalty-free-vectors/vectors-similar-to_'+INSTANCE.id+'" rel="nofollow">Similar vectors...</a></dd></dl></div>'),$("dl dd a",bar_related).on("click",function(event){INSTANCE.dispatchEvent("view_similar",[INSTANCE.id,event])})),setTimeout(function(){bar_related.addClass("ready")},10))}function toggleCart(){(but_cart.hasClass("checked")?unselectCartButton:selectCartButton)()}function selectCartButton(){but_cart.hasClass("checked")||(but_cart.addClass("checked"),but_cart_label.html("In Cart"),trackEvent("cart"),VectorStock.addToCart(INSTANCE.id,function(response){response.success||(but_cart.removeClass("checked"),response.message&&"cart_full"==response.message&&alert("Could not add image #"+INSTANCE.id+" to Cart - limit reached"+(response.cart_total?" ("+response.cart_total+")":"")))}))}function unselectCartButton(){but_cart.hasClass("checked")&&(but_cart.removeClass("checked"),but_cart_label.html("Cart"),VectorStock.removeFromCart(INSTANCE.id))}function addToGallery(){trackEvent("gallery");new GalleryBox(INSTANCE.id,INSTANCE.title)}function downloadVector(){VectorStock.downloadVector(INSTANCE.id,preferred_filetype)}function onClickImage(){trackEvent("click",!0)}function markAsViewed(){trackEvent("view",!0),is_viewed=!0,INSTANCE.dispatchEvent("viewed")}if(INSTANCE.width=null,INSTANCE.height=null,INSTANCE.order=null,INSTANCE.id=null,INSTANCE.title=null,INSTANCE.ratio=null,INSTANCE.getContainer=function(){return container},INSTANCE.calculateWidth=function(height){var ratio=Math.min(INSTANCE.ratio,SearchMosaicImage.MAX_RATIO),ratio=Math.max(ratio,SearchMosaicImage.MIN_RATIO);return Math.ceil(ratio*height)+SearchMosaicImage.MARGIN},INSTANCE.setImageWidth=function(image_width){var area_width=image_width+SearchMosaicImage.MARGIN;INSTANCE.setAreaWidth(area_width,"px")},INSTANCE.setImageHeight=function(image_height){var area_height=image_height+SearchMosaicImage.MARGIN+(settings.fixed_related?SearchMosaicImage.RELATED_HEIGHT:0);INSTANCE.setAreaHeight(area_height,"px"),link.css({height:image_height+"px"})},INSTANCE.setAreaWidth=function(area_width,area_units){area_width!==INSTANCE.width&&(container.css({width:area_width+area_units}),container.toggleClass("mini",area_width<SearchMosaicImage.MIN_WIDTH)),INSTANCE.width=area_width},INSTANCE.setAreaHeight=function(area_height,area_units){area_height!==INSTANCE.height&&container.css({height:area_height+area_units}),INSTANCE.height=area_height},INSTANCE.setAreaPaddingRight=function(padding_width,padding_units){0===padding_width?container.css({"padding-right":""}):container.css({"padding-right":padding_width+padding_units})},INSTANCE.clearImageValues=function(){INSTANCE.width=null,INSTANCE.height=null,INSTANCE.order=null,container.removeAttr("style"),link.removeAttr("style")},INSTANCE.getDataFormatted=function(){var data={};return data.id=INSTANCE.id,data.title=INSTANCE.title,data.thumb_ratio=INSTANCE.ratio,data},INSTANCE.setOrder=function(order){order!==INSTANCE.order&&container.css({order:order}),INSTANCE.order=order},INSTANCE.setVisibility=function(state){is_viewed||(state?timeout_viewed=setTimeout(markAsViewed,SearchMosaicImage.TIME_VIEWED_DURATION):timeout_viewed&&(clearTimeout(timeout_viewed),timeout_viewed=null))},INSTANCE.setCartState=function(in_cart){but_cart&&but_cart.length&&(in_cart?selectCartButton:unselectCartButton)()},INSTANCE.show=function(){container.removeClass("hidden")},INSTANCE.hide=function(){container.addClass("hidden")},INSTANCE.remove=function(){timeout_viewed&&(clearTimeout(timeout_viewed),timeout_viewed=null),container.off("mouseover",buildOptions),link.off("click contextmenu",onClickImage),container.remove()},settings.container){container=settings.container,link=$("a",container),picture=$("picture",link),(image=$("img",picture)).css({visibility:"hidden"}),(related=$(".related",container)).length&&(bar_related=related),INSTANCE.id=image.data("id"),INSTANCE.title=image.data("title"),INSTANCE.ratio=image.data("ratio");try{image.one("load",function(){picture.addClass("picture-loaded"),image.css({visibility:""})}),image.length&&image[0].complete&&0!==image[0].naturalWidth&&(picture.addClass("picture-loaded"),image.css({visibility:""}))}catch(e){}}else!function(){if(settings.vector.preview_width&&settings.vector.preview_height)return function(){INSTANCE.id=settings.vector.id,INSTANCE.title=settings.vector.title,INSTANCE.ratio=settings.vector.ratio,container=$('<figure><div class="inner"><a></a></div></figure>').appendTo(settings.parent),link=$("a",container),picture=VectorStock.getPictureElement(INSTANCE.id,INSTANCE.title,!1,settings.vector.preview_width,settings.vector.preview_height),(image=$("img",picture)).css({visibility:"hidden"});var onImageLoad=function(){try{picture.addClass("picture-loaded"),image.css({visibility:""}),INSTANCE.ratio||(INSTANCE.ratio=this.naturalWidth/this.naturalHeight),$(window).trigger("resize")}catch(e){}};image.one("load",onImageLoad),picture.appendTo(link);try{image.length&&image[0].complete&&0!==image[0].naturalWidth&&onImageLoad()}catch(e){}settings.fast_load?(image.removeAttr("loading"),image.attr("importance","high")):(image.removeAttr("importance"),image.attr("loading","lazy"));link.attr("href",VectorStock.vectorURL(INSTANCE.id,INSTANCE.title)),settings.placeholder?container.addClass("placeholder"):(image.attr("height","100%"),image.attr("alt",INSTANCE.title+" vector"),picture.addClass(1<INSTANCE.ratio?"landscape":INSTANCE.ratio<1?"portrait":"square"),$(".inner",container).data("license",settings.vector.license));settings.fixed_related&&buildRelated()}();container=$(HTML_TEMPLATE).appendTo(settings.parent),link=$("a",container),picture=$("picture",link),(image=$("img",picture)).css({visibility:"hidden"}),INSTANCE.id=settings.vector.id,INSTANCE.title=settings.vector.title,INSTANCE.ratio=settings.vector.ratio;var onImageLoad=function(){try{picture.addClass("picture-loaded"),image.css({visibility:""}),INSTANCE.ratio||(INSTANCE.ratio=this.naturalWidth/this.naturalHeight),$(window).trigger("resize")}catch(e){}};image.one("load",onImageLoad);try{image.length&&image[0].complete&&0!==image[0].naturalWidth&&onImageLoad()}catch(e){}settings.fast_load?(image.removeAttr("loading"),image.attr("importance","high")):(image.removeAttr("importance"),image.attr("loading","lazy"));link.attr("href",VectorStock.vectorURL(INSTANCE.id,INSTANCE.title)),settings.placeholder?container.addClass("placeholder"):(onImageLoad=VectorStock.previewImagePath(INSTANCE.id,INSTANCE.title),$("source:nth-child(1)",picture).attr("srcset",onImageLoad.webp[1]+" 2x, "+onImageLoad.webp[0]+" 1.5x"),$("source:nth-child(2)",picture).attr("srcset",onImageLoad.webp[1]+" 3x, "+onImageLoad.webp[0]+" 2x"+(onImageLoad.lite?", "+onImageLoad.lite+" 1x":"")),$("source:nth-child(3)",picture).attr("srcset",onImageLoad.jpeg[1]+" 2x, "+onImageLoad.jpeg[0]+" 1.5x"),$("source:nth-child(4)",picture).attr("srcset",onImageLoad.jpeg[1]+" 3x, "+onImageLoad.jpeg[0]+" 2x"),image.attr("src",onImageLoad.jpeg[0]),image.attr("height","100%"),image.attr("alt",INSTANCE.title+" vector"),picture.addClass(1<INSTANCE.ratio?"landscape":INSTANCE.ratio<1?"portrait":"square"),$(".inner",container).data("license",settings.vector.license));settings.fixed_related&&buildRelated()}();return container.on("mouseover",buildOptions),link.on("click contextmenu",onClickImage),INSTANCE});SearchMosaicImage.MARGIN=10,SearchMosaicImage.RELATED_HEIGHT=40,SearchMosaicImage.MIN_WIDTH=155,SearchMosaicImage.MIN_RATIO=.5,SearchMosaicImage.MAX_RATIO=3,SearchMosaicImage.TIME_VIEWED_DURATION=2500,VectorStock.getCDNHost=function(vector_id){return vector_id=parseInt(vector_id),"https://cdn"+((vector_id=isNaN(vector_id)?0:vector_id)%5+1)+".vectorstock.com"},VectorStock.isWebP=function(){var webp_supported=!1;try{webp_supported=-1<(" "+document.documentElement.className+" ").replace(/[\n\t]/g," ").indexOf(" webp ")}catch(err){console.error(err)}return VectorStock.isWebP=function(){return webp_supported},webp_supported},VectorStock.imagePath=function(vector_id,vector_title,image_size,is_pending){if(!vector_id)return"";image_size=(image_size||"small").toLowerCase();if(is_pending)return VectorStock.amazonHost+"/images/"+{small:"380x400",medium:"380x400",large:"380x400"}[image_size]+"/"+vector_id+".jpg";for(var title_formatted,img_format=VectorStock.isWebP()?".webp":".jpg",url_parts=[".webp"==img_format||"large"!==image_size?"https:"+VectorStock.domain:VectorStock.getCDNHost(vector_id),"i",{small:"thumbs",medium:"thumb-large",large:"1000x1000"}[image_size]],id_formatted=String(vector_id),id_length=id_formatted.length;id_length<4;)id_formatted="0"+id_formatted,id_length++;return url_parts.push(id_formatted.substring(id_length-4,id_length-2),id_formatted.substring(id_length-2,id_length)),vector_title&&("string"==typeof vector_title||vector_title instanceof String)?(title_formatted=(title_formatted=(title_formatted=vector_title.toLowerCase()+"-vector-"+vector_id).replace(/[^\w\s\-]+/g,"")).replace(/[\s\-]+/g,"-"),url_parts.push(title_formatted+img_format)):url_parts.push(vector_id+img_format),url_parts.join("/")},VectorStock.previewImagePath=function(vector_id,vector_title,topic_id,is_transparent){for(var domain=VectorStock.domain,path_folder_2=topic_id||(is_transparent?"transparent":"preview"),id_formatted=String(vector_id),id_length=id_formatted.length;id_length<4;)id_formatted="0"+id_formatted,id_length++;var title_formatted=(title_formatted=(title_formatted=String(vector_title).toLowerCase()+"-vector-"+vector_id).replace(/[^\w\s\-]+/g,"")).replace(/[\s\-]+/g,"-"),domain="https:"+domain+"/i/",title_formatted="/"+id_formatted.substring(id_length-4,id_length-2)+"/"+id_formatted.substring(id_length-2,id_length)+"/"+title_formatted,url_path_1x=domain+path_folder_2+"-1x"+title_formatted,url_path_2x=domain+path_folder_2+"-2x"+title_formatted,url_path_1x={jpeg:[url_path_1x+".jpg",url_path_2x+".jpg"],webp:[url_path_1x+".webp",url_path_2x+".webp"]};return"preview"==path_folder_2&&(url_path_1x.lite=domain+"preview-lt"+title_formatted+".webp"),url_path_1x},VectorStock.newPreviewImagePath=function(vector_id,vector_title){for(var domain=VectorStock.domain,id_formatted=String(vector_id),id_length=id_formatted.length;id_length<4;)id_formatted="0"+id_formatted,id_length++;var title_formatted="string"==typeof vector_title&&0<vector_title.length?(title_formatted=(title_formatted=String(vector_title).toLowerCase()+"-vector-"+vector_id).replace(/[^\w\s\-]+/g,"")).replace(/[\s\-]+/g,"-"):String(vector_id),domain="https:"+domain+"/i/",title_formatted="/"+id_formatted.substring(id_length-4,id_length-2)+"/"+id_formatted.substring(id_length-2,id_length)+"/"+title_formatted;return{avif:[domain+"500p"+title_formatted+".avif",domain+"750p"+title_formatted+".avif"],webp:[domain+"500p"+title_formatted+".webp",domain+"750p"+title_formatted+".webp"],jpeg:[domain+"500p"+title_formatted+".jpg"]}},VectorStock.getPictureElement=function(vector_id,vector_title,thumbnail,preview_width,preview_height){var picture=$('<picture><source type="image/avif"><source type="image/webp"><img loading="lazy"></picture>'),preview_ratio=(preview_width&&preview_height&&(picture.data("width",preview_width),picture.data("height",preview_height),thumbnail||picture.addClass(1<(preview_ratio=preview_width/preview_height)?"landscape":preview_ratio<1?"portrait":"square")),VectorStock.newPreviewImagePath(vector_id,vector_title)),sizes=(thumbnail?($("source:nth-child(1)",picture).attr("srcset",preview_ratio.avif[0]),$("source:nth-child(2)",picture).attr("srcset",preview_ratio.webp[0])):(sizes="(max-width: 1046px) 225px, (min-width: 1047px) and (min-device-pixel-ratio: 2) 300px, (min-width: 1047px) 250px",$("source:nth-child(1)",picture).attr("srcset",preview_ratio.avif[1]+" 750w, "+preview_ratio.avif[0]+" 500w").attr("sizes",sizes),$("source:nth-child(2)",picture).attr("srcset",preview_ratio.webp[1]+" 750w, "+preview_ratio.webp[0]+" 500w").attr("sizes",sizes)),$("img",picture).attr("src",preview_ratio.jpeg[0]));return"string"==typeof vector_title&&0<vector_title.length&&sizes.attr("title",vector_title).attr("alt",vector_title+" vector image"),picture},VectorStock.vectorURL=function(vector_id,vector_title,is_pending){var param1=VectorStock.isGerman()?"/de/lizenzfreie-vektor/":"/royalty-free-vector/",param2=VectorStock.isGerman()?"vektor":"vector";return VectorStock.vectorURL=function(vector_id,vector_title,is_pending){var path=is_pending?"/upload/":param1;return vector_title&&("string"==typeof vector_title||vector_title instanceof String)?path+=(vector_title.toLowerCase()+"-"+param2+"-"+vector_id).replace(/[^\w\s\-]+/g,"").replace(/[\s\-]+/g,"-"):path+=param2+"-"+vector_id,path},VectorStock.vectorURL(vector_id,vector_title,is_pending)},VectorStock.formatCredits=function(source,target,max,min,currency){max=max||Infinity,min=min||0,currency=!1!==currency;return amount=Number(source.val()),error=!0,display=0,amount===+amount&&amount===(0|amount)&&(error=amount<min||amount>max,display=VectorStock.formatCommas(amount)),currency&&(display="<small>$</small>"+display+".00"),target.html(display),target.parent().toggleClass("error",error),source.parent().toggleClass("error",error),error},VectorStock.formatURL=function(url_string){return url_string=(url_string=(url_string=url_string.replace(/[^\w\s\-=&\?\/]+/g,"")).replace(/[\s]+/g,"-")).toLowerCase()},VectorStock.rgbToHex=function(r,g,b){var componentToHex=function(c){var hex=c.toString(16);return 1==hex.length?"0"+hex:hex};return"#"+componentToHex(r)+componentToHex(g)+componentToHex(b)},VectorStock.queryStringToParams=function(query_string){var query_pairs=$.trimString(query_string).split("&"),query_params={};if(""!==query_pairs[0])for(var i=0;i<query_pairs.length;i++){var pair=query_pairs[i].split("=");query_params[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return query_params},VectorStock.setupTabs=function(){var selectTab=function(tab_new){var id_tab,group;tab_new.attr("disabled")||(id_tab=tab_new.attr("data-tab-id"),group=tab_new.closest(".tabs"),tab_old=tab_new.siblings(".selected").removeClass("selected"),sec_old=$("section.selected",group).removeClass("selected"),sec_new=$("section[data-tab-id="+id_tab+"]",group).addClass("selected"),tab_new.addClass("selected"),group.trigger("switch",[sec_new,sec_old]))};$(".tabs").each(function(){$("> nav li",this).on("click",function(){selectTab($(this))}).on("selectTab",function(){selectTab($(this))})})},VectorStock.setupFormElements=function(){var doc=$(document);doc.on("click",".navback",function(){history.go(-1)}),doc.on("mouseup",".checkbox",function(){$(this).hasClass("disabled")||$(this).toggleClass("checked")}),doc.on("disable","button",function(event,is_loading,loading_label){var value_orig,label_orig,loading_icon,title,value,wrap,button=$(this),is_master=button.hasClass("master");button.prop("disabled",!0),is_loading&&(is_master?(title=$(".title",button),value=$(".value",button),wrap=$('<span class="wrapper" />').hide(),value.wrapInner(wrap),label_orig=title.text(),title.text(loading_label||"LOADING..."),loading_icon=value.loadingIcon("medium")):(value_orig=button.text(),button.get(0).lastChild.nodeValue=loading_label||value_orig,loading_icon=button.loadingIcon("small"),button.addClass("loading"))),$(this).one("enable",function(){button.prop("disabled",!1),loading_icon&&(is_master?($(".wrapper",value).contents().unwrap(),title.text(label_orig)):(button.text(value_orig),button.removeClass("loading")),loading_icon.remove())})})},VectorStock.setupSharingButtons=function(){$("button.smedia").each(function(){var button=$(this),type=(button.closest(".share"),parseInt(button.attr("data-tally")),button.hasClass("googleplus")?"googleplus":button.hasClass("facebook")?"facebook":button.hasClass("twitter")?"twitter":button.hasClass("pinterest")?"pinterest":button.hasClass("linkedin")?"linkedin":""),popupWindow=function(url,width,height){var popup_int,popup=window.open(url,"share-dialog-"+type,"width="+width+",height="+height+",resizable=1,toolbar=0,menubar=0,status=0,location=0");button.data("static")||(popup_int=setInterval(function(){popup.closed&&(checkTally(),clearInterval(popup_int))},5e3))},checkTally=function(){};button.on("click",function(){var url=$('meta[property="og:url"]').attr("content"),img=$('meta[property="og:image"]').attr("content"),title=$('meta[property="og:title"]').attr("content"),desc=$('meta[property="og:description"]').attr("content");switch(type){case"googleplus":var params="url="+encodeURIComponent(url);popupWindow("https://plus.google.com/share?"+params,600,450),type="Google";break;case"facebook":params=["s=100","p[url]="+encodeURIComponent(url),"p[images][0]="+encodeURIComponent(img),"p[title]="+escape("VectorStock: "+title),"p[summary]="+escape(desc)];popupWindow("https://www.facebook.com/sharer.php?"+params.join("&"),626,326);break;case"twitter":params="text="+escape(title)+escape(" from VectorStock:\n")+encodeURIComponent(url);popupWindow("https://x.com/intent/tweet?"+params,600,256)}VectorStock.track("event","Share",{type:type.toTitleCase()+" (Custom)",url:window.location.pathname})})})},VectorStock.setupFacebookLike=function(){$("#fb-root").length||($("body").append('<div id="fb-root" />'),VectorStock.loadJS.load(VectorStock.js.facebook))},VectorStock.goToURL=function(url,replace,dontResolve){try{if(VectorStock.isGerman()&&!dontResolve&&("/"==(url=String(url)).charAt(0)||"https://www.vectorstock.com/"==url.slice(0,28)))return void VectorStock.resolveURL(url,function(path){VectorStock.goToURL(path,replace,!0)});var anchor=document.createElement("a"),pathname=(anchor.href=url,("/"==anchor.pathname[0]?"":"/")+anchor.pathname),event=$.Event("redirect");$(window).trigger(event,[url,pathname]),event.isDefaultPrevented()||(replace?window.location.replace(url):window.location.assign(url))}catch(error){VectorStock.log({source:"CustomError",issue:"Go to URL failed",detail:{url:url}})}},VectorStock.preloadImages=function(images){for(var img=new Image,i=images.length;i--;)img.src=images[i]},VectorStock.loadImage=function(image_src){var event_load,event_error,INSTANCE={},image=new Image;return INSTANCE.then=function(callback){return event_load=callback,INSTANCE},INSTANCE["catch"]=function(callback){return event_error=callback,INSTANCE},image.onload=function(){event_load&&setTimeout(function(){event_load.apply(image,[image_src])},10)},image.onerror=function(error){event_error&&event_error.apply(image,[error])},image.src=image_src,INSTANCE},VectorStock.addToCart=function(vector_id,license,callback){VectorStock.isNumeric(vector_id)&&("function"==typeof license&&(callback=license,license=null),$.get("/api/cart/add/"+vector_id+(license?"/"+license:""),function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.addToSyncedCart(response.id,response.license)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total),callback&&callback(response)},"json"),VectorStock.track("event","Add To Cart",{id:vector_id}))},VectorStock.removeFromCart=function(vector_id,callback){VectorStock.isNumeric(vector_id)&&$.get("/api/cart/remove/"+vector_id,function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.removeFromSyncedCart(response.id)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total),callback&&callback(response)},"json")},VectorStock.updateCartImageLicense=function(vector_id,vector_license){$.get("/api/cart/license/"+vector_id+"/"+vector_license,function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.addToSyncedCart(response.id,response.license,!1)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total)},"json")},VectorStock.emptyCart=function(callback){$.get("/api/cart/empty",function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.emptySyncedCart(response.id)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(0),callback&&callback(response)},"json")},VectorStock.cartSync=function(){VectorStock.userData.isCartSynced()||$.put("/api/cart/sync",{cart_synced:VectorStock.userData.getCartSaved(),cart:VectorStock.userData.getSyncedCart()}).done(function(response){response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.setSyncedCart(response.cart_update,response.cart_hash))})},VectorStock.setupCartSync=function(){window.addEventListener("storage",function(e){try{var sc;"synced_cart"===e.key&&(VectorStock.userData.markCartUpdated(),VectorStock.cart_page&&(sc=JSON.parse(e.newValue)||[],document.title="Your Cart ("+sc.length+") - VectorStock"))}catch(err){}},!1),window.addEventListener("focus",function(e){try{VectorStock.userData.hasCartUpdated()&&VectorStock.setCartTally(VectorStock.userData.reloadSyncedCart())}catch(err){}},!1),VectorStock.cartSync()},VectorStock.setupScrollPositionCache=function(){try{var scrollPosition,ScrollPositionKey="scrollPosition_"+document.location.pathname;window.onbeforeunload=function(){try{var scrollPosition=parseInt($(document).scrollTop());120<=scrollPosition&&sessionStorage.setItem(ScrollPositionKey,scrollPosition.toString())}catch(e){}},!sessionStorage[ScrollPositionKey]||(scrollPosition=parseInt(sessionStorage.getItem(ScrollPositionKey)))&&($(document).scrollTop(scrollPosition),sessionStorage.removeItem(ScrollPositionKey))}catch(e){}},VectorStock.setCartTally=function(tally,callback){var mobile_cart,login_cart,extras,list,account_cart;!tally&&0!==tally||(account_cart=$("#sb_account li[data-id=cart]"),login_cart=$("#sb_login li[data-id=cart]"),mobile_cart=$('#mobilenav-menu li[data-id="cart"]'),(account_cart.length||login_cart.length||mobile_cart.length||tally)&&(0===(account_cart=account_cart).length&&($("#nav_sidebar > nav li[data-tab-id=login]").trigger("selectTab"),0==(account_cart=login_cart).length&&(login_cart=$("#sb_login"),list=(extras=$(".extras",login_cart)).length?$("ul",extras):(extras=$('<div class="extras" />').appendTo(login_cart),$("<h6>Account</h6>").appendTo(extras),$("<ul />").appendTo(extras)),account_cart=$('<li data-id="cart"><a href="/cart"><span class="title">Cart</span><span class="value empty"><var data-value="0">0</var></span><span class="icon"></span></a></li>').appendTo(list),extras.hide().slideDown(500,"easeOutCubic"))),account_cart.trigger("setTally",tally),account_cart=mobile_cart,tally=VectorStock.formatCommas(tally),0===account_cart.length&&(list=$("#mobilenav-menu ul").eq(1),account_cart=$('<li data-id="cart"><a href="/cart">Cart <em></em></a></li>').appendTo(list)),$("em",account_cart).text("("+tally+")")))},VectorStock.likeImage=function(vector_id,callback){$.get("/api/likes/add/"+vector_id,function(response){callback&&callback(response)},"json")},VectorStock.unlikeImage=function(vector_id,callback){$.get("/api/likes/remove/"+vector_id,function(response){callback&&callback(response)},"json")},VectorStock.updateTally=function(type,offset){$("#sb_account li[data-id="+type+"]").trigger("updateTally",offset)},VectorStock.setTally=function(type,tally){$("#mobilenav-menu li[data-id="+type+"] a em").text("("+tally+")"),$("#sb_account li[data-id="+type+"]").trigger("setTally",tally)},VectorStock.updateFollowingCount=function(offset){var item_sb=$('#sb_account li[data-id="following"]'),item_mb=$('#mobilenav-menu li[data-id="artists"] em'),tally=parseInt($("a .value var",item_sb).data("value"))+offset;item_sb.trigger("setTally",tally),item_mb.length&&item_mb.html("("+tally+")")},VectorStock.addToFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateFollowingCount(1),$.put("/api/following/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.followArtist(response.artist_id):VectorStock.updateFollowingCount(-1),callback&&callback(response)}).fail(function(){VectorStock.updateFollowingCount(-1),callback&&callback()}))},VectorStock.removeFromFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateFollowingCount(-1),$["delete"]("/api/following/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.unfollowArtist(response.artist_id):VectorStock.updateFollowingCount(1),callback&&callback(response)}).fail(function(){VectorStock.updateFollowingCount(1),callback&&callback()}))},VectorStock.updateNotFollowingCount=function(offset){var item_sb=$('#sb_account li[data-id="hidden-artists"]'),item_mb=$('#mobilenav-menu li[data-id="hidden-artists"] em'),tally=parseInt($("a .value var",item_sb).data("value"))+offset;item_sb.trigger("setTally",tally),item_mb.length&&item_mb.html("("+tally+")")},VectorStock.addToNotFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateNotFollowingCount(1),$.put("/api/hidden-artists/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.notFollowArtist(response.artist_id):VectorStock.updateNotFollowingCount(-1),callback&&callback(response)}).fail(function(){VectorStock.updateNotFollowingCount(-1),callback&&callback()}))},VectorStock.removeFromNotFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateNotFollowingCount(-1),$["delete"]("/api/hidden-artists/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.unNotFollowArtist(response.artist_id):VectorStock.updateNotFollowingCount(1),callback&&callback(response)}).fail(function(){VectorStock.updateNotFollowingCount(1),callback&&callback()}))},VectorStock.isLoggedIn=function(){return!!document.head.querySelector("meta[name=user-hash]")},VectorStock.trackPurchase=function(transaction_type,transaction_id,transaction_cost,user_email,user_country,provider_type,provider_id,transaction_currency,image_license){var transaction_name,transaction_category,transaction_price=transaction_cost,transaction_currency=transaction_currency||"USD",transaction_quantity="1";switch(transaction_type.toLowerCase()){case"credits":transaction_price="1",transaction_quantity=transaction_cost,transaction_name=provider_type+" Credit Purchase",transaction_category="VS Currency";break;case"design-job":transaction_name=provider_type+" Customization Purchase",transaction_category="VS Single-Image";break;case"subscription":transaction_name=provider_type+" Subscription Purchase",transaction_category="VS Subscription";break;case"singleimage":case"single-image":transaction_name=provider_type+" Single-Image Purchase",transaction_category="VS Single-Image"}try{window.gtag?gtag("event","purchase",{transaction_id:transaction_id,affiliation:"VectorStock Media",value:transaction_cost,currency:transaction_currency,tax:"na",shipping:0,items:[{id:provider_id,name:transaction_name,brand:provider_type,category:transaction_category,quantity:transaction_quantity,price:transaction_price}]}):window.ga&&(ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:transaction_id,affiliation:"VectorStock Media",revenue:transaction_cost,shipping:0,tax:"na"}),ga("ecommerce:addItem",{id:transaction_id,name:transaction_name,sku:provider_id,category:transaction_category,price:transaction_price,quantity:transaction_quantity}),ga("ecommerce:send"))}catch(err){window.console&window.console.log&&console.log(err)}VectorStock.admitadTracking(transaction_name,transaction_price,transaction_currency,transaction_quantity,transaction_id,transaction_type.toLowerCase(),image_license)},VectorStock.setupPlaceholderSupport=function(){"placeholder"in document.createElement("input")||($(document).on("focus","input, textarea",function(){$(this).isEmpty()&&$(this).removeClass("empty").val("")}).on("blur","input, textarea",function(){var placeholder;$(this).isEmpty()&&(placeholder=$(this).attr("placeholder")||"",$(this).removeClass("empty").val(placeholder))}),$("input, textarea").each(function(){var placeholder=$(this).attr("placeholder")||"";""==$(this).val()&&""!=placeholder?$(this).addClass("empty").val(placeholder):$(this).val()==placeholder&&$(this).addClass("empty")}))},VectorStock.scrollTo=function(target,duration,easing,callback){try{var cancelScroll,y_target=isNaN(target)?target.offset().top:target,y_position=$("body").scrollTop()||$("html").scrollTop(),duration=isNaN(duration)?500:duration,callback="function"==typeof easing?easing:callback,easing=easing||"easeInOutQuad",doc_height=$(document).height(),win_height=$(window).height();win_height<doc_height&&y_position!==y_target&&(doc_height<y_target+win_height&&(y_target=doc_height-win_height),cancelScroll=function(){$("html, body").stop(),$(window).off("mousewheel",cancelScroll),callback&&callback()},$(window).on("mousewheel",cancelScroll),$("html, body").animate({scrollTop:y_target},duration,easing,cancelScroll))}catch(e){}},VectorStock.downloadVector=function(vector_id,preferred_filetype){$.get("/api/vector/download/"+vector_id,function(response){var url_download;1==response.success?(url_download=response.url,preferred_filetype&&response.file_urls&&response.file_urls[preferred_filetype]&&(url_download=response.file_urls[preferred_filetype]),VectorStock.goToURL(url_download)):response.error_code!==undefined&&"fair_use"==response.error_code?alert(response.error_message):VectorStock.isLoggedIn()||new SignupBox({screen:"login",sidebar:"login"})},"json")},VectorStock.sanitizeInput=function(value){return"string"==typeof value?value:$(value).text()},VectorStock.isNumeric=function(value){return!isNaN(parseFloat(value))&&isFinite(value)},VectorStock.browserSupport=function(feature){switch(feature){case"localStorage":try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}case"sessionStorage":try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(e){return!1}default:return null}},VectorStock.isMobile=function(){var ua,is_mobile=!1;try{is_mobile=!!document.head.querySelector("[name~=mobile-browser]")||(ua=window.navigator.userAgent.toLowerCase(),/mobile|midp/i.test(ua))}catch(err){console.error(err)}return VectorStock.isMobile=function(){return is_mobile},is_mobile},VectorStock.hashString=function(str){var i,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash},VectorStock.abbreviateNumber=function(value){var newValue=parseInt(value);if(1e3<=parseInt(value)){for(var suffixNum=Math.floor((""+value).length/3),shortValue="",precision=2;1<=precision;precision--)if(((shortValue=parseFloat((0!=suffixNum?value/Math.pow(1e3,suffixNum):value).toPrecision(precision)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break;newValue=(shortValue=shortValue%1!=0?shortValue.toFixed(1):shortValue)+["","k","m","b","t"][suffixNum]}return newValue},VectorStock.floorDecimal=function(total){var base=10;if(total<=base)return total;for(;;){if(total<10*base){total=Math.floor(total/base)*base;break}base*=10}return total},VectorStock.admitadTracking=function(product_id,price,currency_code,quantity,order_number,transaction_type,image_license){try{if(VectorStock.oldBrowser())return;if("design-job"==transaction_type)return;if(("singleimage"==transaction_type||"single-image"==transaction_type)&&0<parseInt(image_license))return;if((ADMITAD=window.ADMITAD||{}).Invoice=ADMITAD.Invoice||{},!getSourceCookie(cookie_name))return;getSourceCookie(cookie_name)!=deduplication_cookie_value?ADMITAD.Invoice.broker=getSourceCookie(cookie_name):ADMITAD.Invoice.broker="adm",ADMITAD.Invoice.category="1";var orderedItem=[];orderedItem.push({Product:{productID:product_id,category:"1",price:price,priceCurrency:currency_code},orderQuantity:quantity,additionalType:"sale"}),$.post("/api/referral/admitad",{id:order_number}),ADMITAD.Invoice.referencesOrder=ADMITAD.Invoice.referencesOrder||[],ADMITAD.Invoice.referencesOrder.push({orderNumber:order_number,discountCode:null,orderedItem:orderedItem}),ADMITAD.Tracking.processPositions()}catch(err){VectorStock.log({source:"Admitad",issue:"Failed to track purchase",detail:{error:{name:err.name,message:err.message}}})}},VectorStock.setupHeader=function(){$("body > .alert-banner").each(function(){var button_remain,overlay,box,field_email,input_email,but_submit,REGEX_EMAIL,API_URL_UPDATE,API_URL_VALIDATE,email_address,csrf_name,csrf_value,banner=$(this),banner_id=banner.attr("id");function closePopup(){overlay&&(overlay.remove(),overlay=null)}function onClickOverlay(event){overlay&&$(event.target)[0]==overlay[0]&&closePopup()}function showError(message){field_email.addClass("error"),$("p",field_email).remove(),$("<p>"+message+"</p>").appendTo(field_email)}function resetForm(){input_email.prop("disabled",!1).trigger("focus"),but_submit.prop("disabled",!1),$(".label",but_submit).text("Confirm Email Address"),$(".vs_loadicon",but_submit).remove()}function updateEmailAddress(){var request_url,request_params;field_email.removeClass("error"),$("p",field_email).remove(),input_email.val().match(REGEX_EMAIL)?(input_email.prop("disabled",!0),but_submit.prop("disabled",!0).loadingIcon(),$(".label",but_submit).text("Updating Account Email..."),request_url=input_email.val().toLowerCase()===email_address.toLowerCase()?API_URL_VALIDATE:API_URL_UPDATE,request_params={email:input_email.val(),csrf_emailupdate_name:csrf_name,csrf_emailupdate_value:csrf_value},$.put(request_url,request_params).done(function(response){response.success?($(".label",but_submit).text(response.message||"Email Address updated!"),$(".vs_loadicon",but_submit).remove(),$('<span class="icon" />').appendTo(but_submit),banner.remove(),setTimeout(closePopup,3500),VectorStock.track("event","Action",{label:"Bounced Email Address Update",email:request_params.email})):(resetForm(),showError(response&&response.message?response.message:"There was an error with your email address"),response.csrf_update&&(csrf_name=response.csrf_update.csrf_name,csrf_value=response.csrf_update.csrf_value),response.label="Bounced Email Address Update Error",VectorStock.track("event","Action",response))}).fail(function(xhr,text_status,error){0==xhr.status&&(resetForm(),showError("Could not connect to update email address"),response.label="Bounced Email Address Update Failed",VectorStock.track("event","Action",response))})):showError("Invalid email pattern - update and try again")}"banner-email-issue"===banner_id?(REGEX_EMAIL=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,API_URL_UPDATE="/api/account/email/quickupdate",API_URL_VALIDATE="/api/account/email/validate",email_address=banner.data("email-address"),csrf_name=banner.data("csrf-name"),csrf_value=banner.data("csrf-value"),banner.on("click",function(){overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),box=$('<div id="box-email-issue"><div class="wrap"><div class="header"><h4>Account Email Issue</h4></div><div class="body"><p>We tried to send you an email but it was rejected by your mail server.</p><p>This can happen for a number of reasons, such as the address does not exist or the email was marked as SPAM.</p><p>Please check the email address we have listed for you below and adjust if necessary:</p><form><fieldset name="email"><input type="email" name="email_address" placeholder="Email address…"></fieldset><button type="button"><span class="label">Confirm Email Address</span></button></form></div></div></div>').appendTo(overlay),setTimeout(function(){box.addClass("reveal")}),field_email=$('fieldset[name="email"]',box),input_email=$('input[type="email"]',field_email),but_submit=$("button",box),input_email.val(email_address),setTimeout(function(){input_email.trigger("focus")},500),input_email.on("keydown",function(event){13==event.keyCode&&(updateEmailAddress(),event.preventDefault())}),but_submit.on("click",updateEmailAddress)})):"banner-lang-switch"===banner_id?(banner_id=$('button[data-action="switch"]',banner),button_remain=$('button[data-action="remain"]',banner),banner_id.on("click",function(){VectorStock.goToURL(banner.data("url"),undefined,!0)}),button_remain.on("click",function(){var expirationDate=new Date,expirationDate=(expirationDate.setMonth(expirationDate.getMonth()+6),expirationDate.toUTCString());document.cookie="lang_set=1; expires="+expirationDate+"; path=/",banner.remove()})):banner.on("click",function(){VectorStock.goToURL(banner.data("url"))})}),$("#searchbox").each(function(){var nav_items=$("body > header .grid ul li a"),link_all=nav_items.eq(0),link_free=nav_items.eq(1),nav_items=(VectorStock.search_box=SearchBox($(this)),VectorStock.search_box.on("change",function(params){if(VectorStock.search_box.mode==SearchBox.MODE_STATIC){var data=new SearchResultData(params);try{if(VectorStock.isGerman()){if(data.url.match(/^\/de\/lizenzfreie-vektoren\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vektoren$/)&&"/de/coronavirus"!=window.location.pathname)return void VectorStock.goToURL("/de/coronavirus",undefined,!0);if(data.url.match(/^\/de\/lizenzfreie-vektoren\/(logos?)-vektoren$/)&&"/de/logos"!=window.location.pathname)return void VectorStock.goToURL("/de/logos",undefined,!0);if(data.url.match(/^\/de\/lizenzfreie-vektoren\/(hintergrunde?)-vektoren$/)&&"/de/backgrounds"!=window.location.pathname)return void VectorStock.goToURL("/de/backgrounds",undefined,!0)}else{if(data.url.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/)&&"/coronavirus"!=window.location.pathname)return void VectorStock.goToURL("/coronavirus");if(data.url.match(/^\/royalty-free-vectors\/(logos?)-vectors$/)&&"/logos"!=window.location.pathname)return void VectorStock.goToURL("/logos");if(data.url.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/)&&"/backgrounds"!=window.location.pathname)return void VectorStock.goToURL("/backgrounds")}}catch(e){}VectorStock.goToURL(data.url)}else{var data_all,data_free;params.artists||params.categories||params.similar?(data_all=new SearchResultData({type:SearchResultData.TYPE_BROWSE}),data_free=new SearchResultData({type:SearchResultData.TYPE_FREE}),link_all.parent().addClass("selected"),link_all.attr("href",data_all.url),link_free.parent().removeClass("selected")):(data_all=new SearchResultData($.extend({type:SearchResultData.TYPE_BROWSE},params)),data_free=new SearchResultData($.extend({type:SearchResultData.TYPE_FREE},params)),link_all.attr("href",data_all.url)),link_free.attr("href",data_free.url)}}),$("#search_type").val());nav_items!==SearchResultData.TYPE_BROWSE&&nav_items!==SearchResultData.TYPE_FREE&&VectorStock.search_box.setMode(SearchBox.MODE_STATIC)}),$("body > header nav.top .aside li.account").each(function(){$('button[data-action="signup"]',this).on("click",function(){VectorStock.goToURL("/signup")}),$('button[data-action="login"]',this).on("click",function(){new SignupBox({screen:"login",sidebar:"login"})})});new MenuMobile},VectorStock.setupSidebar=function(){$("#nav_sidebar").each(function(){var scope=$(this),setTally=function(item,value_new){var class_new,tally_new,container=$(".value",item),tally_old=$("var",container).last(),value_old=tally_old.attr("data-value"),value_old=parseInt(value_old)||0,label_new=(value_new=Math.max(value_new,0),VectorStock.abbreviateNumber(value_new));isNaN(label_new)||(label_new=VectorStock.formatCommas(label_new,!0)),value_new!==value_old&&(item.closest("nav").hasClass("primary")?(class_new=value_old<value_new?"increase":"decrease",tally_new=$("<var>"+label_new+"</var>").addClass(class_new).toggleClass("empty",0===value_new).attr("data-value",value_new).appendTo(container),item.addClass("highlight"),setTimeout(function(){tally_old.remove(),tally_new.removeClass(class_new)},25),setTimeout(function(){item.removeClass("highlight")},1e3)):(tally_old.attr("data-value",value_new).text(label_new).addClass("hidden"),setTimeout(function(){tally_old.removeClass("hidden")},25)),value_old=$(".alert",item),0!==value_new||value_old.length?0<value_new&&value_old.length&&(item.removeClass("empty"),value_old.remove()):(item.addClass("empty"),$('<span class="alert" />').prependTo($("a",item))))};$(".textfield",scope).each(function(){var textfield=$(this),fieldset_tf=textfield.closest("fieldset"),input=$("input",textfield);textfield.on("click",function(){input.trigger("focus")}),input.on("focus",function(){fieldset_tf&&fieldset_tf.addClass("focus")}).on("blur",function(){fieldset_tf&&fieldset_tf.removeClass("focus")})}),$(".checkbox label",scope).on("mouseup",function(){$(this).toggleClass("selected")}),$("#sb_signup",scope).each(function(){var tab=$(this);$(".footer button",tab).on("click",function(){VectorStock.goToURL("/signup")})}),$("#sb_login",scope).each(function(){var tab=$(this),form=$("form",tab),login=$("> button",form),credentials_changed=!1,showMessage=($("#vs_username",tab).on("input",function(){credentials_changed=!0}),$("#vs_password",tab).on("input",function(){credentials_changed=!0}),function(message,forgotten){var wrap1,container=$(".message",tab);login.trigger("enable"),0===container.length&&(container=$('<div class="message" />'),wrap1=$('<div class="wrap1" />').appendTo(container),$('<div class="wrap2" />').appendTo(wrap1),login.before(container)),$(".wrap2",container).empty().append('<p class="offset">'+message+"</p>"),forgotten&&$(".wrap2",container).append('<p class="offset"><a href="/request/password">Click here if you&rsquo;d like a reminder...</a></p>'),setTimeout(function(){$("p",container).removeClass("offset")},25)}),matchAutoFillColors=function(){var filled={};try{$("input:-webkit-autofill",form).each(function(){filled[$(this).attr("id")]=!0})}catch(err){}$("input",form).each(function(){var color_txt="",color_bg="";filled[$(this).attr("id")]&&(color_txt=$(this).css("color"),color_bg=$(this).css("backgroundColor")),$(this).css({color:color_txt}),$(this).parent().css({backgroundColor:color_bg})})},checkTransactionsStatus=function(){"/guest-transactions"!==window.location.pathname.toLowerCase()&&$.getJSON("/api/guest-processing").done(function(response){var is_processing;response.success&&(is_processing=!!response.guest_transactions.pending,tab.trigger("updateTransactionsStatus",is_processing),is_processing?setTimeout(checkTransactionsStatus,5e3):tab.trigger("showTransactionsPrompt","Your transaction has been processed and your files are ready for download!"))})};$("button.forgot",tab).on("click",function(){VectorStock.goToURL("/request/password")}),$("input",form).on("blur",matchAutoFillColors),setTimeout(matchAutoFillColors,500),login.on("click",function(event){var params,csrf_name,csrf_value,retried,onDone,onFail,username=$("#vs_username",tab).val(),password=$("#vs_password",tab).val();""==username?showMessage("Missing username..."):""==password?showMessage("Missing password...",!0):credentials_changed&&($(".message",tab).remove(),login.trigger("disable",[!0,"Checking..."]),params={login_user:username,login_password:password},csrf_name=VectorStock.getCSRFName(),csrf_value=VectorStock.getCSRFValue(),csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),retried=credentials_changed=!1,onDone=function(response,textStatus,xhr){var log;1==response.success?(response.profile&&VectorStock.userData.setProfile(response.profile),response.redirect?VectorStock.goToURL(response.redirect):window.location.reload(!0)):(response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value)),response.message?showMessage(response.message,"DISABLED"!==response.error):(showMessage("Unknown server issue - Please try again later",!0),log={username:username,status:textStatus,code:xhr.status,response:JSON.stringify(response),headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue (sidebar) - Missing server message",detail:log})),login.trigger("enable"))},onFail=function(xhr,textStatus,errorThrown){if(400==xhr.status||429==xhr.status){try{var response=JSON.parse(xhr.responseText);if(response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value),!retried))return retried=!0,params.csrf_name=response.csrf_token.csrf_name,params.csrf_value=response.csrf_token.csrf_value,void $.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail);response.message?showMessage(response.message,!0):showMessage("Connection failed - Please try again later",!0)}catch(e){showMessage("Connection failed - Please try again later",!0)}response={username:username,status:textStatus,code:xhr.status,response:xhr.responseText,error:errorThrown,headers:xhr.getAllResponseHeaders()};VectorStock.log({source:"CustomError",issue:"Login issue (sidebar) - Blocked by server",detail:response}),login.trigger("enable")}else 403==xhr.status?(showMessage("Connection failed - Please try again later",!0),response={username:username,status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue (sidebar) - Blocked by firewall",detail:response}),window.location.reload(!0)):(showMessage("Connection failed - Please try again later",!0),response={username:username,status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.log({source:"CustomError",issue:"Login issue (sidebar) - Failed for unknown reason",detail:response}),login.trigger("enable"))},$.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail)),event.preventDefault(),event.stopPropagation()}),$(".alternatives li",tab).each(function(){var item=$(this),link=$("a",item),title=$(".title",link);link.on("click",function(){var title_pre=title.text(),icon=(item.addClass("loading"),title.text("Connecting..."),link.loadingIcon("small"));function restoreLink(){item.removeClass("loading"),title.html(title_pre),icon.remove()}return item.hasClass("gp")?$.get("/api/google/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):restoreLink()},"json"):item.hasClass("fb")&&$.get("/api/facebook/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url,undefined,!0)):restoreLink()},"json"),!1})}),$('.extras li[data-id="transactions"][data-status="processing"]',tab).each(checkTransactionsStatus),tab.on("setTally",".extras li",function(event,value_new){setTally($(this),value_new)}).on("updateTally",".extras li",function(event,value_offset){var value=parseInt($("var",this).attr("data-value"))+value_offset;setTally($(this),value)}).on("addTransactions",function(event,tally,is_processing){var link,extras=$(".extras",tab),item=(extras.length||(extras=$('<div class="extras" />').appendTo(tab),$("<h6>Account</h6>").appendTo(extras),$("<ul />").appendTo(extras)),$('li[data-id="transactions"]',extras)),tally_updated=(item.length?(link=$("a",item),tally_updated=(transactions_var=$(".value var",link)).data("value")+tally,transactions_var.attr("data-value",tally_updated).html(VectorStock.formatCommas(tally_updated))):(transactions_var=$("ul",extras),item=$('<li data-id="transactions" />').appendTo(transactions_var),link=$('<a href="/guest-transactions" />').appendTo(item),$('<span class="title">Transactions</span>').appendTo(link),$('<span class="value"><var data-value="'+tally+'">'+VectorStock.formatCommas(tally)+"</var></span>").appendTo(link)),is_processing&&"processing"!==item.data("status")&&(item.attr("data-status","processing"),link.loadingIcon("small"),checkTransactionsStatus()),$('#mobilenav-menu .group[data-type="account"]')),extras=$("> ul",tally_updated),transactions_var=$('li[data-id="transactions"]',extras);tally_updated.length&&!transactions_var.length&&$('<li data-id="transactions"><a href="/guest-transactions">Transactions</a></li>').appendTo(extras)}).on("updateTransactionsStatus",function(event,is_processing){var status,item=$('.extras li[data-id="transactions"]',tab);item.length&&(item.data("status",status=is_processing?"processing":"").attr("data-status",status),is_processing||$(".vs_loadicon",item).remove())}).on("showTransactionsPrompt",function(event,message){var item=$('.extras li[data-id="transactions"]',tab),prompt=$(".prompt",item);prompt.length?($("p",prompt).html(message),prompt.removeClass("reveal")):(prompt=$('<div class="prompt"><p>'+message+'</p><button type="button">Got it!</button></div>').appendTo(item),$("button",prompt).on("click",function(){prompt.remove()})),setTimeout(function(){prompt.addClass("reveal")},25)})}),$("#sb_account",scope).each(function(){var tab=$(this),form=$("form",tab),logout=$("button",tab);$("li",tab).on("setTally",function(event,value_new){setTally($(this),value_new)}).on("updateTally",function(event,value_offset){var value=parseInt($("var",this).attr("data-value"))+value_offset;setTally($(this),value)}),logout.on("click",function(){VectorStock.userData.destroy(!0),form.trigger("submit")})})})},VectorStock.setupFooter=function(){var sel_legals=$("#legals");sel_legals.length&&(sel_legals.on("change",function(){var path=$("option:checked",this).val();path&&VectorStock.goToURL(path,undefined,!0)}),sel_legals.dropdown&&sel_legals.dropdown({theme:"dark"}))},$("html").addClass("js"),$(function(){VectorStock.userData=UserData(),VectorStock.setupHeader(),VectorStock.setupSidebar(),VectorStock.setupFooter(),VectorStock.setupTabs(),VectorStock.setupFormElements(),VectorStock.setupScrollPositionCache(),VectorStock.setupPlaceholderSupport()});